<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>BigDeal@blogs</title>
  
  <subtitle>è®°å½•å­¦ä¹ ä¸­çš„é—®é¢˜</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://github.com/luwenchun/luwenchun.github.io/"/>
  <updated>2019-02-18T08:04:15.862Z</updated>
  <id>https://github.com/luwenchun/luwenchun.github.io/</id>
  
  <author>
    <name>å¢æ–‡æ˜¥</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>React v16.3ä¹‹åçš„ç”Ÿå‘½å‘¨æœŸ</title>
    <link href="https://github.com/luwenchun/luwenchun.github.io/2019/01/10/47React%20v16.3%E4%B9%8B%E5%90%8E%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/"/>
    <id>https://github.com/luwenchun/luwenchun.github.io/2019/01/10/47React v16.3ä¹‹åçš„ç”Ÿå‘½å‘¨æœŸ/</id>
    <published>2019-01-09T16:00:00.000Z</published>
    <updated>2019-02-18T08:04:15.862Z</updated>
    
    <content type="html"><![CDATA[<h2 id="React-v16-4-çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#React-v16-4-çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="React v16.4 çš„ç”Ÿå‘½å‘¨æœŸ"></a>React v16.4 çš„ç”Ÿå‘½å‘¨æœŸ</h2><blockquote><p>React v16.4 çš„ç”Ÿå‘½å‘¨æœŸå›¾</p></blockquote><p><img src="https:////upload-images.jianshu.io/upload_images/5287253-82f6af8e0cc9012b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1000/format/webp" alt="img"></p><p>React v16.4 çš„ç”Ÿå‘½å‘¨æœŸ</p><h3 id="å˜æ›´ç¼˜ç”±"><a href="#å˜æ›´ç¼˜ç”±" class="headerlink" title="å˜æ›´ç¼˜ç”±"></a>å˜æ›´ç¼˜ç”±</h3><p>åŸæ¥ï¼ˆReact v16.0å‰ï¼‰çš„ç”Ÿå‘½å‘¨æœŸåœ¨React v16æ¨å‡ºçš„<a href="https://zhuanlan.zhihu.com/p/26027085" target="_blank" rel="noopener">Fiber</a>ä¹‹åå°±ä¸åˆé€‚äº†ï¼Œå› ä¸ºå¦‚æœè¦å¼€å¯async renderingï¼Œåœ¨renderå‡½æ•°ä¹‹å‰çš„æ‰€æœ‰å‡½æ•°ï¼Œéƒ½æœ‰å¯èƒ½è¢«æ‰§è¡Œå¤šæ¬¡ã€‚</p><p>åŸæ¥ï¼ˆReact v16.0å‰ï¼‰çš„ç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›æ˜¯åœ¨renderå‰æ‰§è¡Œçš„å‘¢ï¼Ÿ</p><ul><li>componentWillMount</li><li>componentWillReceiveProps</li><li>shouldComponentUpdate</li><li>componentWillUpdate</li></ul><p>å¦‚æœå¼€å‘è€…å¼€äº†async renderingï¼Œè€Œä¸”åˆåœ¨ä»¥ä¸Šè¿™äº›renderå‰æ‰§è¡Œçš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•åšAJAXè¯·æ±‚çš„è¯ï¼Œé‚£AJAXå°†è¢«æ— è°“åœ°å¤šæ¬¡è°ƒç”¨ã€‚ã€‚ã€‚æ˜æ˜¾ä¸æ˜¯æˆ‘ä»¬æœŸæœ›çš„ç»“æœã€‚è€Œä¸”åœ¨componentWillMounté‡Œå‘èµ·AJAXï¼Œä¸ç®¡å¤šå¿«å¾—åˆ°ç»“æœä¹Ÿèµ¶ä¸ä¸Šé¦–æ¬¡renderï¼Œè€Œä¸”componentWillMountåœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“ä¹Ÿä¼šè¢«è°ƒç”¨åˆ°ï¼ˆå½“ç„¶ï¼Œä¹Ÿè®¸è¿™æ˜¯é¢„æœŸçš„ç»“æœï¼‰ï¼Œè¿™æ ·çš„IOæ“ä½œæ”¾åœ¨componentDidMounté‡Œæ›´åˆé€‚ã€‚</p><p>ç¦æ­¢ä¸èƒ½ç”¨æ¯”åŠå¯¼å¼€å‘è€…ä¸è¦è¿™æ ·ç”¨çš„æ•ˆæœæ›´å¥½ï¼Œæ‰€ä»¥é™¤äº†shouldComponentUpdateï¼Œå…¶ä»–åœ¨renderå‡½æ•°ä¹‹å‰çš„æ‰€æœ‰å‡½æ•°ï¼ˆcomponentWillMountï¼ŒcomponentWillReceivePropsï¼ŒcomponentWillUpdateï¼‰éƒ½è¢«getDerivedStateFromPropsæ›¿ä»£ã€‚</p><p>ä¹Ÿå°±æ˜¯ç”¨ä¸€ä¸ªé™æ€å‡½æ•°getDerivedStateFromPropsæ¥å–ä»£è¢«deprecateçš„å‡ ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œå°±æ˜¯å¼ºåˆ¶å¼€å‘è€…åœ¨renderä¹‹å‰åªåšæ— å‰¯ä½œç”¨çš„æ“ä½œï¼Œè€Œä¸”èƒ½åšçš„æ“ä½œå±€é™åœ¨æ ¹æ®propså’Œstateå†³å®šæ–°çš„state</p><p>React v16.0åˆšæ¨å‡ºçš„æ—¶å€™ï¼Œæ˜¯å¢åŠ äº†ä¸€ä¸ªcomponentDidCatchç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œè¿™åªæ˜¯ä¸€ä¸ªå¢é‡å¼ä¿®æ”¹ï¼Œå®Œå…¨ä¸å½±å“åŸæœ‰ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼›ä½†æ˜¯ï¼Œåˆ°äº†React v16.3ï¼Œå¤§æ”¹åŠ¨æ¥äº†ï¼Œå¼•å…¥äº†ä¸¤ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚</p><h3 id="æ–°å¼•å…¥äº†ä¸¤ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼šgetDerivedStateFromPropsï¼ŒgetSnapshotBeforeUpdate"><a href="#æ–°å¼•å…¥äº†ä¸¤ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼šgetDerivedStateFromPropsï¼ŒgetSnapshotBeforeUpdate" class="headerlink" title="æ–°å¼•å…¥äº†ä¸¤ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼šgetDerivedStateFromPropsï¼ŒgetSnapshotBeforeUpdate"></a>æ–°å¼•å…¥äº†ä¸¤ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼š<code>getDerivedStateFromProps</code>ï¼Œ<code>getSnapshotBeforeUpdate</code></h3><h4 id="getDerivedStateFromProps"><a href="#getDerivedStateFromProps" class="headerlink" title="getDerivedStateFromProps"></a>getDerivedStateFromProps</h4><p><code>getDerivedStateFromProps</code>æœ¬æ¥ï¼ˆReact v16.3ä¸­ï¼‰æ˜¯åªåœ¨åˆ›å»ºå’Œæ›´æ–°ï¼ˆç”±çˆ¶ç»„ä»¶å¼•å‘éƒ¨åˆ†ï¼‰ï¼Œå¦‚æœä¸æ˜¯ç”±çˆ¶ç»„ä»¶å¼•å‘ï¼Œé‚£ä¹ˆgetDerivedStateFromPropsä¹Ÿä¸ä¼šè¢«è°ƒç”¨ï¼Œå¦‚è‡ªèº«setStateå¼•å‘æˆ–è€…forceUpdateå¼•å‘ã€‚</p><blockquote><p>React v16.3 çš„ç”Ÿå‘½å‘¨æœŸå›¾</p></blockquote><p><img src="https:////upload-images.jianshu.io/upload_images/5287253-ccb5d35ca1defefc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1000/format/webp" alt="img"></p><p>React v16.3</p><p>è¿™æ ·çš„è¯ç†è§£èµ·æ¥æœ‰ç‚¹ä¹±ï¼Œåœ¨React v16.4ä¸­æ”¹æ­£äº†è¿™ä¸€ç‚¹ï¼Œè®©getDerivedStateFromPropsæ— è®ºæ˜¯Mountingè¿˜æ˜¯Updatingï¼Œä¹Ÿæ— è®ºæ˜¯å› ä¸ºä»€ä¹ˆå¼•èµ·çš„Updatingï¼Œå…¨éƒ¨éƒ½ä¼šè¢«è°ƒç”¨ï¼Œå…·ä½“å¯çœ‹React v16.4 çš„ç”Ÿå‘½å‘¨æœŸå›¾ã€‚</p><blockquote><p>React v16.4åçš„getDerivedStateFromProps</p></blockquote><p><strong>static getDerivedStateFromProps(props, state)</strong> åœ¨ç»„ä»¶åˆ›å»ºæ—¶å’Œæ›´æ–°æ—¶çš„renderæ–¹æ³•ä¹‹å‰è°ƒç”¨ï¼Œå®ƒåº”è¯¥è¿”å›ä¸€ä¸ªå¯¹è±¡æ¥æ›´æ–°çŠ¶æ€ï¼Œæˆ–è€…è¿”å›nullæ¥ä¸æ›´æ–°ä»»ä½•å†…å®¹ã€‚</p><h4 id="getSnapshotBeforeUpdate"><a href="#getSnapshotBeforeUpdate" class="headerlink" title="getSnapshotBeforeUpdate"></a>getSnapshotBeforeUpdate</h4><p><strong>getSnapshotBeforeUpdate()</strong> è¢«è°ƒç”¨äºrenderä¹‹åï¼Œå¯ä»¥è¯»å–ä½†æ— æ³•ä½¿ç”¨DOMã€‚å®ƒä½¿æ‚¨çš„ç»„ä»¶å¯ä»¥åœ¨å¯èƒ½æ›´æ”¹ä¹‹å‰ä»DOMæ•è·ä¸€äº›ä¿¡æ¯ï¼ˆä¾‹å¦‚æ»šåŠ¨ä½ç½®ï¼‰ã€‚æ­¤ç”Ÿå‘½å‘¨æœŸè¿”å›çš„ä»»ä½•å€¼éƒ½å°†ä½œä¸ºå‚æ•°ä¼ é€’ç»™componentDidUpdate()ã€‚</p><p>å®˜ç½‘ç»™çš„ä¾‹å­ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">class ScrollingList extends React.Component &#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    super(props);</span><br><span class="line">    this.listRef = React.createRef();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  getSnapshotBeforeUpdate(prevProps, prevState) &#123;</span><br><span class="line">    //æˆ‘ä»¬æ˜¯å¦è¦æ·»åŠ æ–°çš„ items åˆ°åˆ—è¡¨?</span><br><span class="line">    // æ•æ‰æ»šåŠ¨ä½ç½®ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥ç¨åè°ƒæ•´æ»šåŠ¨.</span><br><span class="line">    if (prevProps.list.length &lt; this.props.list.length) &#123;</span><br><span class="line">      const list = this.listRef.current;</span><br><span class="line">      return list.scrollHeight - list.scrollTop;</span><br><span class="line">    &#125;</span><br><span class="line">    return null;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidUpdate(prevProps, prevState, snapshot) &#123;</span><br><span class="line">    //å¦‚æœæˆ‘ä»¬æœ‰snapshotå€¼, æˆ‘ä»¬å·²ç»æ·»åŠ äº† æ–°çš„items.</span><br><span class="line">    // è°ƒæ•´æ»šåŠ¨ä»¥è‡³äºè¿™äº›æ–°çš„items ä¸ä¼šå°†æ—§itemsæ¨å‡ºè§†å›¾ã€‚</span><br><span class="line">    // (è¿™è¾¹çš„snapshotæ˜¯ getSnapshotBeforeUpdateæ–¹æ³•çš„è¿”å›å€¼)</span><br><span class="line">    if (snapshot !== null) &#123;</span><br><span class="line">      const list = this.listRef.current;</span><br><span class="line">      list.scrollTop = list.scrollHeight - snapshot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div ref=&#123;this.listRef&#125;&gt;&#123;/* ...contents... */&#125;&lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;React-v16-4-çš„ç”Ÿå‘½å‘¨æœŸ&quot;&gt;&lt;a href=&quot;#React-v16-4-çš„ç”Ÿå‘½å‘¨æœŸ&quot; class=&quot;headerlink&quot; title=&quot;React v16.4 çš„ç”Ÿå‘½å‘¨æœŸ&quot;&gt;&lt;/a&gt;React v16.4 çš„ç”Ÿå‘½å‘¨æœŸ&lt;/h2&gt;&lt;blockquote&gt;

      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ç†è§£å‰ç«¯æµ</title>
    <link href="https://github.com/luwenchun/luwenchun.github.io/2018/12/30/46%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E5%89%8D%E7%AB%AF%E6%B5%81/"/>
    <id>https://github.com/luwenchun/luwenchun.github.io/2018/12/30/46æ·±å…¥ç†è§£å‰ç«¯æµ/</id>
    <published>2018-12-29T16:00:00.000Z</published>
    <updated>2019-02-18T08:04:15.861Z</updated>
    
    <content type="html"><![CDATA[<h2 id="JSæ ¸å¿ƒæŒ‡å—å¿…çœ‹"><a href="#JSæ ¸å¿ƒæŒ‡å—å¿…çœ‹" class="headerlink" title="JSæ ¸å¿ƒæŒ‡å—å¿…çœ‹"></a>JSæ ¸å¿ƒæŒ‡å—å¿…çœ‹</h2><p><a href="https://github.com/InterviewMap/CS-Interview-Knowledge-Map/blob/master/JS/JS-ch.md">https://github.com/InterviewMap/CS-Interview-Knowledge-Map/blob/master/JS/JS-ch.md</a></p><h2 id="Promiseå®ç°åŸç†ï¼ˆé™„æºç ï¼‰"><a href="#Promiseå®ç°åŸç†ï¼ˆé™„æºç ï¼‰" class="headerlink" title="Promiseå®ç°åŸç†ï¼ˆé™„æºç ï¼‰"></a>Promiseå®ç°åŸç†ï¼ˆé™„æºç ï¼‰</h2><p><a href="https://www.jianshu.com/p/43de678e918a" target="_blank" rel="noopener">https://www.jianshu.com/p/43de678e918a</a></p><h2 id="Callback-Promise-Generator-Async-Await-å’Œå¼‚å¸¸å¤„ç†çš„æ¼”è¿›"><a href="#Callback-Promise-Generator-Async-Await-å’Œå¼‚å¸¸å¤„ç†çš„æ¼”è¿›" class="headerlink" title="Callback Promise Generator Async-Await å’Œå¼‚å¸¸å¤„ç†çš„æ¼”è¿›"></a>Callback Promise Generator Async-Await å’Œå¼‚å¸¸å¤„ç†çš„æ¼”è¿›</h2><p><a href="https://juejin.im/entry/589b1b862f301e0069990557" target="_blank" rel="noopener">https://juejin.im/entry/589b1b862f301e0069990557</a></p><h2 id="Callbackã€Promiseã€Generatorã€async-awaitå¯¹æ¯”"><a href="#Callbackã€Promiseã€Generatorã€async-awaitå¯¹æ¯”" class="headerlink" title="Callbackã€Promiseã€Generatorã€async/awaitå¯¹æ¯”"></a>Callbackã€Promiseã€Generatorã€async/awaitå¯¹æ¯”</h2><p><a href="https://www.lazycoffee.com/articles/view?id=58ab09eea072b332753d9774" target="_blank" rel="noopener">https://www.lazycoffee.com/articles/view?id=58ab09eea072b332753d9774</a></p><h2 id="dockerå­¦ä¹ ç¬”è®°"><a href="#dockerå­¦ä¹ ç¬”è®°" class="headerlink" title="dockerå­¦ä¹ ç¬”è®°"></a>dockerå­¦ä¹ ç¬”è®°</h2><p><a href="https://miaopei.github.io/2016/12/23/Docker-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" target="_blank" rel="noopener">https://miaopei.github.io/2016/12/23/Docker-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</a></p><h2 id="HTTPæ€ç»´å¯¼å›¾"><a href="#HTTPæ€ç»´å¯¼å›¾" class="headerlink" title="HTTPæ€ç»´å¯¼å›¾"></a>HTTPæ€ç»´å¯¼å›¾</h2><p><a href="https://miaopei.github.io/2017/04/12/HTTP%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/" target="_blank" rel="noopener">https://miaopei.github.io/2017/04/12/HTTP%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/</a></p><h2 id="ç®—æ³•é—®é¢˜"><a href="#ç®—æ³•é—®é¢˜" class="headerlink" title="ç®—æ³•é—®é¢˜"></a>ç®—æ³•é—®é¢˜</h2><p><a href="https://github.com/InterviewMap/CS-Interview-Knowledge-Map/blob/master/Algorithm/algorithm-ch.md">https://github.com/InterviewMap/CS-Interview-Knowledge-Map/blob/master/Algorithm/algorithm-ch.md</a></p><p>[<a href="https://github.com/InterviewMap/CS-Interview-Knowledge-Map/blob/master/DataStruct/dataStruct-zh.md]">https://github.com/InterviewMap/CS-Interview-Knowledge-Map/blob/master/DataStruct/dataStruct-zh.md]</a><br>(<a href="https://github.com/InterviewMap/CS-Interview-Knowledge-Map/blob/master/DataStruct/dataStruct-zh.md">https://github.com/InterviewMap/CS-Interview-Knowledge-Map/blob/master/DataStruct/dataStruct-zh.md</a>)</p><h2 id="MVVMå“åº”å¼åŸç†"><a href="#MVVMå“åº”å¼åŸç†" class="headerlink" title="MVVMå“åº”å¼åŸç†"></a>MVVMå“åº”å¼åŸç†</h2><p>[<a href="https://github.com/InterviewMap/CS-Interview-Knowledge-Map/blob/master/Framework/framework-zh.md]">https://github.com/InterviewMap/CS-Interview-Knowledge-Map/blob/master/Framework/framework-zh.md]</a><br>(<a href="https://github.com/InterviewMap/CS-Interview-Knowledge-Map/blob/master/Framework/framework-zh.md">https://github.com/InterviewMap/CS-Interview-Knowledge-Map/blob/master/Framework/framework-zh.md</a>)</p><h2 id="Vueåº•å±‚"><a href="#Vueåº•å±‚" class="headerlink" title="Vueåº•å±‚"></a>Vueåº•å±‚</h2><p><a href="https://github.com/InterviewMap/CS-Interview-Knowledge-Map/blob/master/Framework/vue-zh.md">https://github.com/InterviewMap/CS-Interview-Knowledge-Map/blob/master/Framework/vue-zh.md</a></p><h2 id="å°ç¨‹åºæƒå¨æŒ‡å—"><a href="#å°ç¨‹åºæƒå¨æŒ‡å—" class="headerlink" title="å°ç¨‹åºæƒå¨æŒ‡å—"></a>å°ç¨‹åºæƒå¨æŒ‡å—</h2><p><a href="https://github.com/InterviewMap/CS-Interview-Knowledge-Map/blob/master/MP/mp-ch.md">https://github.com/InterviewMap/CS-Interview-Knowledge-Map/blob/master/MP/mp-ch.md</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;JSæ ¸å¿ƒæŒ‡å—å¿…çœ‹&quot;&gt;&lt;a href=&quot;#JSæ ¸å¿ƒæŒ‡å—å¿…çœ‹&quot; class=&quot;headerlink&quot; title=&quot;JSæ ¸å¿ƒæŒ‡å—å¿…çœ‹&quot;&gt;&lt;/a&gt;JSæ ¸å¿ƒæŒ‡å—å¿…çœ‹&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/InterviewMap/CS-In
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>å‰ç«¯è¿›é˜¶ä¹‹è·¯</title>
    <link href="https://github.com/luwenchun/luwenchun.github.io/2018/12/10/45%E5%89%8D%E7%AB%AF%E8%BF%9B%E9%98%B6%E4%B9%8B%E8%B7%AF/"/>
    <id>https://github.com/luwenchun/luwenchun.github.io/2018/12/10/45å‰ç«¯è¿›é˜¶ä¹‹è·¯/</id>
    <published>2018-12-09T16:00:00.000Z</published>
    <updated>2019-02-18T08:04:15.860Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Vueå®˜æ–¹è„šæ‰‹æ¶Vue-cli3è„šæ‰‹æ¶ä½¿ç”¨"><a href="#Vueå®˜æ–¹è„šæ‰‹æ¶Vue-cli3è„šæ‰‹æ¶ä½¿ç”¨" class="headerlink" title="Vueå®˜æ–¹è„šæ‰‹æ¶Vue-cli3è„šæ‰‹æ¶ä½¿ç”¨"></a>Vueå®˜æ–¹è„šæ‰‹æ¶Vue-cli3è„šæ‰‹æ¶ä½¿ç”¨</h3><p><a href="http://www.cnblogs.com/hongdiandian/p/8311645.html" target="_blank" rel="noopener">http://www.cnblogs.com/hongdiandian/p/8311645.html</a></p><h3 id="Vueæ¨¡æ¿è¯­æ³•"><a href="#Vueæ¨¡æ¿è¯­æ³•" class="headerlink" title="Vueæ¨¡æ¿è¯­æ³•"></a>Vueæ¨¡æ¿è¯­æ³•</h3><p><a href="https://cn.vuejs.org/v2/guide/render-function.html" target="_blank" rel="noopener">https://cn.vuejs.org/v2/guide/render-function.html</a></p><h3 id="Vueç»„ä»¶åŒ–"><a href="#Vueç»„ä»¶åŒ–" class="headerlink" title="Vueç»„ä»¶åŒ–"></a>Vueç»„ä»¶åŒ–</h3><p>1.å¦‚ä½•ç¼–å†™å•æ–‡ä»¶ç»„ä»¶<br><a href="https://cn.vuejs.org/v2/guide/single-file-components.html#%E6%80%8E%E4%B9%88%E7%9C%8B%E5%BE%85%E5%85%B3%E6%B3%A8%E7%82%B9%E5%88%86%E7%A6%BB%EF%BC%9F" target="_blank" rel="noopener">https://cn.vuejs.org/v2/guide/single-file-components.html#%E6%80%8E%E4%B9%88%E7%9C%8B%E5%BE%85%E5%85%B3%E6%B3%A8%E7%82%B9%E5%88%86%E7%A6%BB%EF%BC%9F</a><br>2ã€‚å¦‚ä½•ç¼–å†™é«˜é˜¶ç»„ä»¶<br><a href="https://segmentfault.com/a/1190000010371752" target="_blank" rel="noopener">https://segmentfault.com/a/1190000010371752</a><br>3.å¦‚ä½•ç¼–å†™é«˜è´¨é‡çš„UIç»„ä»¶<br><a href="https://www.cnblogs.com/kingboy2008/p/9236226.html" target="_blank" rel="noopener">https://www.cnblogs.com/kingboy2008/p/9236226.html</a></p><h3 id="å‰ç«¯æ¨¡å—ç³»ç»Ÿ"><a href="#å‰ç«¯æ¨¡å—ç³»ç»Ÿ" class="headerlink" title="å‰ç«¯æ¨¡å—ç³»ç»Ÿ"></a>å‰ç«¯æ¨¡å—ç³»ç»Ÿ</h3><p>1.ES6 Moduleæ¨¡å—åŒ–<br><a href="https://www.jianshu.com/p/29f89e8b9cb6" target="_blank" rel="noopener">https://www.jianshu.com/p/29f89e8b9cb6</a><br>2.AMD CMD CommonjsåŒºåˆ«<br><a href="https://www.jianshu.com/p/3576ccc68cb7" target="_blank" rel="noopener">https://www.jianshu.com/p/3576ccc68cb7</a></p><h3 id="Vue-devtoolså¼€å‘è°ƒè¯•æ’ä»¶"><a href="#Vue-devtoolså¼€å‘è°ƒè¯•æ’ä»¶" class="headerlink" title="Vue-devtoolså¼€å‘è°ƒè¯•æ’ä»¶"></a>Vue-devtoolså¼€å‘è°ƒè¯•æ’ä»¶</h3><h3 id="è®¡ç®—å±æ€§-è¡¨å•å¤„ç†-äº‹ä»¶å¤„ç†"><a href="#è®¡ç®—å±æ€§-è¡¨å•å¤„ç†-äº‹ä»¶å¤„ç†" class="headerlink" title="è®¡ç®—å±æ€§ è¡¨å•å¤„ç† äº‹ä»¶å¤„ç†"></a>è®¡ç®—å±æ€§ è¡¨å•å¤„ç† äº‹ä»¶å¤„ç†</h3><h3 id="ES6-Promiseå¤„ç†å¼‚æ­¥"><a href="#ES6-Promiseå¤„ç†å¼‚æ­¥" class="headerlink" title="ES6 Promiseå¤„ç†å¼‚æ­¥"></a>ES6 Promiseå¤„ç†å¼‚æ­¥</h3><p><a href="https://www.cnblogs.com/guoyeqiang/p/8243838.html" target="_blank" rel="noopener">https://www.cnblogs.com/guoyeqiang/p/8243838.html</a></p><h3 id="ES7-å¼‚æ­¥ç»ˆæè§£å†³æ–¹æ¡ˆ-Async-await"><a href="#ES7-å¼‚æ­¥ç»ˆæè§£å†³æ–¹æ¡ˆ-Async-await" class="headerlink" title="ES7 å¼‚æ­¥ç»ˆæè§£å†³æ–¹æ¡ˆ Async+await"></a>ES7 å¼‚æ­¥ç»ˆæè§£å†³æ–¹æ¡ˆ Async+await</h3><p><a href="https://blog.csdn.net/tongshuo_11/article/details/68491434" target="_blank" rel="noopener">https://blog.csdn.net/tongshuo_11/article/details/68491434</a></p><h3 id="Vueçš„UIç»„ä»¶é€‰å‹"><a href="#Vueçš„UIç»„ä»¶é€‰å‹" class="headerlink" title="Vueçš„UIç»„ä»¶é€‰å‹"></a>Vueçš„UIç»„ä»¶é€‰å‹</h3><h3 id="ç»„ä»¶å¸ƒå±€"><a href="#ç»„ä»¶å¸ƒå±€" class="headerlink" title="ç»„ä»¶å¸ƒå±€"></a>ç»„ä»¶å¸ƒå±€</h3><h3 id="VuexçŠ¶æ€ç®¡ç†"><a href="#VuexçŠ¶æ€ç®¡ç†" class="headerlink" title="VuexçŠ¶æ€ç®¡ç†"></a>VuexçŠ¶æ€ç®¡ç†</h3><p>1.Vuexæ•°æ®ç®¡ç†<br>2.æ ¸å¿ƒç»„ä»¶State<br>3.æ ¸å¿ƒç»„ä»¶Getter<br>4.æ ¸å¿ƒç»„ä»¶Mutation<br>5ã€‚æ ¸å¿ƒç»„ä»¶Module<br>6ã€‚æ ¸å¿ƒç»„ä»¶Action<br>7.å¤æ‚é¡¹ç›®ä¸­çš„æ•°æ®æµè®¾è®¡<br>8.æ•°æ®æŒä¹…åŒ–</p><h3 id="Vue-routeråœ¨å•é¡µé¢SPAåº”ç”¨"><a href="#Vue-routeråœ¨å•é¡µé¢SPAåº”ç”¨" class="headerlink" title="Vue-routeråœ¨å•é¡µé¢SPAåº”ç”¨"></a>Vue-routeråœ¨å•é¡µé¢SPAåº”ç”¨</h3><p>1.å¤šé¡µé¢åˆ°å•é¡µé¢ï¼ˆSPAï¼‰å‘å±•<br>2.è·¯ç”±ç®¡ç†<br>3.è·¯ç”±é‡å®šå‘<br>4.è·¯ç”±åµŒå¥—<br>5.è·¯ç”±å®ˆå«<br>6.è·¯ç”±æ‡’åŠ è½½</p><h3 id="Vuejsæ ¸å¿ƒåŸç†å‰–æ"><a href="#Vuejsæ ¸å¿ƒåŸç†å‰–æ" class="headerlink" title="Vuejsæ ¸å¿ƒåŸç†å‰–æ"></a>Vuejsæ ¸å¿ƒåŸç†å‰–æ</h3><h3 id="react16-7"><a href="#react16-7" class="headerlink" title="react16.7"></a>react16.7</h3><p>1.Reactå®˜æ–¹è„šæ‰‹æ¶Creat-react-app<br>2.ES6é¢å‘å¯¹è±¡Classè¯­æ³•<br>3.JSXä½¿ç”¨<br>vueä¸­jsxçš„ä½¿ç”¨<br><a href="https://juejin.im/post/5b221e2951882574aa5f4c5a" target="_blank" rel="noopener">https://juejin.im/post/5b221e2951882574aa5f4c5a</a><br>4.è™šæ‹ŸDOMåŸç†å‰–æ<br><a href="https://cloud.tencent.com/developer/article/1006029" target="_blank" rel="noopener">https://cloud.tencent.com/developer/article/1006029</a><br>5.setStateæ•°æ®ç®¡ç†<br><a href="https://www.cnblogs.com/feiyu6/p/9202873.html" target="_blank" rel="noopener">https://www.cnblogs.com/feiyu6/p/9202873.html</a><br>6.reactç»„ä»¶åŒ–æ€æƒ³<br><a href="https://code.mforever78.com/front-end/2015/08/24/thinking-in-react-component/" target="_blank" rel="noopener">https://code.mforever78.com/front-end/2015/08/24/thinking-in-react-component/</a><br>7.reactç»„ä»¶å‚æ•°ä¼ é€’å’Œæ ¡éªŒ<br><!-- æ ¡éªŒ --><br><a href="https://blog.csdn.net/gxf_ming/article/details/62891760" target="_blank" rel="noopener">https://blog.csdn.net/gxf_ming/article/details/62891760</a><br>ç»„ä»¶ä¼ å€¼ï¼Œçˆ¶å­ï¼Œå…¨å±€busï¼Œå‘å¸ƒè®¢é˜…<br><a href="https://www.oecom.cn/communication-between-react-components/" target="_blank" rel="noopener">https://www.oecom.cn/communication-between-react-components/</a></p><p>8.ä¸å¯å˜æ•°æ®ç»“æ„Immutablejs</p><p>æµ…æ‹·è´æ·±æ‹·è´åŠ¨æ€æ§åˆ¶æ‹·è´<br><a href="https://github.com/sunyongjian/blog/issues/33">https://github.com/sunyongjian/blog/issues/33</a><br>Immutablejsä½¿ç”¨è¯´æ˜<br><a href="https://juejin.im/post/5ae91f1e6fb9a07a9d702255" target="_blank" rel="noopener">https://juejin.im/post/5ae91f1e6fb9a07a9d702255</a><br>åˆ›å»ºæ–°çš„æ•°æ®å¯¹è±¡å¹¶ä¸ä¼šè§¦å‘stateä»æ–°æ¸²æŸ“<br><a href="https://www.zhihu.com/question/297323663/answer/504587178" target="_blank" rel="noopener">https://www.zhihu.com/question/297323663/answer/504587178</a></p><p>9.reactè¡¨å•å¤„ç†<br><a href="https://segmentfault.com/a/1190000004696515" target="_blank" rel="noopener">https://segmentfault.com/a/1190000004696515</a><br>10.EA6ç®­å¤´å‡½æ•°<br><a href="https://github.com/youngwind/blog/issues/14">https://github.com/youngwind/blog/issues/14</a><br>11.ES6æ•°ç»„<br><a href="http://es6.ruanyifeng.com/#docs/array" target="_blank" rel="noopener">http://es6.ruanyifeng.com/#docs/array</a><br>12.ES6æ•°æ®è¡¨æ ¼<br><a href="http://es6.ruanyifeng.com/#docs/array" target="_blank" rel="noopener">http://es6.ruanyifeng.com/#docs/array</a><br>13.reactåŠ¨ç”»<br><a href="https://segmentfault.com/a/1190000007388260" target="_blank" rel="noopener">https://segmentfault.com/a/1190000007388260</a><br><a href="https://zhuanlan.zhihu.com/p/28536964" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/28536964</a><br>14.reactç”Ÿå‘½å‘¨æœŸ<br><a href="https://juejin.im/post/5a062fb551882535cd4a4ce3" target="_blank" rel="noopener">https://juejin.im/post/5a062fb551882535cd4a4ce3</a><br>15.reacté”™è¯¯å¤„ç†å‘¨æœŸ<br><a href="https://www.zcfy.cc/article/error-handling-in-react-16-react-blog" target="_blank" rel="noopener">https://www.zcfy.cc/article/error-handling-in-react-16-react-blog</a><br><a href="http://blog.codingplayboy.com/2017/11/10/react-error-handle/" target="_blank" rel="noopener">http://blog.codingplayboy.com/2017/11/10/react-error-handle/</a><br><a href="https://zhuanlan.zhihu.com/p/28156587" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/28156587</a><br>16.react fiberæ¶æ„å‰–æ<br>è§£å†³çš„é—®é¢˜<br><a href="https://juejin.im/entry/5b0245486fb9a07ac23b08ab" target="_blank" rel="noopener">https://juejin.im/entry/5b0245486fb9a07ac23b08ab</a><br>åŸç†è§£æ<br><a href="https://juejin.im/post/5b7016606fb9a0099406f8de" target="_blank" rel="noopener">https://juejin.im/post/5b7016606fb9a0099406f8de</a><br>17.reactæ–°åŠŸèƒ½ä¹‹Hooks<br><a href="https://juejin.im/post/5bebd46251882527796a95cc" target="_blank" rel="noopener">https://juejin.im/post/5bebd46251882527796a95cc</a></p><h3 id="ant-designç»„ä»¶ä½¿ç”¨ç»éªŒ"><a href="#ant-designç»„ä»¶ä½¿ç”¨ç»éªŒ" class="headerlink" title="ant-designç»„ä»¶ä½¿ç”¨ç»éªŒ"></a>ant-designç»„ä»¶ä½¿ç”¨ç»éªŒ</h3><h3 id="ReduxçŠ¶æ€ç®¡ç†"><a href="#ReduxçŠ¶æ€ç®¡ç†" class="headerlink" title="ReduxçŠ¶æ€ç®¡ç†"></a>ReduxçŠ¶æ€ç®¡ç†</h3><p>1.setStateå’Œå±æ€§ä¼ é€’ç®¡ç†æ•°æ®çš„ä¸è¶³</p><p>2.å•å‘æ•°æ®é‡VSåŒå‘æ•°æ®æµ<br>3.Reduxæ ¸å¿ƒç»„ä»¶ä¹‹Action<br>4.reduxæ ¸å¿ƒç»„ä»¶ä¹‹reducer<br>5.reduxæ ¸å¿ƒç»„ä»¶ä¹‹dispatch<br>6.react-reduxè¿æ¥reduxå’Œreact<br>7.react-reduxæ ¸å¿ƒç»„ä»¶Providerå’Œconnect<br>8.reduxä¹‹ä¸­é—´ä»¶å‰–æ<br>9.redux-thunkä¸­é—´ä»¶å¤„ç†å¼‚æ­¥ä»»åŠ¡</p><h3 id="react-router4å•é¡µé¢SPAåº”ç”¨"><a href="#react-router4å•é¡µé¢SPAåº”ç”¨" class="headerlink" title="react-router4å•é¡µé¢SPAåº”ç”¨"></a>react-router4å•é¡µé¢SPAåº”ç”¨</h3><p>1.è·¯ç”±ç®¡ç†<br>2.è·¯ç”±å’Œç»„ä»¶<br>3.è·¯ç”±é‡å®šå‘<br>4.ç”Ÿå‘½å‘¨æœŸ<br>5.reactè·¯ç”±æ‡’åŠ è½½</p><h3 id="reduxè§£å†³æ–¹æ¡ˆdva"><a href="#reduxè§£å†³æ–¹æ¡ˆdva" class="headerlink" title="reduxè§£å†³æ–¹æ¡ˆdva"></a>reduxè§£å†³æ–¹æ¡ˆdva</h3><p>1.dvaæ˜¯ä»€ä¹ˆ<br>2.ES6ä¹‹generator<br>3.redux-sagaä¸­é—´ä»¶</p><h3 id="reactè™šæ‹ŸDOMåŸç†"><a href="#reactè™šæ‹ŸDOMåŸç†" class="headerlink" title="reactè™šæ‹ŸDOMåŸç†"></a>reactè™šæ‹ŸDOMåŸç†</h3><h3 id="reactå’Œvueå·®å¼‚æ¯”è¾ƒ"><a href="#reactå’Œvueå·®å¼‚æ¯”è¾ƒ" class="headerlink" title="reactå’Œvueå·®å¼‚æ¯”è¾ƒ"></a>reactå’Œvueå·®å¼‚æ¯”è¾ƒ</h3><h3 id="Nodejsæ ¸å¿ƒæ¨¡å—"><a href="#Nodejsæ ¸å¿ƒæ¨¡å—" class="headerlink" title="Nodejsæ ¸å¿ƒæ¨¡å—"></a>Nodejsæ ¸å¿ƒæ¨¡å—</h3><p>1.nodejsæ¨¡å—åŒ–VS ES6æ¨¡å—åŒ–<br>2.Nodeæµ<br>3.Buffer</p><h3 id="Nodejså¼‚æ­¥"><a href="#Nodejså¼‚æ­¥" class="headerlink" title="Nodejså¼‚æ­¥"></a>Nodejså¼‚æ­¥</h3><p>1.Events<br>2.Timer<br>3.Event-loop</p><h3 id="Nodejsè¿›ç¨‹"><a href="#Nodejsè¿›ç¨‹" class="headerlink" title="Nodejsè¿›ç¨‹"></a>Nodejsè¿›ç¨‹</h3><p>1.è¿›ç¨‹ä¸çº¿ç¨‹<br>2.cluster</p><h3 id="Nodejs-ioç½‘ç»œ"><a href="#Nodejs-ioç½‘ç»œ" class="headerlink" title="Nodejs ioç½‘ç»œ"></a>Nodejs ioç½‘ç»œ</h3><p>1.nodejs IOï¼ˆfsã€netã€streamæ¨¡å—ï¼‰<br>2.TCP/IPåè®®<br>3.Http2.0<br>4.https<br>5.å‰ç«¯è·¨åŸŸé—®é¢˜è§£å†³æ–¹æ¡ˆ<br><a href="https://juejin.im/post/5c35f6286fb9a049be5dad82" target="_blank" rel="noopener">https://juejin.im/post/5c35f6286fb9a049be5dad82</a></p><h3 id="å¸¸è§æ•°æ®åº“ç¼“å­˜è§£å†³æ–¹æ¡ˆ"><a href="#å¸¸è§æ•°æ®åº“ç¼“å­˜è§£å†³æ–¹æ¡ˆ" class="headerlink" title="å¸¸è§æ•°æ®åº“ç¼“å­˜è§£å†³æ–¹æ¡ˆ"></a>å¸¸è§æ•°æ®åº“ç¼“å­˜è§£å†³æ–¹æ¡ˆ</h3><p>1.é€‰å‹ç­–ç•¥<br>2.çˆ¬è™«é¡¹ç›®æ•°æ®æŒä¹…åŒ–<br>mysql<br>mongodb<br>redis</p><h3 id="webå¼€å‘"><a href="#webå¼€å‘" class="headerlink" title="webå¼€å‘"></a>webå¼€å‘</h3><p>1ã€ä¼ ç»ŸMIS åŒ…å«ç”¨æˆ·çŠ¶æ€ç®¡ç†ã€ä¿¡æ¯æŸ¥è¯¢å½•å…¥<br>2ã€ant-design-proå¼€å‘ä¼ä¸šçº§ç®¡ç†åå°<br>3ã€webæ¡†æ¶é€‰å‹ç­–ç•¥<br>4ã€åŸºäºExpressã€Koaè¿›è¡Œæ¯”è¾ƒï¼Œä»¥åŠä»–ä»¬çš„è¡ç”Ÿå“egg.js</p><h3 id="åŒæ„åº”ç”¨"><a href="#åŒæ„åº”ç”¨" class="headerlink" title="åŒæ„åº”ç”¨"></a>åŒæ„åº”ç”¨</h3><p>1ã€ä¼ ç»Ÿæ¸²æŸ“æ¨¡å¼ä¸æ–°æ—¶æœŸçš„æœåŠ¡ç«¯æ¸²æŸ“å’ŒåŒæ„å¼€å‘</p><h3 id="éƒ¨ç½²è¿ç»´"><a href="#éƒ¨ç½²è¿ç»´" class="headerlink" title="éƒ¨ç½²è¿ç»´"></a>éƒ¨ç½²è¿ç»´</h3><p>1ã€node.jséƒ¨ç½²å’Œè¿ç»´<br>2ã€nginx + pm2éƒ¨ç½²webåº”ç”¨å®æˆ˜</p><h3 id="å¾®ä¿¡å°ç¨‹åº"><a href="#å¾®ä¿¡å°ç¨‹åº" class="headerlink" title="å¾®ä¿¡å°ç¨‹åº"></a>å¾®ä¿¡å°ç¨‹åº</h3><p>1ã€å°ç¨‹åºå¼€å‘æ¨¡å¼VSä¼ ç»ŸWebå¼€å‘æ¨¡å¼<br>2ã€flexå¸ƒå±€<br>3ã€æ‰«ç <br>4ã€ä¸‹æ‹‰åˆ·æ–°<br>5ã€è½®æ’­å›¾<br>6ã€å›¾ç‰‡<br>7ã€æ”¯ä»˜API</p><h3 id="å°ç¨‹åºç”Ÿæ€"><a href="#å°ç¨‹åºç”Ÿæ€" class="headerlink" title="å°ç¨‹åºç”Ÿæ€"></a>å°ç¨‹åºç”Ÿæ€</h3><p>1ã€å°ç¨‹åºé€‚ç”¨åœºæ™¯<br>2ã€å¿«åº”ç”¨ã€ç™¾åº¦å°ç¨‹åºã€æ”¯ä»˜å®å°ç¨‹åº<br>3ã€ä¸€å¥—ä»£ç ç¼–è¯‘å„å¤§å‚å•†å°ç¨‹åºï¼štaroã€mpvue</p><h3 id="å¾®ä¿¡å¼€å‘"><a href="#å¾®ä¿¡å¼€å‘" class="headerlink" title="å¾®ä¿¡å¼€å‘"></a>å¾®ä¿¡å¼€å‘</h3><p>1ã€æœåŠ¡å™¨å¦‚ä½•ä»‹å…¥å¾®ä¿¡åå°<br>2ã€node.jsåå°æ¥å…¥<br>3ã€å¾®ä¿¡æ¶ˆæ¯ç®¡ç†</p><h3 id="å¾®ä¿¡ç½‘é¡µå¼€å‘"><a href="#å¾®ä¿¡ç½‘é¡µå¼€å‘" class="headerlink" title="å¾®ä¿¡ç½‘é¡µå¼€å‘"></a>å¾®ä¿¡ç½‘é¡µå¼€å‘</h3><p>1ã€ä¾èµ–å¾®ä¿¡JSSDKå¼€å‘ä¸šåŠ¡<br>2ã€å½•éŸ³ã€åœ°ç†ä½ç½®ã€æ‰«ä¸€æ‰«</p><h3 id="å…¬ä¼—å·å®¢æœæœºå™¨äºº"><a href="#å…¬ä¼—å·å®¢æœæœºå™¨äºº" class="headerlink" title="å…¬ä¼—å·å®¢æœæœºå™¨äºº"></a>å…¬ä¼—å·å®¢æœæœºå™¨äºº</h3><h3 id="react-native"><a href="#react-native" class="headerlink" title="react-native"></a>react-native</h3><p>1ã€react-nativeVSä¼ ç»Ÿioså’Œå®‰å“å¼€å‘æ¨¡å¼<br>2ã€react-nativeæ ¸å¿ƒapiå’Œç»„ä»¶å®æˆ˜<br>3ã€react-nativeç½‘ç»œè¯·æ±‚</p><h3 id="react-nativeç»„ä»¶åº“å’Œç¬¬ä¸‰æ–¹UIç»„ä»¶åº“"><a href="#react-nativeç»„ä»¶åº“å’Œç¬¬ä¸‰æ–¹UIç»„ä»¶åº“" class="headerlink" title="react-nativeç»„ä»¶åº“å’Œç¬¬ä¸‰æ–¹UIç»„ä»¶åº“"></a>react-nativeç»„ä»¶åº“å’Œç¬¬ä¸‰æ–¹UIç»„ä»¶åº“</h3><p>1ã€ant-design-mobileçš„react-nativeç‰ˆæœ¬<br>2ã€react-navagationå¯¼èˆª</p><h3 id="react-nativeæ•°æ®è·¯ç”±ç®¡ç†"><a href="#react-nativeæ•°æ®è·¯ç”±ç®¡ç†" class="headerlink" title="react-nativeæ•°æ®è·¯ç”±ç®¡ç†"></a>react-nativeæ•°æ®è·¯ç”±ç®¡ç†</h3><p>1ã€å•é¡µé¢åº”ç”¨<br>2ã€reduxç®¡ç†æ•°æ®<br>3ã€react-routerè·¯ç”±</p><h3 id="ç§»åŠ¨Appç‰ˆå®æˆ˜å’Œå‘å¸ƒ"><a href="#ç§»åŠ¨Appç‰ˆå®æˆ˜å’Œå‘å¸ƒ" class="headerlink" title="ç§»åŠ¨Appç‰ˆå®æˆ˜å’Œå‘å¸ƒ"></a>ç§»åŠ¨Appç‰ˆå®æˆ˜å’Œå‘å¸ƒ</h3><h3 id="Wbeå®‰å…¨å®æˆ˜"><a href="#Wbeå®‰å…¨å®æˆ˜" class="headerlink" title="Wbeå®‰å…¨å®æˆ˜"></a>Wbeå®‰å…¨å®æˆ˜</h3><p>1ã€å®‰å…¨æ„ä¹‰ä¸å¸¸è§webé¡¹ç›®ç›¸å…³çš„æ¼æ´åŸç†è§£æä¸é˜²å¾¡<br>2ã€Xssæ¼æ´<br>3ã€CSRFæ¼æ´<br>4ã€SQLæ³¨å…¥<br>5ã€cookieå®‰å…¨ç­–ç•¥<br>6ã€ç‚¹å‡»åŠ«æŒ<br>7ã€ä¼ è¾“å®‰å…¨å’ŒHTTPSåŠ å¯†</p><h3 id="å‰ç«¯å·¥ç¨‹åŒ–"><a href="#å‰ç«¯å·¥ç¨‹åŒ–" class="headerlink" title="å‰ç«¯å·¥ç¨‹åŒ–"></a>å‰ç«¯å·¥ç¨‹åŒ–</h3><p>1ã€å‰ç«¯å·¥ç¨‹åŒ–å‘å±•å†å²<br>2ã€å‰ç«¯ç”Ÿæ€å·¥å…·ï¼šwebpackã€babelã€eslintã€webpackè¿›é˜¶<br>3ã€webpackå¸¸è§ä¼˜åŒ–<br>4ã€å®šåˆ¶è‡ªå·±çš„loader<br>5ã€å®šåˆ¶è‡ªå·±çš„plugin<br>6ã€babelè¿›é˜¶å’Œç¼–è¯‘ä¼˜åŒ–å¤„ç†<br>7ã€ä»£ç å®¡æŸ¥è¿›é˜¶</p><h3 id="é”™è¯¯ç›‘æ§ğŸ“±ğŸ“±æ”¶é›†"><a href="#é”™è¯¯ç›‘æ§ğŸ“±ğŸ“±æ”¶é›†" class="headerlink" title="é”™è¯¯ç›‘æ§ğŸ“±ğŸ“±æ”¶é›†"></a>é”™è¯¯ç›‘æ§ğŸ“±ğŸ“±æ”¶é›†</h3><h3 id="è‡ªåŠ¨åŒ–æµ‹è¯•"><a href="#è‡ªåŠ¨åŒ–æµ‹è¯•" class="headerlink" title="è‡ªåŠ¨åŒ–æµ‹è¯•"></a>è‡ªåŠ¨åŒ–æµ‹è¯•</h3><p>1ã€å•å…ƒæµ‹è¯•<br>2ã€ä¸šåŠ¡é©±åŠ¨å¼€å‘&amp;&amp;æµ‹è¯•é©±åŠ¨å¼€å‘<br>3ã€é»‘ç›’æµ‹è¯•å’Œç™½ç›’æµ‹è¯•<br>4ã€æµ‹è¯•è¦†ç›–ç‡<br>5ã€å‰ç«¯é¡¹ç›®çš„å•æµ‹é›†æˆ<br>6ã€nodeé¡¹ç›®çš„å•æµ‹é›†æˆ</p><h3 id="å‰ç«¯e2eæµ‹è¯•"><a href="#å‰ç«¯e2eæµ‹è¯•" class="headerlink" title="å‰ç«¯e2eæµ‹è¯•"></a>å‰ç«¯e2eæµ‹è¯•</h3><h3 id="å‰ç«¯æ€§èƒ½ä¼˜åŒ–"><a href="#å‰ç«¯æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="å‰ç«¯æ€§èƒ½ä¼˜åŒ–"></a>å‰ç«¯æ€§èƒ½ä¼˜åŒ–</h3><p>1ã€æ€§èƒ½æŒ‡æ ‡<br>2ã€ä¸šåŠ¡åœºæ™¯<br>3ã€åŸºäºé¡¹ç›®è·å–æ€§èƒ½æŠ¥å‘Šå’ŒæŠ¥å‘ŠèƒŒåçš„åˆ†æ<br>4ã€æµè§ˆå™¨é‡ç»˜å’Œå›æµ<br>5ã€èŠ‚æµè®¾è®¡<br>6ã€èµ„æºåŠ è½½ä¸åˆ©ç”¨ï¼ˆæ‡’åŠ è½½ã€é«˜æ•ˆç¼“å­˜ã€CDNï¼‰<br>7ã€æµè§ˆå™¨ç¼“å­˜<br>8ã€ç§»åŠ¨ç«¯ç½‘ç»œæ€§èƒ½ä¼˜åŒ–<br>9ã€nginxè°ƒä¼˜</p><h3 id="æ›´å¿«çš„ä»£ç "><a href="#æ›´å¿«çš„ä»£ç " class="headerlink" title="æ›´å¿«çš„ä»£ç "></a>æ›´å¿«çš„ä»£ç </h3><p>1ã€BOM/DOMäº¤äº’ä¼˜åŒ–<br>2ã€å¸¸è§å†™æ³•ä¼˜åŒ–</p><h3 id="reactæ€§èƒ½ä¼˜åŒ–"><a href="#reactæ€§èƒ½ä¼˜åŒ–" class="headerlink" title="reactæ€§èƒ½ä¼˜åŒ–"></a>reactæ€§èƒ½ä¼˜åŒ–</h3><p>1ã€reactå¸¸ç”¨æ€§èƒ½ä¼˜åŒ–ç­–ç•¥<br>2ã€purecomponent</p><h3 id="Vueå¸¸ç”¨æ€§èƒ½ä¼˜åŒ–ç­–ç•¥"><a href="#Vueå¸¸ç”¨æ€§èƒ½ä¼˜åŒ–ç­–ç•¥" class="headerlink" title="Vueå¸¸ç”¨æ€§èƒ½ä¼˜åŒ–ç­–ç•¥"></a>Vueå¸¸ç”¨æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</h3><h3 id="æµè§ˆå™¨åŸç†"><a href="#æµè§ˆå™¨åŸç†" class="headerlink" title="æµè§ˆå™¨åŸç†"></a>æµè§ˆå™¨åŸç†</h3><p>1ã€webkitç¼“å­˜åŠ è½½æœºåˆ¶<br>2ã€cookieå’Œsessionå®ç°åŸç†<br>3ã€DOMæ¨¡å‹<br>4ã€cssè§£é‡Šå™¨<br>5ã€æ„å»ºæ¸²æŸ“æ ‘</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Vueå®˜æ–¹è„šæ‰‹æ¶Vue-cli3è„šæ‰‹æ¶ä½¿ç”¨&quot;&gt;&lt;a href=&quot;#Vueå®˜æ–¹è„šæ‰‹æ¶Vue-cli3è„šæ‰‹æ¶ä½¿ç”¨&quot; class=&quot;headerlink&quot; title=&quot;Vueå®˜æ–¹è„šæ‰‹æ¶Vue-cli3è„šæ‰‹æ¶ä½¿ç”¨&quot;&gt;&lt;/a&gt;Vueå®˜æ–¹è„šæ‰‹æ¶Vue-cli3è„šæ‰‹æ¶ä½¿ç”¨&lt;/
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>VuexåŸç†æ¢ç´¢</title>
    <link href="https://github.com/luwenchun/luwenchun.github.io/2018/11/23/40Vuex%E5%8E%9F%E7%90%86/"/>
    <id>https://github.com/luwenchun/luwenchun.github.io/2018/11/23/40VuexåŸç†/</id>
    <published>2018-11-22T16:00:00.000Z</published>
    <updated>2019-02-18T08:04:15.857Z</updated>
    
    <content type="html"><![CDATA[<p>è·¯ç”±Router</p><ol><li>é…ç½® {path:â€™/loginâ€™,component:Login}</li><li>è·¯ç”±å‡ºå£ router-view</li><li>ä¼ å‚ <ul><li>{path:â€™/login/:idâ€™,component:Login}   $route.params.id</li><li>?foo=aaa                    $route.query.foo</li></ul></li><li>å®ˆå«<ul><li>å…¨å±€ router.beforeEach</li><li>è·¯ç”±beforeEnter</li><li>ç»„ä»¶beforeRouteEnter</li></ul></li><li>åµŒå¥— {children:[]}</li></ol><p>çŠ¶æ€ç®¡ç†Vuex</p><ol><li><p>é…ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    state: &#123;</span><br><span class="line">        cart: localStorage.getItem(&apos;cart&apos;)||&quot;&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    mutations:&#123;</span><br><span class="line">        addCart:(state,new)=&gt;&#123;</span><br><span class="line">            state.cart=new</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    getter:&#123;</span><br><span class="line">         cartnum=state.cart+1</span><br><span class="line">    &#125;,</span><br><span class="line">    actions:&#123;</span><br><span class="line">        htttp.get(&quot;/api/get&quot;,&#123;&#125;,res=&gt;&#123;</span><br><span class="line">            res.code==1&amp;&amp; commit(&quot;addCart&quot;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨</p><ul><li>commit()//ç›´æ¥ä¿®æ”¹state</li><li>dispatch()//é€šè¿‡åå°æ¥å£å“åº”çŠ¶æ€åˆ¤æ–­æ˜¯å¦è¦ä¿®æ”¹state</li><li>$store.state.cart//ç›´æ¥å–state</li><li>$store.getter.cartnum//ç›´æ¥å–åŠ å·¥åçš„state</li></ul></li></ol><h3 id="vuex"><a href="#vuex" class="headerlink" title="vuex"></a>vuex</h3><p><img src="https://ws3.sinaimg.cn/large/006tNc79ly1fz0jxbys94j30jh0fbwef.jpg" alt="img"></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">KVuex</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span> (options) &#123;</span><br><span class="line">        <span class="keyword">this</span>.state = options.state</span><br><span class="line">        <span class="keyword">this</span>.mutations = options.mutations</span><br><span class="line">        <span class="keyword">this</span>.actions = options.actions</span><br><span class="line">        <span class="comment">// å€Ÿç”¨vueæœ¬èº«çš„å“åº”å¼çš„é€šçŸ¥æœºåˆ¶</span></span><br><span class="line">        <span class="comment">// state ä¼šå°†éœ€è¦çš„ä¾èµ–æ”¶é›†åœ¨ Dep ä¸­</span></span><br><span class="line">        <span class="keyword">this</span>._vm = <span class="keyword">new</span> KVue(&#123;</span><br><span class="line">            data: &#123;</span><br><span class="line">                $state: <span class="keyword">this</span>.state</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    commit (type, payload, _options) &#123;</span><br><span class="line">        <span class="keyword">const</span> entry = <span class="keyword">this</span>.mutations[type]</span><br><span class="line">        entry.forEach(<span class="function"><span class="params">handler</span>=&gt;</span>handler(payload))</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    dispatch (type, payload) &#123;</span><br><span class="line">        <span class="keyword">const</span> entry = <span class="keyword">this</span>.actions[type]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> entry(payload)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://github.com/vuejs/vuex">https://github.com/vuejs/vuex</a></p><h3 id="vue-router"><a href="#vue-router" class="headerlink" title="vue-router"></a>vue-router</h3><p>ä½¿ç”¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">'/'</span>, <span class="attr">component</span>: Home &#125;,</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">'/book'</span>, <span class="attr">component</span>: Book &#125;,</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">'/movie'</span>, <span class="attr">component</span>: Movie &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(Vue, &#123;</span><br><span class="line">    routes</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    router</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VueRouter</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(Vue, options) &#123;</span><br><span class="line">        <span class="keyword">this</span>.$options = options</span><br><span class="line">        <span class="keyword">this</span>.routeMap = &#123;&#125;</span><br><span class="line">        <span class="keyword">this</span>.app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">            data: &#123;</span><br><span class="line">                current: <span class="string">'#/'</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">this</span>.init()</span><br><span class="line">        <span class="keyword">this</span>.createRouteMap(<span class="keyword">this</span>.$options)</span><br><span class="line">        <span class="keyword">this</span>.initComponent(Vue)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆå§‹åŒ– hashchange</span></span><br><span class="line">    init() &#123;</span><br><span class="line">        <span class="built_in">window</span>.addEventListener(<span class="string">'load'</span>, <span class="keyword">this</span>.onHashChange.bind(<span class="keyword">this</span>), <span class="literal">false</span>)</span><br><span class="line">        <span class="built_in">window</span>.addEventListener(<span class="string">'hashchange'</span>, <span class="keyword">this</span>.onHashChange.bind(<span class="keyword">this</span>), <span class="literal">false</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    createRouteMap(options) &#123;</span><br><span class="line">        options.routes.forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.routeMap[item.path] = item.component</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ³¨å†Œç»„ä»¶</span></span><br><span class="line">    initComponent(Vue) &#123;</span><br><span class="line">        Vue.component(<span class="string">'router-link'</span>, &#123;</span><br><span class="line">            props: &#123;</span><br><span class="line">                to: <span class="built_in">String</span></span><br><span class="line">            &#125;,</span><br><span class="line">            template: <span class="string">'&lt;a :href="to"&gt;&lt;slot&gt;&lt;/slot&gt;&lt;/a&gt;'</span></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> _this = <span class="keyword">this</span></span><br><span class="line">        Vue.component(<span class="string">'router-view'</span>, &#123;</span><br><span class="line">            render(h) &#123;</span><br><span class="line">                <span class="keyword">var</span> component = _this.routeMap[_this.app.current]</span><br><span class="line">                <span class="keyword">return</span> h(component)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–å½“å‰ hash ä¸²</span></span><br><span class="line">    getHash() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">window</span>.location.hash.slice(<span class="number">1</span>) || <span class="string">'/'</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®å½“å‰è·¯å¾„</span></span><br><span class="line">    onHashChange() &#123;</span><br><span class="line">        <span class="keyword">this</span>.app.current = <span class="keyword">this</span>.getHash()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è·¯ç”±Router&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é…ç½® {path:â€™/loginâ€™,component:Login}&lt;/li&gt;
&lt;li&gt;è·¯ç”±å‡ºå£ router-view&lt;/li&gt;
&lt;li&gt;ä¼ å‚ &lt;ul&gt;
&lt;li&gt;{path:â€™/login/:idâ€™,component:Logi
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>æ–°å…¬å¸å¸¸è§åŠŸèƒ½å‡½æ•°å°è£…</title>
    <link href="https://github.com/luwenchun/luwenchun.github.io/2018/11/22/39%E6%96%B0%E5%85%AC%E5%8F%B8%E5%B8%B8%E8%A7%81%E5%8A%9F%E8%83%BD%E5%87%BD%E6%95%B0%E5%B0%81%E8%A3%85/"/>
    <id>https://github.com/luwenchun/luwenchun.github.io/2018/11/22/39æ–°å…¬å¸å¸¸è§åŠŸèƒ½å‡½æ•°å°è£…/</id>
    <published>2018-11-21T16:00:00.000Z</published>
    <updated>2019-01-10T08:01:30.897Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™äº›å‡½æ•°åŒ…æ‹¬å¸¸è§çš„ä¸šåŠ¡å‡½æ•°å’Œé€šç”¨å‡½æ•°</p><h4 id="æ—¥æœŸè¿‡æ»¤å‡½æ•°"><a href="#æ—¥æœŸè¿‡æ»¤å‡½æ•°" class="headerlink" title="æ—¥æœŸè¿‡æ»¤å‡½æ•°"></a>æ—¥æœŸè¿‡æ»¤å‡½æ•°</h4><pre><code>formatDate(date) {//dataæ¯«ç§’   date = new Date(date); //dataæ ¼å¼åŒ–æˆå›½é™…æ ‡å‡†æ—¶é—´   const pad = n =&gt; n &lt; 10 ? `0${n}` : n;   const dateStr1 = `${date.getFullYear()}-${pad(date.getMonth() + 1)}-${pad(date.getDate())} ${pad(date.getHours())}:${pad(date.getMinutes())}`;  //è½¬åŒ–æˆ2018-10-08 16:20   const dateStr = `${date.getFullYear()}-${pad(date.getMonth() + 1)}-${pad(date.getDate())}`;   const timeStr = `${pad(date.getHours())}:${pad(date.getMinutes())}`;   const weekDay = [&quot;æ˜ŸæœŸæ—¥&quot;, &quot;æ˜ŸæœŸä¸€&quot;, &quot;æ˜ŸæœŸäºŒ&quot;, &quot;æ˜ŸæœŸä¸‰&quot;, &quot;æ˜ŸæœŸå››&quot;, &quot;æ˜ŸæœŸäº”&quot;, &quot;æ˜ŸæœŸå…­&quot;];   const myDate = new Date(Date.parse(dateStr.replace(/-/g, &quot;/&quot;)));   const weekday=weekDay[myDate.getDay()];   return `${dateStr}  ${weekday}  ${timeStr}`;//è½¬åŒ–æˆ2018-10-08  æ˜ŸæœŸå›› 16:20},</code></pre><h4 id="åå°è¿”å›æ•°æ®æ ¼å¼åŒ–å‡½æ•°ï¼Œè¿”å›æŒ‡å®šçš„value-labelç±»å‹"><a href="#åå°è¿”å›æ•°æ®æ ¼å¼åŒ–å‡½æ•°ï¼Œè¿”å›æŒ‡å®šçš„value-labelç±»å‹" class="headerlink" title="åå°è¿”å›æ•°æ®æ ¼å¼åŒ–å‡½æ•°ï¼Œè¿”å›æŒ‡å®šçš„value labelç±»å‹"></a>åå°è¿”å›æ•°æ®æ ¼å¼åŒ–å‡½æ•°ï¼Œè¿”å›æŒ‡å®šçš„value labelç±»å‹</h4><pre><code> filterdata(data){    return new Promise((resolve, reject)=&gt;{        var arraytime=[];        data.forEach((item,index)=&gt;{            var obj={};            obj[&apos;value&apos;]=item[&apos;counselorCode&apos;];            obj[&apos;label&apos;]=item[&apos;counselorName&apos;];            arraytime.push(obj)        });        this.optis=arraytime;        resolve();    })}array=this.filterdata(array)array=[{&apos;counselorCode&apos;:&apos;www.baidu.com&apos;},{&apos;counselorName&apos;:&apos;ç™¾åº¦&apos;}]=&gt;[{&apos;value&apos;:&apos;www.baidu.com&apos;},{&apos;label&apos;:&apos;ç™¾åº¦&apos;}];</code></pre><h4 id="æ¨¡æ‹Ÿè¡¨å•æäº¤"><a href="#æ¨¡æ‹Ÿè¡¨å•æäº¤" class="headerlink" title="æ¨¡æ‹Ÿè¡¨å•æäº¤"></a>æ¨¡æ‹Ÿè¡¨å•æäº¤</h4><pre><code>//urlæäº¤è¡¨å•url parmasåŠ¨æ€é€‰æ‹©çš„è¡¨å•dom targetè™šæ‹Ÿdomï¼Œformè¡¨å•æŒ‚è½½çš„ä½ç½®postcall(url, params, target) {    var tempform = document.createElement(&quot;form&quot;);    tempform.action = url;    tempform.method = &quot;post&quot;;    tempform.style.display = &quot;none&quot;    if (target) {        tempform.target = target;    }    for (var x in params) {        var opt = document.createElement(&quot;input&quot;);        opt.name = x;        opt.value = params[x];        tempform.appendChild(opt);    }    var opt = document.createElement(&quot;input&quot;);    opt.type = &quot;submit&quot;;    tempform.appendChild(opt);    document.body.appendChild(tempform);    tempform.submit();    document.body.removeChild(tempform);}</code></pre><h4 id="è°ƒç”¨é«˜å¾·åœ°å›¾çº¿è·¯æœ€ä¼˜è§„åˆ’"><a href="#è°ƒç”¨é«˜å¾·åœ°å›¾çº¿è·¯æœ€ä¼˜è§„åˆ’" class="headerlink" title="è°ƒç”¨é«˜å¾·åœ°å›¾çº¿è·¯æœ€ä¼˜è§„åˆ’"></a>è°ƒç”¨é«˜å¾·åœ°å›¾çº¿è·¯æœ€ä¼˜è§„åˆ’</h4><pre><code>//æ ¹æ®èµ·ç‚¹ç»ˆç‚¹çš„åœ°åçš„å¸‚å’Œè¯¦ç»†åœ°å€è·å–ç»çº¬åº¦//æ ¹æ®èµ·ç‚¹ç»ˆç‚¹ç»çº¬åº¦è·³è½¬åˆ°é«˜å¾·ç¬¬ä¸‰æ–¹é¡µé¢è§„åˆ’æœ€ä¼˜è·¯çº¿ï¼Œå¯ä»¥è°ƒç”¨åŸç”Ÿé«˜å¾·APPasync openLocation(ip) {    var ss=_this.state.dealerInfoData    //console.log(ss)    //å‡ºå‘åœ°åœ°å€ï¼ˆç»é”€å•†ç»çº¬åº¦,æˆ–è¯¦ç»†åœ°å€ï¼‰åå°æ²¡å­—æ®µï¼Œæš‚æ—¶ç”¨ç»é”€å•†åå­—    //ç›®çš„åœ°åœ°å€ ï¼ˆå®¢æˆ·ç»çº¬åº¦ï¼‰    const fromAddressStr = ss.dealerName    const toAddressStr = ss.driveAddressDels + ss.driveAddressDel    const from = await getLoc(fromAddressStr)    const to = await getLoc(toAddressStr)    const url = `https://uri.amap.com/navigation?from=${from}&amp;to=${to}`    console.log(url)    document.location.href = url    //è·å–åœ°å€ç»çº¬åº¦    function getLoc(address) {        return new Promise((resolve,reject)=&gt;{        $.get(`https://restapi.amap.com/v3/geocode/geo?key=7a095ac801cf2ab21bb9d7370ab6add2&amp;address=${address}`,(data)=&gt;{            //console.log(&apos;ä½ç½®æŸ¥è¯¢&apos;,data)            if (data.infocode == 10000 &amp;&amp; data.status==1){            const [geocodes] = data.geocodes            if (geocodes){                console.log(geocodes)                const to = `${geocodes.location},${geocodes.formatted_address}`                resolve(to)            } else {                alert(&apos;æ‚¨çš„è¯•é©¾åœ°å€æœ‰è¯¯&apos;)            }            }else {            throw data.infocode            alert (&apos;æ¥å£å¼‚å¸¸&apos;)            }        })        })    }    return;}</code></pre><h4 id="å¾®ä¿¡åˆ†äº«å‡½æ•°"><a href="#å¾®ä¿¡åˆ†äº«å‡½æ•°" class="headerlink" title="å¾®ä¿¡åˆ†äº«å‡½æ•°"></a>å¾®ä¿¡åˆ†äº«å‡½æ•°</h4><pre><code> //å°è£…å·®ä»· import $ from &apos;jquery&apos;; import Helper from &apos;./helper&apos;; /** * å¾®ä¿¡ç›¸å…³æ¥å£æ–¹æ³•è°ƒç”¨ */ class WxJSHandler {     constructor() {         this.init();         this.earth_radius = 6378.137;     }     init() {         // Add weixin plugin         if (document.getElementById(&apos;scr_weixin&apos;) == null) {             let script = document.createElement(&apos;script&apos;);             script.src = &apos;https://res.wx.qq.com/open/js/jweixin-1.2.0.js&apos;;             script.id  = &quot;scr_weixin&quot;;             document.getElementsByTagName(&apos;head&apos;)[0].appendChild(script);         }     }     createNonceStr($len) {//åŠ å¯†æ–¹æ³•         let chars = &quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&quot;,             str = &quot;&quot;, i;         $len = $len || 16;         for (i = 0; i &lt; $len; i++) {             str += chars.substr((Math.random() * Math.floor(chars.length - 1)), 1);         }         return str;     }     wxReady(callback) {         let  nonceStr,             timestamp,             // url = url[0] ? url[0] + &apos;/wx/sharepage/getTicket&apos; : &apos;&apos;;             // url = &apos;http://lincoln-mp-dev.yonyouauto.com/wx/sharepage/getTicket&apos;;             // url = &apos;http://carowner.yonyouauto.com/wx/sharepage/getTicket&apos;             url = location.origin+&apos;/wx/sharepage/getTicket&apos;;             nonceStr = this.createNonceStr();//æ­¤å¤„ç”¨äº†ä¸€ä¸ªåŠ å¯†æ–¹æ³•             timestamp = Math.floor(new Date().getTime() / 1000);             $.get(url, {}, function(ticket) {                 let params = {                     jsapi_ticket: ticket,                     noncestr: nonceStr,                     timestamp: timestamp,                     url: location.href.split(&apos;#&apos;)[0]                 }, str = &apos;&apos;,                 signature = &apos;&apos;;                 for (let v in params) {                     str += v + &apos;=&apos; + params[v] + &apos;&amp;&apos;;                 }                 str = str.substring(0, str.length - 1);                 signature = Helper.hexCode(str);//hexoåŠ å¯†ï¼Œæ›´å¤šæŸ¥è€ƒhelp.js                 wx.config({                     debug: true,                     // appId: &apos;wxb85ed633e428bafc&apos;, // Required, the only identification of Official account.//æµ‹è¯•                     appId: &apos;wx235b2abcc8c160dc&apos;, //UAT                     // appId: &apos;wx77d29b0a35fdcb33&apos;,//ç”Ÿäº§                     timestamp: timestamp, // Required, generate a signed timestamp                     nonceStr: nonceStr, // Required, generate a signed nonceStr                     signature: signature,// Required, signature. See Appendix 1                     jsApiList: [&apos;chooseImage&apos;, &apos;uploadImage&apos;] // Required, required JA interface list, all JS interface list, see Appendix 2                 });                 wx.ready(function() {                         if (typeof callback === &apos;function&apos;) {                             callback &amp;&amp; callback()                         }                 })                 wx.error(function(res) {                     console.log(res);                 });             });     }     /**     * é€‰æ‹©ä¸Šä¼ å›¾ç‰‡     * @return     */     selectImage() {         return new Promise((resolve, reject) =&gt; {             wx.chooseImage({                 count: 1, // é»˜è®¤9                 sizeType: [&apos;original&apos;, &apos;compressed&apos;], // å¯ä»¥æŒ‡å®šæ˜¯åŸå›¾è¿˜æ˜¯å‹ç¼©å›¾ï¼Œé»˜è®¤äºŒè€…éƒ½æœ‰                 sourceType: [&apos;album&apos;, &apos;camera&apos;], // å¯ä»¥æŒ‡å®šæ¥æºæ˜¯ç›¸å†Œè¿˜æ˜¯ç›¸æœºï¼Œé»˜è®¤äºŒè€…éƒ½æœ‰                 success: function (res) {                     // è¿”å›é€‰å®šç…§ç‰‡çš„æœ¬åœ°IDåˆ—è¡¨ï¼ŒlocalIdå¯ä»¥ä½œä¸ºimgæ ‡ç­¾çš„srcå±æ€§æ˜¾ç¤ºå›¾ç‰‡                     resolve(res.localIds);                 }             });         });     }     /**     * ä¸Šä¼ å›¾ç‰‡     * @param {String} id     * @return     */     uploadImage(id) {         return new Promise((resolve, reject) =&gt; {             wx.uploadImage({                 localId: id, // éœ€è¦ä¸Šä¼ çš„å›¾ç‰‡çš„æœ¬åœ°IDï¼Œç”±chooseImageæ¥å£è·å¾—                 isShowProgressTips: 1, // é»˜è®¤ä¸º1ï¼Œæ˜¾ç¤ºè¿›åº¦æç¤º                 success: function (res) {                     // è¿”å›å›¾ç‰‡çš„æœåŠ¡å™¨ç«¯ID                     resolve(res.serverId);                 }             });         });     } } export default new WxJSHandler //ä¸Šä¼ åŠŸèƒ½è°ƒç”¨demo JSSDK.wxReady( ()=&gt;{     JSSDK.selectImage().then((value)=&gt;{         // è¿”å›ç…§ç‰‡åœ¨æ‰‹æœºç³»ç»Ÿçš„id             Toast({                         message: value,             });          JSSDK.uploadImage(value).then((url)=&gt;{             //  è¿”å›æœåŠ¡å™¨ç»™çš„å›¾ç‰‡URL             Toast({                         message: url,             });          })     })})</code></pre><h4 id="è§£å†³ç§»åŠ¨ç«¯300MSçš„ç‚¹å‡»å»¶æ—¶ï¼Œä¾èµ–fastClick"><a href="#è§£å†³ç§»åŠ¨ç«¯300MSçš„ç‚¹å‡»å»¶æ—¶ï¼Œä¾èµ–fastClick" class="headerlink" title="è§£å†³ç§»åŠ¨ç«¯300MSçš„ç‚¹å‡»å»¶æ—¶ï¼Œä¾èµ–fastClick"></a>è§£å†³ç§»åŠ¨ç«¯300MSçš„ç‚¹å‡»å»¶æ—¶ï¼Œä¾èµ–fastClick</h4><p><a href="https://github.com/ftlabs/fastclick">æ›´å¤šæŸ¥çœ‹ï¼šhttps://github.com/ftlabs/fastclick</a></p><pre><code>import FastClick from &apos;fastclick&apos;;(function(doc) {    if (&apos;addEventListener&apos; in doc) {    doc.addEventListener(&apos;DOMContentLoaded&apos;, function() {        FastClick.attach(doc.body);    }, false);    }})(document);</code></pre><h4 id="ç§»åŠ¨ç«¯ä½¿ç”¨remé€‚é…"><a href="#ç§»åŠ¨ç«¯ä½¿ç”¨remé€‚é…" class="headerlink" title="ç§»åŠ¨ç«¯ä½¿ç”¨remé€‚é…"></a>ç§»åŠ¨ç«¯ä½¿ç”¨remé€‚é…</h4><pre><code>(function(doc, win) {var docEl = doc.documentElement,    resizeEvt = &apos;orientationchange&apos; in window ? &apos;orientationchange&apos; : &apos;resize&apos;,    recalc = function() {    var clientWidth = docEl.clientWidth;    if (!clientWidth) return;    docEl.style.fontSize = 20 * (clientWidth / 320) + &apos;px&apos;;    };if (!doc.addEventListener) return;win.addEventListener(resizeEvt, recalc, false);doc.addEventListener(&apos;DOMContentLoaded&apos;, recalc, false);})(document, window);</code></pre><h4 id="åå°å“åº”çŠ¶æ€ç å®¹é”™å¤„ç†"><a href="#åå°å“åº”çŠ¶æ€ç å®¹é”™å¤„ç†" class="headerlink" title="åå°å“åº”çŠ¶æ€ç å®¹é”™å¤„ç†"></a>åå°å“åº”çŠ¶æ€ç å®¹é”™å¤„ç†</h4><pre><code>export const message =  [    { code: 400, msg: &apos;1ã€è¯­ä¹‰æœ‰è¯¯ï¼Œå½“å‰è¯·æ±‚æ— æ³•è¢«æœåŠ¡å™¨ç†è§£ã€‚é™¤éè¿›è¡Œä¿®æ”¹ï¼Œå¦åˆ™å®¢æˆ·ç«¯ä¸åº”è¯¥é‡å¤æäº¤è¿™ä¸ªè¯·æ±‚ã€‚ ã€€ã€€2ã€è¯·æ±‚å‚æ•°æœ‰è¯¯ã€‚&apos;},    { code: 404, msg: &apos;è¯·æ±‚å¤±è´¥ï¼Œè¯·æ±‚æ‰€å¸Œæœ›å¾—åˆ°çš„èµ„æºæœªè¢«åœ¨æœåŠ¡å™¨ä¸Šå‘ç°ã€‚&apos;},    { code: 405, msg: &apos;è¯·æ±‚è¡Œä¸­æŒ‡å®šçš„è¯·æ±‚æ–¹æ³•ä¸èƒ½è¢«ç”¨äºè¯·æ±‚ç›¸åº”çš„èµ„æºã€‚&apos;},    { code: 413, msg: &apos;æœåŠ¡å™¨æ‹’ç»å¤„ç†å½“å‰è¯·æ±‚ï¼Œå› ä¸ºè¯¥è¯·æ±‚æäº¤çš„å®ä½“æ•°æ®å¤§å°è¶…è¿‡äº†æœåŠ¡å™¨æ„¿æ„æˆ–è€…èƒ½å¤Ÿå¤„ç†çš„èŒƒå›´ã€‚æ­¤ç§æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨å¯ä»¥å…³é—­è¿æ¥ä»¥å…å®¢æˆ·ç«¯ç»§ç»­å‘é€æ­¤è¯·æ±‚ã€‚ ã€€ã€€å¦‚æœè¿™ä¸ªçŠ¶å†µæ˜¯ä¸´æ—¶çš„ï¼ŒæœåŠ¡å™¨åº”å½“è¿”å›ä¸€ä¸ª Retry-After çš„å“åº”å¤´ï¼Œä»¥å‘ŠçŸ¥å®¢æˆ·ç«¯å¯ä»¥åœ¨å¤šå°‘æ—¶é—´ä»¥åé‡æ–°å°è¯•ã€‚&apos;},    { code: 414, msg: &apos;è¯·æ±‚çš„URI é•¿åº¦è¶…è¿‡äº†æœåŠ¡å™¨èƒ½å¤Ÿè§£é‡Šçš„é•¿åº¦ï¼Œå› æ­¤æœåŠ¡å™¨æ‹’ç»å¯¹è¯¥è¯·æ±‚æä¾›æœåŠ¡ã€‚&apos;},    { code: 500, msg: &apos;æœåŠ¡å™¨é‡åˆ°äº†ä¸€ä¸ªæœªæ›¾é¢„æ–™çš„çŠ¶å†µï¼Œå¯¼è‡´äº†å®ƒæ— æ³•å®Œæˆå¯¹è¯·æ±‚çš„å¤„ç†ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè¿™ä¸ªé—®é¢˜éƒ½ä¼šåœ¨æœåŠ¡å™¨çš„ç¨‹åºç å‡ºé”™æ—¶å‡ºç°ã€‚&apos;},    { code: 501, msg: &apos;æœåŠ¡å™¨ä¸æ”¯æŒå½“å‰è¯·æ±‚æ‰€éœ€è¦çš„æŸä¸ªåŠŸèƒ½ã€‚å½“æœåŠ¡å™¨æ— æ³•è¯†åˆ«è¯·æ±‚çš„æ–¹æ³•ï¼Œå¹¶ä¸”æ— æ³•æ”¯æŒå…¶å¯¹ä»»ä½•èµ„æºçš„è¯·æ±‚ã€‚&apos;},    { code: 502, msg: &apos;ä½œä¸ºç½‘å…³æˆ–è€…ä»£ç†å·¥ä½œçš„æœåŠ¡å™¨å°è¯•æ‰§è¡Œè¯·æ±‚æ—¶ï¼Œä»ä¸Šæ¸¸æœåŠ¡å™¨æ¥æ”¶åˆ°æ— æ•ˆçš„å“åº”ã€‚&apos;},    { code: 503, msg: &apos;ç”±äºä¸´æ—¶çš„æœåŠ¡å™¨ç»´æŠ¤æˆ–è€…è¿‡è½½ï¼ŒæœåŠ¡å™¨å½“å‰æ— æ³•å¤„ç†è¯·æ±‚ã€‚&apos;},    { code: 504, msg: &apos;ä½œä¸ºç½‘å…³æˆ–è€…ä»£ç†å·¥ä½œçš„æœåŠ¡å™¨å°è¯•æ‰§è¡Œè¯·æ±‚æ—¶ï¼Œæœªèƒ½åŠæ—¶ä»ä¸Šæ¸¸æœåŠ¡å™¨ï¼ˆURIæ ‡è¯†å‡ºçš„æœåŠ¡å™¨ï¼Œä¾‹å¦‚HTTPã€FTPã€LDAPï¼‰æˆ–è€…è¾…åŠ©æœåŠ¡å™¨ï¼ˆä¾‹å¦‚DNSï¼‰æ”¶åˆ°å“åº”ã€‚&apos;},    { code: 505, msg: &apos;æœåŠ¡å™¨ä¸æ”¯æŒï¼Œæˆ–è€…æ‹’ç»æ”¯æŒåœ¨è¯·æ±‚ä¸­ä½¿ç”¨çš„ HTTP ç‰ˆæœ¬ã€‚è¿™æš—ç¤ºç€æœåŠ¡å™¨ä¸èƒ½æˆ–ä¸æ„¿ä½¿ç”¨ä¸å®¢æˆ·ç«¯ç›¸åŒçš„ç‰ˆæœ¬ã€‚å“åº”ä¸­åº”å½“åŒ…å«ä¸€ä¸ªæè¿°äº†ä¸ºä½•ç‰ˆæœ¬ä¸è¢«æ”¯æŒä»¥åŠæœåŠ¡å™¨æ”¯æŒå“ªäº›åè®®çš„å®ä½“ã€‚&apos;},    { code: 600, msg: &apos;&apos;},]</code></pre><h4 id="å…¨å±€è‡ªå®šä¹‰è¿‡æ»¤å™¨ï¼Œä¸šåŠ¡åœºæ™¯å¼è¿‡æ»¤å™¨åœ¨éœ€è¦çš„å®ä¾‹å¤„æ·»åŠ "><a href="#å…¨å±€è‡ªå®šä¹‰è¿‡æ»¤å™¨ï¼Œä¸šåŠ¡åœºæ™¯å¼è¿‡æ»¤å™¨åœ¨éœ€è¦çš„å®ä¾‹å¤„æ·»åŠ " class="headerlink" title="å…¨å±€è‡ªå®šä¹‰è¿‡æ»¤å™¨ï¼Œä¸šåŠ¡åœºæ™¯å¼è¿‡æ»¤å™¨åœ¨éœ€è¦çš„å®ä¾‹å¤„æ·»åŠ "></a>å…¨å±€è‡ªå®šä¹‰è¿‡æ»¤å™¨ï¼Œä¸šåŠ¡åœºæ™¯å¼è¿‡æ»¤å™¨åœ¨éœ€è¦çš„å®ä¾‹å¤„æ·»åŠ </h4><pre><code>import Vue from &apos;vue&apos;import * as path from &apos;../config/path&apos;;let filters = {prefixImagePath:function (value,level) {    if(!value||typeof value ==&apos;undefined&apos;||value==0){    return &apos;./images/noPicture.png&apos;;    }    return path[&apos;http://img13.360buyimg.com/&apos;+level]+value.toString();},dotReplace:function (value,maxNum) {    //todoè®¡ç®—å­—èŠ‚    if(!value||typeof(value)==&apos;undefined&apos;||value==0){    return &apos;&apos;;    }    if(maxNum&gt;(value.length-1)){    return value;    }    return value.toString().substr(0,maxNum)+&apos;...&apos;},//.....priceFormat:function(value){    var valueSplit = [];    value=value.replace(/^(\d*)$/,&quot;$1.&quot;);    value=(value+&quot;00&quot;).replace(/(\d*\.\d\d)\d*/,&quot;$1&quot;);    value=value.replace(&quot;.&quot;,&quot;,&quot;);    var re=/(\d)(\d{3},)/;    while(re.test(value))    value=value.replace(re,&quot;$1,$2&quot;);    value=value.replace(/,(\d\d)$/,&quot;.$1&quot;);    valueSplit = value.split(&apos;.&apos;);    if(valueSplit[1]&gt;0){    return  value.replace(/^\./,&quot;0.&quot;)    }else {    return valueSplit[0];    }}};export default ((vue)=&gt; {for(let fid in filters){    vue.filter(fid,filters[fid]);}})(Vue)</code></pre><h4 id="ç®€å•å°è£…æœ¬åœ°å­˜å‚¨åŠcookieæ“ä½œ"><a href="#ç®€å•å°è£…æœ¬åœ°å­˜å‚¨åŠcookieæ“ä½œ" class="headerlink" title="ç®€å•å°è£…æœ¬åœ°å­˜å‚¨åŠcookieæ“ä½œ"></a>ç®€å•å°è£…æœ¬åœ°å­˜å‚¨åŠcookieæ“ä½œ</h4><pre><code>**åªå®ä¾‹åŒ–ä¸€æ¬¡ï¼ŒåŒåŸŸä¸‹è·¨é¡µé¢æ•°æ®å…±äº«****https://github.com/marcuswestin/store.js****https://github.com/js-cookie/js-cookie**        import iStore from &apos;store&apos;;        import jsCookie from &apos;js-cookie&apos;;        class Store {        constructor(){        }        getLocal(key){            return iStore.get(key);        }        setLocal(key,value){            iStore.set(key,value);        }        removeLocal(key){            iStore.remove(key);        }        setCookie(key,value){            jsCookie.set(key,value);        }        setCookies(_object={}){            for(let key in _object){            this.setCookie(key,_object[key]);            }        }        getCookie(key){            return jsCookie.get(key);        }        removeCookie(key){            jsCookie.remove(key);        }        getCookies(){            return jsCookie.get();        }        }        function install(){            let instance;            if(!window.hasOwnProperty(&apos;store&apos;)){            window.store = instance = new Store();            }else {            instance = window[&apos;store&apos;];            }            return instance;        }        export default install();</code></pre><h4 id="æˆªå–urlå‚æ•°å€¼"><a href="#æˆªå–urlå‚æ•°å€¼" class="headerlink" title="æˆªå–urlå‚æ•°å€¼"></a>æˆªå–urlå‚æ•°å€¼</h4><pre><code>getQueryValue(name){    let reg = new RegExp(&quot;(^|&amp;)&quot;+ name +&quot;=([^&amp;]*)(&amp;|$)&quot;);    let subString = location.href.split(&apos;?&apos;)[1]||&apos;&apos;;    let r = subString.match(reg);    if(r!=null)return  decodeURI(r[2]); return null;}  getMutiQueryValue(_arr = []) {    let resultObj = {};    _arr.forEach((item, index) =&gt; {    resultObj[item] = this.getQueryValue(item);    })    return resultObj;}</code></pre><h4 id="æµè§ˆé‡"><a href="#æµè§ˆé‡" class="headerlink" title="æµè§ˆé‡"></a>æµè§ˆé‡</h4><pre><code>@param {Number} n @return String        browseCunt(n) {            n = typeof n == &apos;string&apos; ? Number(n) : n;            if (n &gt;= 10000) {            n = Math.round(Math.round(n / 100) / 10) /10+ &apos;W&apos;;            }            return n;        }</code></pre><h4 id="æ—¥æœŸæ ¼å¼è½¬æ¢"><a href="#æ—¥æœŸæ ¼å¼è½¬æ¢" class="headerlink" title="æ—¥æœŸæ ¼å¼è½¬æ¢"></a>æ—¥æœŸæ ¼å¼è½¬æ¢</h4><pre><code>@param {String|Number} date @return String        dateName(date) {            if (!date) return !1;            const curTime = (new Date()).getTime()            let old = new Date(date)            if (isNaN(old)) {   // IOS å…¼å®¹            old = new Date(date.replace(/\-/g, &apos;/&apos;));            }            let cur = curTime - old.getTime();            cur = Math.abs(cur);            let msg = &apos;&apos;;            if (cur &gt; 259200000) { // å¤§äºä¸‰å¤©,æ˜¾ç¤ºæ—¥æœŸ            // msg = ((old.getMonth()) &lt; 9 ? &apos;0&apos; + (old.getMonth() + 1) : (old.getMonth())) + &apos;-&apos; + (old.getDate() &lt; 9 ? &apos;0&apos; + old.getDate() : old.getDate());            msg = moment(old).format(&apos;YYYY-MM-DD&apos;);            } else if (cur &gt;= 86400000) {  // å¤§äºç­‰äº24å°æ—¶,æ˜¾ç¤ºXå¤©å‰            msg = Math.floor(cur / 86400000) + &apos;å¤©å‰&apos;;            } else if (cur &gt;= 3600000) {  // å¤§äºç­‰äº1å°æ—¶,æ˜¾ç¤ºXå°æ—¶å‰            msg = Math.floor(cur / 3600000) + &apos;å°æ—¶å‰&apos;;            } else if (cur &gt;= 60000) {  // å¤§äºç­‰äº1åˆ†é’Ÿ,æ˜¾ç¤ºXåˆ†é’Ÿå‰            msg = Math.floor(cur / 60000) + &apos;åˆ†é’Ÿå‰&apos;;            } else {  // å°äº60S, æ˜¾ç¤ºåˆšåˆš            msg = &apos;åˆšåˆš&apos;            }            return msg;        };</code></pre><p>###/* å°è£…ajaxå‡½æ•°</p><pre><code>* @param {string}obj.type httpè¿æ¥çš„æ–¹å¼ï¼ŒåŒ…æ‹¬POSTå’ŒGETä¸¤ç§æ–¹å¼* @param {string}obj.url å‘é€è¯·æ±‚çš„url* @param {boolean}obj.async æ˜¯å¦ä¸ºå¼‚æ­¥è¯·æ±‚ï¼Œtrueä¸ºå¼‚æ­¥çš„ï¼Œfalseä¸ºåŒæ­¥çš„* @param {object}obj.data å‘é€çš„å‚æ•°ï¼Œæ ¼å¼ä¸ºå¯¹è±¡ç±»å‹* @param {function}obj.success ajaxå‘é€å¹¶æ¥æ”¶æˆåŠŸè°ƒç”¨çš„å›è°ƒå‡½æ•°* @param {function}obj.error ajaxå‘é€å¤±è´¥æˆ–è€…æ¥æ”¶å¤±è´¥è°ƒç”¨çš„å›è°ƒå‡½æ•°*///  ecDo.ajax({//      type:&apos;get&apos;,//      url:&apos;xxx&apos;,//      data:{//          id:&apos;111&apos;//      },//      success:function(res){//          console.log(res)//      }//  })ajax: function (obj) {    obj = obj || {};    obj.type = obj.type.toUpperCase() || &apos;POST&apos;;    obj.url = obj.url || &apos;&apos;;    obj.async = obj.async || true;    obj.data = obj.data || null;    obj.success = obj.success || function () {        };    obj.error = obj.error || function () {        };    var xmlHttp = null;    if (XMLHttpRequest) {        xmlHttp = new XMLHttpRequest();    } else {        xmlHttp = new ActiveXObject(&apos;Microsoft.XMLHTTP&apos;);    }    var params = [];    for (var key in obj.data) {        params.push(key + &apos;=&apos; + obj.data[key]);    }    var postData = params.join(&apos;&amp;&apos;);    if (obj.type.toUpperCase() === &apos;POST&apos;) {        xmlHttp.open(obj.type, obj.url, obj.async);        xmlHttp.setRequestHeader(&apos;Content-Type&apos;, &apos;application/x-www-form-urlencoded;charset=utf-8&apos;);        xmlHttp.send(postData);    } else if (obj.type.toUpperCase() === &apos;GET&apos;) {        xmlHttp.open(obj.type, obj.url + &apos;?&apos; + postData, obj.async);        xmlHttp.send(null);    }    xmlHttp.onreadystatechange = function () {        if (xmlHttp.readyState == 4 &amp;&amp; xmlHttp.status == 200) {            obj.success(xmlHttp.responseText);        } else {            obj.error(xmlHttp.responseText);        }    };}</code></pre><h3 id="å›¾ç‰‡æ²¡åŠ è½½å‡ºæ¥æ—¶ç”¨ä¸€å¼ å›¾ç‰‡ä»£æ›¿"><a href="#å›¾ç‰‡æ²¡åŠ è½½å‡ºæ¥æ—¶ç”¨ä¸€å¼ å›¾ç‰‡ä»£æ›¿" class="headerlink" title="//å›¾ç‰‡æ²¡åŠ è½½å‡ºæ¥æ—¶ç”¨ä¸€å¼ å›¾ç‰‡ä»£æ›¿"></a>//å›¾ç‰‡æ²¡åŠ è½½å‡ºæ¥æ—¶ç”¨ä¸€å¼ å›¾ç‰‡ä»£æ›¿</h3><pre><code>//å›¾ç‰‡æ²¡åŠ è½½å‡ºæ¥æ—¶ç”¨ä¸€å¼ å›¾ç‰‡ä»£æ›¿aftLoadImg: function (obj, url, errorUrl,cb) {    var oImg = new Image(), _this = this;    oImg.src = url;    oImg.onload = function () {        obj.src = oImg.src;        if (cb &amp;&amp; _this.istype(cb, &apos;function&apos;)) {            cb(obj);        }    }    oImg.onerror=function () {        obj.src=errorUrl;        if (cb &amp;&amp; _this.istype(cb, &apos;function&apos;)) {            cb(obj);        }    }},//å›¾ç‰‡æ»šåŠ¨æ‡’åŠ è½½//@className {string} è¦éå†å›¾ç‰‡çš„ç±»å//@num {number} è·ç¦»å¤šå°‘çš„æ—¶å€™å¼€å§‹åŠ è½½ é»˜è®¤ 0//æ¯”å¦‚ï¼Œä¸€å¼ å›¾ç‰‡è·ç¦»æ–‡æ¡£é¡¶éƒ¨3000ï¼Œnumå‚æ•°è®¾ç½®200ï¼Œé‚£ä¹ˆåœ¨é¡µé¢æ»šåŠ¨åˆ°2800çš„æ—¶å€™ï¼Œå›¾ç‰‡åŠ è½½ã€‚ä¸ä¼ numå‚æ•°å°±æ»šåŠ¨ï¼Œnumé»˜è®¤æ˜¯0ï¼Œé¡µé¢æ»šåŠ¨åˆ°3000å°±åŠ è½½//htmlä»£ç //&lt;p&gt;&lt;img data-src=&quot;https://user-gold-cdn.xitu.io/2017/12/7/160319f12631736f&quot; class=&quot;load-img&quot; width=&apos;528&apos; height=&apos;304&apos; /&gt;&lt;/p&gt;//&lt;p&gt;&lt;img data-src=&quot;https://user-gold-cdn.xitu.io/2017/12/7/160319f12631736f&quot; class=&quot;load-img&quot; width=&apos;528&apos; height=&apos;304&apos; /&gt;&lt;/p&gt;//&lt;p&gt;&lt;img data-src=&quot;https://user-gold-cdn.xitu.io/2017/12/7/160319f12631736f&quot; class=&quot;load-img&quot; width=&apos;528&apos; height=&apos;304&apos; /&gt;&lt;/p&gt;....//data-srcå‚¨å­˜srcçš„æ•°æ®ï¼Œåˆ°éœ€è¦åŠ è½½çš„æ—¶å€™æŠŠdata-srcçš„å€¼èµ‹å€¼ç»™srcå±æ€§ï¼Œå›¾ç‰‡å°±ä¼šåŠ è½½ã€‚//è¯¦ç»†å¯ä»¥æŸ¥çœ‹testLoadImg.html//window.onload = function() {//    loadImg(&apos;load-img&apos;,100);//    window.onscroll = function() {//        ecDo.loadImg(&apos;load-img&apos;,100);//        }//}loadImg: function (className, num, errorUrl) {    var _className = className || &apos;ec-load-img&apos;, _num = num || 0, _this = this,_errorUrl=errorUrl||null;    var oImgLoad = document.getElementsByClassName(_className);    for (var i = 0, len = oImgLoad.length; i &lt; len; i++) {        //å¦‚æœå›¾ç‰‡å·²ç»æ»šåŠ¨åˆ°æŒ‡å®šçš„é«˜åº¦        if (document.documentElement.clientHeight + document.documentElement.scrollTop &gt; oImgLoad[i].offsetTop - _num &amp;&amp; !oImgLoad[i].isLoad) {            //è®°å½•å›¾ç‰‡æ˜¯å¦å·²ç»åŠ è½½            oImgLoad[i].isLoad = true;            //è®¾ç½®è¿‡æ¸¡ï¼Œå½“å›¾ç‰‡ä¸‹æ¥çš„æ—¶å€™æœ‰ä¸€ä¸ªå›¾ç‰‡é€æ˜åº¦å˜åŒ–            oImgLoad[i].style.cssText = &quot;transition: &apos;&apos;; opacity: 0;&quot;            if (oImgLoad[i].dataset) {                this.aftLoadImg(oImgLoad[i], oImgLoad[i].dataset.src, _errorUrl, function (o) {                    //æ·»åŠ å®šæ—¶å™¨ï¼Œç¡®ä¿å›¾ç‰‡å·²ç»åŠ è½½å®Œäº†ï¼Œå†æŠŠå›¾ç‰‡æŒ‡å®šçš„çš„classï¼Œæ¸…æ‰ï¼Œé¿å…é‡å¤ç¼–è¾‘                    setTimeout(function () {                        if (o.isLoad) {                            _this.removeClass(o, _className);                            o.style.cssText = &quot;&quot;;                        }                    }, 1000)                });            } else {                this.aftLoadImg(oImgLoad[i], oImgLoad[i].getAttribute(&quot;data-src&quot;), _errorUrl, function (o) {                    //æ·»åŠ å®šæ—¶å™¨ï¼Œç¡®ä¿å›¾ç‰‡å·²ç»åŠ è½½å®Œäº†ï¼Œå†æŠŠå›¾ç‰‡æŒ‡å®šçš„çš„classï¼Œæ¸…æ‰ï¼Œé¿å…é‡å¤ç¼–è¾‘                    setTimeout(function () {                        if (o.isLoad) {                            _this.removeClass(o, _className);                            o.style.cssText = &quot;&quot;;                        }                    }, 1000)                });            }            (function (i) {                setTimeout(function () {                    oImgLoad[i].style.cssText = &quot;transition:all 1s; opacity: 1;&quot;;                }, 16)            })(i);        }    }}</code></pre><h3 id="è·å–ï¼Œè®¾ç½®urlå‚æ•°"><a href="#è·å–ï¼Œè®¾ç½®urlå‚æ•°" class="headerlink" title="è·å–ï¼Œè®¾ç½®urlå‚æ•°"></a>è·å–ï¼Œè®¾ç½®urlå‚æ•°</h3><pre><code>//è®¾ç½®urlå‚æ•°//ecDo.setUrlPrmt({&apos;a&apos;:1,&apos;b&apos;:2})//resultï¼ša=1&amp;b=2setUrlPrmt: function (obj) {    var _rs = [];    for (var p in obj) {        if (obj[p] != null &amp;&amp; obj[p] != &apos;&apos;) {            _rs.push(p + &apos;=&apos; + obj[p])        }    }    return _rs.join(&apos;&amp;&apos;);},//è·å–urlå‚æ•°//ecDo.getUrlPrmt(&apos;test.com/write?draftId=122000011938&apos;)//resultï¼šObject{draftId: &quot;122000011938&quot;}getUrlPrmt: function (url) {    url = url ? url : window.location.href;    var _pa = url.substring(url.indexOf(&apos;?&apos;) + 1),        _arrS = _pa.split(&apos;&amp;&apos;),        _rs = {};    for (var i = 0, _len = _arrS.length; i &lt; _len; i++) {        var pos = _arrS[i].indexOf(&apos;=&apos;);        if (pos == -1) {            continue;        }        var name = _arrS[i].substring(0, pos),            value = window.decodeURIComponent(_arrS[i].substring(pos + 1));        _rs[name] = value;    }    return _rs;}</code></pre><h3 id="Dateæ—¥æœŸæ—¶é—´éƒ¨åˆ†"><a href="#Dateæ—¥æœŸæ—¶é—´éƒ¨åˆ†" class="headerlink" title="Dateæ—¥æœŸæ—¶é—´éƒ¨åˆ†"></a>Dateæ—¥æœŸæ—¶é—´éƒ¨åˆ†</h3><pre><code>//åˆ°æŸä¸€ä¸ªæ—¶é—´çš„å€’è®¡æ—¶//ecDo.getEndTime(&apos;2017/7/22 16:0:0&apos;)//resultï¼š&quot;å‰©ä½™æ—¶é—´6å¤© 2å°æ—¶ 28 åˆ†é’Ÿ20 ç§’&quot;getEndTime: function (endTime) {    var startDate = new Date(); //å¼€å§‹æ—¶é—´ï¼Œå½“å‰æ—¶é—´    var endDate = new Date(endTime); //ç»“æŸæ—¶é—´ï¼Œéœ€ä¼ å…¥æ—¶é—´å‚æ•°    var t = endDate.getTime() - startDate.getTime(); //æ—¶é—´å·®çš„æ¯«ç§’æ•°    var d = 0,        h = 0,        m = 0,        s = 0;    if (t &gt;= 0) {        d = Math.floor(t / 1000 / 3600 / 24);        h = Math.floor(t / 1000 / 60 / 60 % 24);        m = Math.floor(t / 1000 / 60 % 60);        s = Math.floor(t / 1000 % 60);    }    return &quot;å‰©ä½™æ—¶é—´&quot; + d + &quot;å¤© &quot; + h + &quot;å°æ—¶ &quot; + m + &quot; åˆ†é’Ÿ&quot; + s + &quot; ç§’&quot;;}</code></pre><h3 id="é€‚é…rem"><a href="#é€‚é…rem" class="headerlink" title="é€‚é…rem"></a>é€‚é…rem</h3><pre><code>getFontSize: function (_client) {    var doc = document,        win = window;    var docEl = doc.documentElement,        resizeEvt = &apos;orientationchange&apos; in window ? &apos;orientationchange&apos; : &apos;resize&apos;,        recalc = function () {            var clientWidth = docEl.clientWidth;            if (!clientWidth) return;            //å¦‚æœå±å¹•å¤§äº750ï¼ˆ750æ˜¯æ ¹æ®æˆ‘æ•ˆæœå›¾è®¾ç½®çš„ï¼Œå…·ä½“æ•°å€¼å‚è€ƒæ•ˆæœå›¾ï¼‰ï¼Œå°±è®¾ç½®clientWidth=750ï¼Œé˜²æ­¢font-sizeä¼šè¶…è¿‡100px            if (clientWidth &gt; _client) {                clientWidth = _client            }            //è®¾ç½®æ ¹å…ƒç´ font-sizeå¤§å°            docEl.style.fontSize = 100 * (clientWidth / _client) + &apos;px&apos;;        };    //å±å¹•å¤§å°æ”¹å˜ï¼Œæˆ–è€…æ¨ªç«–å±åˆ‡æ¢æ—¶ï¼Œè§¦å‘å‡½æ•°    win.addEventListener(resizeEvt, recalc, false);    //æ–‡æ¡£åŠ è½½å®Œæˆæ—¶ï¼Œè§¦å‘å‡½æ•°    doc.addEventListener(&apos;DOMContentLoaded&apos;, recalc, false);}//ecDo.getFontSize(750)//ä½¿ç”¨æ–¹å¼å¾ˆç®€å•ï¼Œæ¯”å¦‚æ•ˆæœå›¾ä¸Šï¼Œæœ‰å¼ å›¾ç‰‡ã€‚å®½é«˜éƒ½æ˜¯100px;//750æ˜¯è®¾è®¡å›¾çš„å®½åº¦//æ ·å¼å†™æ³•å°±æ˜¯img{    width:1rem;    height:1rem;}//è¿™æ ·çš„è®¾ç½®ï¼Œæ¯”å¦‚åœ¨å±å¹•å®½åº¦å¤§äºç­‰äº750pxè®¾å¤‡ä¸Šï¼Œ1rem=100pxï¼›å›¾ç‰‡æ˜¾ç¤ºå°±æ˜¯å®½é«˜éƒ½æ˜¯100px//æ¯”å¦‚åœ¨iphone6(å±å¹•å®½åº¦ï¼š375)ä¸Šï¼Œ375/750*100=50px;å°±æ˜¯1rem=50px;å›¾ç‰‡æ˜¾ç¤ºå°±æ˜¯å®½é«˜éƒ½æ˜¯50px;</code></pre><h3 id="æ‰‹æœºç±»å‹åˆ¤æ–­"><a href="#æ‰‹æœºç±»å‹åˆ¤æ–­" class="headerlink" title="æ‰‹æœºç±»å‹åˆ¤æ–­"></a>æ‰‹æœºç±»å‹åˆ¤æ–­</h3><pre><code>browserInfo: function (type) {    switch (type) {        case &apos;android&apos;:            return navigator.userAgent.toLowerCase().indexOf(&apos;android&apos;) !== -1        case &apos;iphone&apos;:            return navigator.userAgent.toLowerCase().indexOf(&apos;iphone&apos;) !== -1        case &apos;ipad&apos;:            return navigator.userAgent.toLowerCase().indexOf(&apos;ipad&apos;) !== -1        case &apos;weixin&apos;:            return navigator.userAgent.toLowerCase().indexOf(&apos;micromessenger&apos;) !== -1        default:            return navigator.userAgent.toLowerCase()    }}</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è¿™äº›å‡½æ•°åŒ…æ‹¬å¸¸è§çš„ä¸šåŠ¡å‡½æ•°å’Œé€šç”¨å‡½æ•°&lt;/p&gt;
&lt;h4 id=&quot;æ—¥æœŸè¿‡æ»¤å‡½æ•°&quot;&gt;&lt;a href=&quot;#æ—¥æœŸè¿‡æ»¤å‡½æ•°&quot; class=&quot;headerlink&quot; title=&quot;æ—¥æœŸè¿‡æ»¤å‡½æ•°&quot;&gt;&lt;/a&gt;æ—¥æœŸè¿‡æ»¤å‡½æ•°&lt;/h4&gt;&lt;pre&gt;&lt;code&gt;formatDate(date) {//
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>callã€applyã€bind çš„ç†è§£ä¸å®ä¾‹</title>
    <link href="https://github.com/luwenchun/luwenchun.github.io/2018/09/15/32call%E3%80%81apply%E3%80%81bind%20%E7%9A%84%E7%90%86%E8%A7%A3%E4%B8%8E%E5%AE%9E%E4%BE%8B/"/>
    <id>https://github.com/luwenchun/luwenchun.github.io/2018/09/15/32callã€applyã€bind çš„ç†è§£ä¸å®ä¾‹/</id>
    <published>2018-09-14T16:00:00.000Z</published>
    <updated>2019-01-10T08:08:04.950Z</updated>
    
    <content type="html"><![CDATA[<p>call/apply å¯ä»¥æ”¹å˜å‡½æ•°çš„thisæŒ‡å‘ã€‚ é™¤äº†ä¼ é€’å‚æ•°æ—¶æœ‰æ‰€å·®åˆ«ï¼Œcallå’Œapplyä½œç”¨å®Œå…¨ä¸€æ ·ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> tim = &#123; </span><br><span class="line">    name: <span class="string">'tim'</span>, </span><br><span class="line">    age: <span class="number">20</span>, </span><br><span class="line">    getName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> jake = &#123; <span class="attr">name</span>: <span class="string">'jake'</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;</span><br><span class="line"></span><br><span class="line">tim.getName(); <span class="comment">// tim</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// jakeå¯¹è±¡æ²¡æœ‰getNameæ–¹æ³•ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡call/applyå»ä½¿ç”¨timå¯¹è±¡çš„getNameæ–¹æ³•</span></span><br><span class="line">tim.getName.call(jake);  <span class="comment">// jake </span></span><br><span class="line">tim.getName.apply(jake); <span class="comment">// jake</span></span><br></pre></td></tr></table></figure><p>tim.getName.call(jake)çš„æ„æ€æ˜¯æ‰§è¡ŒgetNameæ–¹æ³•ï¼Œä½†æ˜¯é€šè¿‡call/applyå°†getNameæ–¹æ³•ä¸­çš„thisæŒ‡å‘å¼ºè¡Œè®¾ç½®ä¸ºjakeå¯¹è±¡ã€‚å› æ­¤æœ€ç»ˆçš„è¿”å›ç»“æœä¼šæ˜¯jakeã€‚</p><p>call applyçš„ä¸åŒä¹‹å¤„åœ¨äºä¼ é€’å‚æ•°çš„å½¢å¼ã€‚å…¶ä¸­applyä¼ é€’çš„å‚æ•°ä¸ºæ•°ç»„å½¢å¼, callä¼ é€’çš„å‚æ•°ä¸ºæŒ‰é¡ºåºä¾æ¬¡æ’åˆ—ã€‚ä¸€ä¸ªç®€å•çš„å®ä¾‹è¯´æ˜ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å½“å‚æ•°ä¸ªæ•°ä¸ç¡®å®šæˆ–è€…ä½ è§‰å¾—ç”¨applyæ¯”è¾ƒçˆ½æ—¶, å°±ç›´æ¥ä½¿ç”¨apply</span></span><br><span class="line"><span class="comment">// å­—é¢è§£é‡Šå°±æ˜¯objå¤ºèˆfnï¼Œobjæ‹¥æœ‰äº†æ‰§è¡Œfnå‡½æ•°çš„èƒ½åŠ›ï¼Œå¹¶ä¸”thisæŒ‡å‘obj.</span></span><br><span class="line"><span class="keyword">var</span> <span class="built_in">arguments</span> = &#123; <span class="number">0</span>:<span class="string">'name'</span>, <span class="number">1</span>:<span class="string">'age'</span>, <span class="number">2</span>:<span class="string">'gender'</span> &#125;;</span><br><span class="line"></span><br><span class="line">fn.apply(obj, <span class="built_in">arguments</span>);</span><br><span class="line">fn.call(obj, name, age, gender);</span><br></pre></td></tr></table></figure><ul><li>å°†ç±»æ•°ç»„å½¢å¼è½¬æ¢ä¸ºæ•°ç»„</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// arguments</span></span><br><span class="line"><span class="comment">// è¿”å›å€¼ä¸ºæ•°ç»„ï¼Œargumentsä¿æŒä¸å˜</span></span><br><span class="line"><span class="keyword">var</span> arg = [].slice.call(<span class="built_in">arguments</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// nodeList</span></span><br><span class="line"><span class="keyword">var</span> nList = [].slice.call(<span class="built_in">document</span>.getElementsByTagName(<span class="string">'li'</span>));</span><br></pre></td></tr></table></figure><ul><li>æ–¹æ³•å€Ÿç”¨</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = &#123;</span><br><span class="line">    name: <span class="string">'joker'</span>,</span><br><span class="line">    showName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> bar = &#123;</span><br><span class="line">    name: <span class="string">'rose'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">foo.showName.call(bar); <span class="comment">// rose</span></span><br></pre></td></tr></table></figure><ul><li>åœ¨ç»§æ‰¿ä¸­çš„åº”ç”¨</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// parent</span></span><br><span class="line"><span class="keyword">var</span> Person = <span class="function"><span class="keyword">function</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.gender = [<span class="string">'man'</span>, <span class="string">'woman'</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// child</span></span><br><span class="line"><span class="keyword">var</span> Student = <span class="function"><span class="keyword">function</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// inherit</span></span><br><span class="line">    Person.call(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line">Student.prototype.message = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'name:'</span>+<span class="keyword">this</span>.name+<span class="string">', age:'</span>+<span class="keyword">this</span>.age+<span class="string">', gender:.'</span>+<span class="keyword">this</span>.gender[<span class="number">0</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> xm = <span class="keyword">new</span> Student(<span class="string">'xiaom'</span>, <span class="number">12</span>);</span><br><span class="line">xm.message(); <span class="comment">//name:undefined, age:undefined, gender:.man</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;call/apply å¯ä»¥æ”¹å˜å‡½æ•°çš„thisæŒ‡å‘ã€‚ é™¤äº†ä¼ é€’å‚æ•°æ—¶æœ‰æ‰€å·®åˆ«ï¼Œcallå’Œapplyä½œç”¨å®Œå…¨ä¸€æ ·ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ç†è§£async/await</title>
    <link href="https://github.com/luwenchun/luwenchun.github.io/2018/08/29/37async%20%E3%80%81await%E7%90%86%E8%A7%A3/"/>
    <id>https://github.com/luwenchun/luwenchun.github.io/2018/08/29/37async ã€awaitç†è§£/</id>
    <published>2018-08-28T16:00:00.000Z</published>
    <updated>2019-01-10T08:01:59.834Z</updated>
    
    <content type="html"><![CDATA[<h3 id="CallBacks"><a href="#CallBacks" class="headerlink" title="CallBacks"></a>CallBacks</h3><p>å›è°ƒå‡½æ•°å°±æ˜¯å‡½æ•°Aä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°Bï¼Œå¹¶ä¸”åœ¨æœªæ¥æŸä¸€ä¸ªæ—¶é—´è¢«è°ƒç”¨ã€‚callbackçš„å¼‚æ­¥æ¨¡å¼æœ€å¤§çš„é—®é¢˜å°±æ˜¯ï¼Œç†è§£å›°éš¾åŠ å›è°ƒåœ°ç‹±ï¼ˆcallback hellï¼‰ï¼Œçœ‹ä¸‹é¢çš„ä»£ç çš„æ‰§è¡Œé¡ºåºï¼š</p><pre><code>A();ajax(&apos;url1&apos;, function(){    B();    ajax(&apos;url2&apos;, function(){        C();    }    D();});E();</code></pre><p>å…¶æ‰§è¡Œé¡ºåºä¸ºï¼šA =&gt; E =&gt; B =&gt; D =&gt; Cï¼Œè¿™ç§æ‰§è¡Œé¡ºåºçš„ç¡®ä¼šè®©äººå¤´è„‘å‘æ˜ï¼Œå¦å¤–ç”±äºç”±äºå¤šä¸ªå¼‚æ­¥æ“ä½œä¹‹é—´å¾€å¾€ä¼šè€¦åˆï¼Œåªè¦ä¸­é—´ä¸€ä¸ªæ“ä½œéœ€è¦ä¿®æ”¹ï¼Œé‚£ä¹ˆå®ƒçš„ä¸Šå±‚å›è°ƒå‡½æ•°å’Œä¸‹å±‚å›è°ƒå‡½æ•°éƒ½å¯èƒ½è¦ä¿®æ”¹ï¼Œè¿™å°±é™·å…¥äº†å›è°ƒåœ°ç‹±ã€‚è€Œ Promise å¯¹è±¡å°±å¾ˆå¥½çš„è§£å†³äº†å¼‚æ­¥æ“ä½œä¹‹é—´çš„è€¦åˆé—®é¢˜ï¼Œè®©æˆ‘ä»¬å¯ä»¥ç”¨åŒæ­¥ç¼–ç¨‹çš„æ–¹å¼å»å†™å¼‚æ­¥æ“ä½œã€‚</p><h3 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h3><p>Promise å¯¹è±¡æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆpromiseå®ä¾‹ã€‚Promise ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œæœ‰ä¸‰ç§çŠ¶æ€ï¼špendingï¼Œresolvedï¼ˆå¼‚æ­¥æ“ä½œæˆåŠŸç”± pending å˜ä¸º resolved ï¼‰ï¼Œrejectedï¼ˆå¼‚æ­¥æ“ä½œå¤±è´¥ç”± pending å˜ä¸º rejected ï¼‰ï¼Œä¸€æ—¦å˜ä¸ºåä¸¤ç§çŠ¶æ€å°†ä¸ä¼šå†æ”¹å˜ã€‚Promise å¯¹è±¡ä½œä¸ºæ„é€ å‡½æ•°æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè€Œè¿™ä¸ªå‡½æ•°åˆæ¥å— resolve å’Œ reject ä¸¤ä¸ªå‡½æ•°åšä¸ºå‚æ•°ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°æ˜¯JSå†…ç½®çš„ï¼Œæ— éœ€é…ç½®ã€‚resolve å‡½æ•°åœ¨å¼‚æ­¥æ“ä½œæˆåŠŸåè°ƒç”¨ï¼Œå°†pendingçŠ¶æ€å˜ä¸ºresolvedï¼Œå¹¶å°†å®ƒçš„å‚æ•°ä¼ é€’ç»™å›è°ƒå‡½æ•°ï¼›reject å‡½æ•°åœ¨å¼‚æ­¥æ“ä½œå¤±è´¥æ—¶è°ƒç”¨ï¼Œå°†pendingçŠ¶æ€å˜ä¸ºrejectedï¼Œå¹¶å°†å‚æ•°ä¼ é€’ç»™å›è°ƒå‡½æ•°ã€‚</p><ul><li>Promise.prototype.then()</li></ul><p>Promiseæ„é€ å‡½æ•°çš„åŸå‹ä¸Šæœ‰ä¸€ä¸ªthenæ–¹æ³•ï¼Œå®ƒæ¥å—ä¸¤ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ resolved çŠ¶æ€å’Œ rejected çŠ¶æ€çš„å›è°ƒå‡½æ•°ï¼Œè€Œè¿™ä¸¤ä¸ªå›è°ƒå‡½æ•°æ¥å—çš„å‚æ•°åˆ†åˆ«æ˜¯Promiseå®ä¾‹ä¸­resolveå‡½æ•°å’Œrejectå‡½æ•°ä¸­çš„å‚æ•°ã€‚ å¦å¤–rejectedçŠ¶æ€çš„å›è°ƒå‡½æ•°æ˜¯å¯çœç•¥çš„ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> instance = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// ä¸€äº›å¼‚æ­¥æ“ä½œ</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="comment">/*å¼‚æ­¥æ“ä½œæˆåŠŸ*/</span>) &#123;</span><br><span class="line">      resolve(value);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      reject(error);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">instance.then(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// do something...</span></span><br><span class="line">&#125;, error =&gt; &#123;</span><br><span class="line">  <span class="comment">// do something...</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>æ³¨æ„Promiseå®ä¾‹åœ¨ç”Ÿæˆåä¼šç«‹å³æ‰§è¡Œï¼Œè€Œ then æ–¹æ³•åªæœ‰åœ¨æ‰€æœ‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œåæ‰ä¼šæ‰§è¡Œï¼Œçœ‹çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'async task begins!'</span>);</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    resolve(<span class="string">'done, pending -&gt; resolved!'</span>);</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">promise.then(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;) </span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'1.please wait'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'2.please wait'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'3.please wait'</span>);</span><br><span class="line"><span class="comment">// async task begins!</span></span><br><span class="line"><span class="comment">// 1.please wait</span></span><br><span class="line"><span class="comment">// 2.please wait</span></span><br><span class="line"><span class="comment">// 3.please wait</span></span><br><span class="line"><span class="comment">// done, pending -&gt; resolved!</span></span><br></pre></td></tr></table></figure><ul><li>é“¾å¼è°ƒç”¨ then æ–¹æ³•</li></ul><p>ç”¨ then çš„é“¾å¼å†™æ³•ï¼ŒæŒ‰é¡ºåºå®ç°ä¸€ç³»åˆ—çš„å¼‚æ­¥æ“ä½œï¼Œè¿™æ ·å°±å¯ä»¥ç”¨åŒæ­¥ç¼–ç¨‹çš„å½¢å¼å»å®ç°å¼‚æ­¥æ“ä½œï¼Œæ¥çœ‹ä¸‹é¢çš„ä¾‹å­ï¼Œå®ç°éš”ä¸¤ç§’æ‰“ä¸€æ¬¡æ‹›å‘¼ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      resolve(name);</span><br><span class="line">    &#125;, <span class="number">2000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sayHi(<span class="string">'å¼ ä¸‰'</span>)</span><br><span class="line">  .then(<span class="function"><span class="params">name</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`ä½ å¥½ï¼Œ <span class="subst">$&#123;name&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">return</span> sayHi(<span class="string">'æå››'</span>);    <span class="comment">// æœ€ç»ˆ resolved å‡½æ•°ä¸­çš„å‚æ•°å°†ä½œä¸ºå€¼ä¼ é€’ç»™ä¸‹ä¸€ä¸ªthen</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="comment">// name æ˜¯ä¸Šä¸€ä¸ªthenä¼ é€’å‡ºæ¥çš„å‚æ•°</span></span><br><span class="line">  .then(<span class="function"><span class="params">name</span> =&gt;</span> &#123;                </span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`ä½ å¥½ï¼Œ <span class="subst">$&#123;name&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">return</span> sayHi(<span class="string">'ç‹äºŒéº»å­'</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="params">name</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`ä½ å¥½ï¼Œ <span class="subst">$&#123;name&#125;</span>`</span>);</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="comment">// ä½ å¥½ï¼Œ å¼ ä¸‰</span></span><br><span class="line"><span class="comment">// ä½ å¥½ï¼Œ æå››</span></span><br><span class="line"><span class="comment">// ä½ å¥½ï¼Œ ç‹äºŒéº»å­</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ä½¿ç”¨é“¾å¼thençš„å†™æ³•ï¼Œå°†å¼‚æ­¥æ“ä½œå˜æˆäº†åŒæ­¥çš„å½¢å¼ï¼Œä½†æ˜¯ä¹Ÿå¸¦æ¥äº†æ–°çš„é—®é¢˜ï¼Œå°±æ˜¯å¼‚æ­¥æ“ä½œå˜æˆäº†å¾ˆé•¿çš„thené“¾ï¼Œæ–°çš„è§£å†³æ–¹æ³•å°±æ˜¯Generatorï¼Œè¿™é‡Œè·¨è¿‡å®ƒç›´æ¥è¯´å®ƒçš„è¯­æ³•ç³–ï¼šasync/awaitã€‚</p><h3 id="async-await"><a href="#async-await" class="headerlink" title="async/await"></a>async/await</h3><ul><li>async</li></ul><p>async/awaitå®é™…ä¸Šæ˜¯Generatorçš„è¯­æ³•ç³–ã€‚é¡¾åæ€ä¹‰ï¼Œasyncå…³é”®å­—ä»£è¡¨åé¢çš„å‡½æ•°ä¸­æœ‰å¼‚æ­¥æ“ä½œï¼Œawaitè¡¨ç¤ºç­‰å¾…ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•æ‰§è¡Œå®Œæˆã€‚å£°æ˜å¼‚æ­¥å‡½æ•°åªéœ€åœ¨æ™®é€šå‡½æ•°å‰é¢åŠ ä¸€ä¸ªå…³é”®å­—asyncå³å¯ï¼Œå¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">funcA</span>(<span class="params"></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure><p>async å‡½æ•°è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡ï¼ˆå¦‚æœæŒ‡å®šçš„è¿”å›å€¼ä¸æ˜¯Promiseå¯¹è±¡ï¼Œä¹Ÿè¿”å›ä¸€ä¸ªPromiseï¼Œåªä¸è¿‡ç«‹å³ resolve ï¼Œå¤„ç†æ–¹å¼åŒ then æ–¹æ³•ï¼‰ï¼Œå› æ­¤ async å‡½æ•°é€šè¿‡ return è¿”å›çš„å€¼ï¼Œä¼šæˆä¸º then æ–¹æ³•ä¸­å›è°ƒå‡½æ•°çš„å‚æ•°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">funcA</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'hello!'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">funcA().then(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// hello!</span></span><br></pre></td></tr></table></figure><p>å•ç‹¬ä¸€ä¸ª async å‡½æ•°ï¼Œå…¶å®ä¸Promiseæ‰§è¡Œçš„åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œæ¥çœ‹çœ‹ await éƒ½å¹²äº†äº›å•¥ã€‚</p><ul><li>await</li></ul><p>é¡¾åæ€ä¹‰ï¼Œ await å°±æ˜¯å¼‚æ­¥ç­‰å¾…ï¼Œå®ƒç­‰å¾…çš„æ˜¯ä¸€ä¸ªPromiseï¼Œå› æ­¤ await åé¢åº”è¯¥å†™ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œå¦‚æœä¸æ˜¯Promiseå¯¹è±¡ï¼Œé‚£ä¹ˆä¼šè¢«è½¬æˆä¸€ä¸ªç«‹å³ resolve çš„Promiseã€‚ async å‡½æ•°è¢«è°ƒç”¨åå°±ç«‹å³æ‰§è¡Œï¼Œä½†æ˜¯ä¸€æ—¦é‡åˆ° await å°±ä¼šå…ˆè¿”å›ï¼Œç­‰åˆ°å¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œæˆï¼Œå†æ¥ç€æ‰§è¡Œå‡½æ•°ä½“å†…åé¢çš„è¯­å¥ã€‚æ€»ç»“ä¸€ä¸‹å°±æ˜¯ï¼šasyncå‡½æ•°è°ƒç”¨ä¸ä¼šé€ æˆä»£ç çš„é˜»å¡ï¼Œä½†æ˜¯awaitä¼šå¼•èµ·asyncå‡½æ•°å†…éƒ¨ä»£ç çš„é˜»å¡ã€‚çœ‹çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'async function is running!'</span>);</span><br><span class="line">  <span class="keyword">const</span> num1 = <span class="keyword">await</span> <span class="number">200</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`num1 is <span class="subst">$&#123;num1&#125;</span>`</span>);</span><br><span class="line">  <span class="keyword">const</span> num2 = <span class="keyword">await</span> num1+ <span class="number">100</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`num2 is <span class="subst">$&#123;num2&#125;</span>`</span>);</span><br><span class="line">  <span class="keyword">const</span> num3 = <span class="keyword">await</span> num2 + <span class="number">100</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`num3 is <span class="subst">$&#123;num3&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'run me before await!'</span>);</span><br><span class="line"><span class="comment">// async function is running!</span></span><br><span class="line"><span class="comment">// run me before await!</span></span><br><span class="line"><span class="comment">// num1 is 200</span></span><br><span class="line"><span class="comment">// num2 is 300</span></span><br><span class="line"><span class="comment">// num3 is 400</span></span><br></pre></td></tr></table></figure><p><strong> å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ await åé¢çš„ Promise å¯¹è±¡ä¸æ€»æ˜¯è¿”å› resolved çŠ¶æ€ï¼Œåªè¦ä¸€ä¸ª await åé¢çš„PromiseçŠ¶æ€å˜ä¸º rejected ï¼Œæ•´ä¸ª async å‡½æ•°éƒ½ä¼šä¸­æ–­æ‰§è¡Œï¼Œä¸ºäº†ä¿å­˜é”™è¯¯çš„ä½ç½®å’Œé”™è¯¯ä¿¡æ¯ï¼Œæˆ‘ä»¬éœ€è¦ç”¨ tryâ€¦catch è¯­å¥æ¥å°è£…å¤šä¸ª await è¿‡ç¨‹ï¼Œå¦‚ä¸‹ï¼š </strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> num1 = <span class="keyword">await</span> <span class="number">200</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`num1 is <span class="subst">$&#123;num1&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">const</span> num2 = <span class="keyword">await</span> <span class="built_in">Promise</span>.reject(<span class="string">'num2 is wrong!'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`num2 is <span class="subst">$&#123;num2&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">const</span> num3 = <span class="keyword">await</span> num2 + <span class="number">100</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`num3 is <span class="subst">$&#123;num3&#125;</span>`</span>);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func();</span><br><span class="line"><span class="comment">// num1 is 200</span></span><br><span class="line"><span class="comment">// å‡ºé”™äº†</span></span><br><span class="line"><span class="comment">// num2 is wrong!</span></span><br></pre></td></tr></table></figure><p>å¦‚ä¸Šæ‰€ç¤ºï¼Œåœ¨ num2 å¤„ await å¾—åˆ°äº†ä¸€ä¸ªçŠ¶æ€ä¸º rejected çš„Promiseå¯¹è±¡ï¼Œè¯¥é”™è¯¯ä¼šè¢«ä¼ é€’åˆ° catch è¯­å¥ä¸­ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å®šä½é”™è¯¯å‘ç”Ÿçš„ä½ç½®ã€‚</p><ul><li>async/awaitæ¯”Promiseå¼ºåœ¨å“ªå„¿ï¼Ÿ</li></ul><p>æ¥ä¸‹æ¥æˆ‘ä»¬ç”¨async/awaitæ”¹å†™ä¸€ä¸‹Promiseç« èŠ‚ä¸­å…³äºsayHiçš„ä¸€ä¸ªä¾‹å­ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolved, rejected</span>) =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      resolved(name);</span><br><span class="line">    &#125;, <span class="number">2000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">sayHi_async</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> sayHi_1 = <span class="keyword">await</span> sayHi(name)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`ä½ å¥½ï¼Œ <span class="subst">$&#123;sayHi_1&#125;</span>`</span>)</span><br><span class="line">  <span class="keyword">const</span> sayHi_2 = <span class="keyword">await</span> sayHi(<span class="string">'æå››'</span>)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`ä½ å¥½ï¼Œ <span class="subst">$&#123;sayHi_2&#125;</span>`</span>)</span><br><span class="line">  <span class="keyword">const</span> sayHi_3 = <span class="keyword">await</span> sayHi(<span class="string">'ç‹äºŒéº»å­'</span>)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`ä½ å¥½ï¼Œ <span class="subst">$&#123;sayHi_3&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sayHi_async(<span class="string">'å¼ ä¸‰'</span>)</span><br><span class="line"><span class="comment">// ä½ å¥½ï¼Œ å¼ ä¸‰</span></span><br><span class="line"><span class="comment">// ä½ å¥½ï¼Œ æå››</span></span><br><span class="line"><span class="comment">// ä½ å¥½ï¼Œ ç‹äºŒéº»å­</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;CallBacks&quot;&gt;&lt;a href=&quot;#CallBacks&quot; class=&quot;headerlink&quot; title=&quot;CallBacks&quot;&gt;&lt;/a&gt;CallBacks&lt;/h3&gt;&lt;p&gt;å›è°ƒå‡½æ•°å°±æ˜¯å‡½æ•°Aä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°Bï¼Œå¹¶ä¸”åœ¨æœªæ¥æŸä¸€ä¸ªæ—¶é—´è¢«è°ƒç”¨ã€‚callback
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>VUEåŠ¨æ€ç»‘å®šaudio/videoçš„srcä¸èƒ½æ’­æ”¾</title>
    <link href="https://github.com/luwenchun/luwenchun.github.io/2018/08/08/20video%E7%9A%84src%E4%B8%8D%E8%83%BD%E6%92%AD%E6%94%BE/"/>
    <id>https://github.com/luwenchun/luwenchun.github.io/2018/08/08/20videoçš„srcä¸èƒ½æ’­æ”¾/</id>
    <published>2018-08-07T16:00:00.000Z</published>
    <updated>2019-01-10T08:11:20.147Z</updated>
    
    <content type="html"><![CDATA[<p>å‰å‡ å¤©å†™ä¸ªé¡¹ç›®ï¼Œè¦æ±‚è¦æœ¬åœ°ä¸Šä¼ éŸ³è§†é¢‘è‡³æœåŠ¡å™¨ï¼Œå†å›æ˜¾å¯æ’­æ”¾ã€‚å¿ƒæƒ³è¿™ç®€å•å•Šï¼Œç›´æ¥vueåŒå‘ç»‘å®šä¸å°±è½»æ¾è§£å†³ï¼Œæ²¡æƒ³åˆ°é‡åˆ°ä¸ªå¤§å‘~</p><pre><code>&lt;audio controls&gt;&lt;source :src=&quot;audio_url&quot;&gt;æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒ audio å…ƒç´ ã€‚&lt;/audio&gt;this.audio_url = res.data.audio_url</code></pre><p>ç»“æœéŸ³é¢‘å¹¶ä¸èƒ½æ’­æ”¾ï¼Œäºæ˜¯å°±æ‰¾åº¦å¨˜ï¼Œå¾ˆå¤šè¯´èµ‹å€¼å®Œæˆåè¦é‡æ–°ç”¨jsæ§åˆ¶æ’­æ”¾å™¨æ’­æ”¾ï¼Œåƒè¿™æ ·ã€‚ã€‚</p><pre><code>let dom = document.getElementById(&apos;audio&apos;);dom.play();</code></pre><p>äº²è‡ªå°è¯•ï¼Œå¹¶æ²¡æœ‰æ•ˆæœ</p><p>æœ€ç»ˆæƒ³åˆ°äº†VUEçš„$refsç‰¹æ€§ï¼Œä¸äº†è§£çš„åŒå­¦è‡ªå·±å»VUEçœ‹æ–‡æ¡£</p><p>ç»™audioç»‘å®šä¸ªrefå€¼</p><pre><code>&lt;audio ref=&apos;audio&apos; controls&gt;    æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒ audio å…ƒç´ ã€‚&lt;/audio&gt;</code></pre><p>åœ¨éœ€è¦åŠ¨æ€ç»‘å®šçš„æ–¹æ³•é‡Œç”¨$refsåŠ¨æ€è®¾ç½®src</p><pre><code>this.$refs.audio.src = res.data.audio_url</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å‰å‡ å¤©å†™ä¸ªé¡¹ç›®ï¼Œè¦æ±‚è¦æœ¬åœ°ä¸Šä¼ éŸ³è§†é¢‘è‡³æœåŠ¡å™¨ï¼Œå†å›æ˜¾å¯æ’­æ”¾ã€‚å¿ƒæƒ³è¿™ç®€å•å•Šï¼Œç›´æ¥vueåŒå‘ç»‘å®šä¸å°±è½»æ¾è§£å†³ï¼Œæ²¡æƒ³åˆ°é‡åˆ°ä¸ªå¤§å‘~&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;audio controls&amp;gt;
&amp;lt;source :src=&amp;quot;audio_url&amp;quot
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>æ€§èƒ½ä¼˜åŒ–</title>
    <link href="https://github.com/luwenchun/luwenchun.github.io/2018/06/23/41%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%96%B9%E5%BC%8F/"/>
    <id>https://github.com/luwenchun/luwenchun.github.io/2018/06/23/41æ€§èƒ½ä¼˜åŒ–æ–¹å¼/</id>
    <published>2018-06-22T16:00:00.000Z</published>
    <updated>2019-01-10T08:02:58.289Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ä»æœåŠ¡æ¸²æŸ“è¿‡ç¨‹è°ˆæ€§èƒ½ä¼˜åŒ–"><a href="#ä»æœåŠ¡æ¸²æŸ“è¿‡ç¨‹è°ˆæ€§èƒ½ä¼˜åŒ–" class="headerlink" title="ä»æœåŠ¡æ¸²æŸ“è¿‡ç¨‹è°ˆæ€§èƒ½ä¼˜åŒ–"></a>ä»æœåŠ¡æ¸²æŸ“è¿‡ç¨‹è°ˆæ€§èƒ½ä¼˜åŒ–</h1><p>æœ¬æ–‡å°†ç»“åˆä»åœ¨æµè§ˆå™¨è¾“å…¥urlï¼Œåˆ°å±•ç¤ºæœ€ç»ˆé¡µé¢çš„è¿‡ç¨‹æ¥å¯¹å…¶è¿›è¡Œä¸€æ­¥æ­¥åˆ†æï¼Œå¹¶å°†åœ¨web ä¸­çš„å®é™…åº”ç”¨å®è·µè¿›è¡Œæ€»ç»“ã€‚</p><h3 id="æ¨¡å¼-1-å‰ååˆ†ç¦»"><a href="#æ¨¡å¼-1-å‰ååˆ†ç¦»" class="headerlink" title="æ¨¡å¼ 1 - å‰ååˆ†ç¦»"></a>æ¨¡å¼ 1 - å‰ååˆ†ç¦»</h3><p>ä»ç”¨æˆ·è¾“å…¥ urlã€€åˆ°å±•ç¤ºæœ€ç»ˆé¡µé¢çš„è¿‡ç¨‹ï¼Œè¿™ç§æ¨¡å¼å¯ç®€å•çš„åˆ†ä¸ºä»¥ä¸‹ 5 éƒ¨åˆ†</p><p>1ã€ç”¨æˆ·è¾“å…¥ urlï¼Œå¼€å§‹æ‹‰å–é™æ€é¡µé¢<br>2ã€é™æ€é¡µé¢åŠ è½½å®Œæˆåï¼Œè§£ææ–‡æ¡£æ ‡ç­¾ï¼Œå¹¶å¼€å§‹æ‹‰å– CSS ï¼ˆä¸€èˆ¬ CSS æ”¾äºå¤´éƒ¨ï¼‰<br>3ã€æ¥ç€æ‹‰å– JS æ–‡ä»¶ï¼ˆä¸€èˆ¬ JS æ–‡ä»¶æ”¾äºå°¾éƒ¨ï¼‰<br>4ã€å½“ JS åŠ è½½å®Œæˆï¼Œä¾¿å¼€å§‹æ‰§è¡Œ JS å†…å®¹ï¼Œå‘å‡ºè¯·æ±‚å¹¶æ‹¿åˆ°æ•°æ®<br>5ã€å°†æ•°æ®ä¸èµ„æºæ¸²æŸ“åˆ°é¡µé¢ä¸Šï¼Œå¾—åˆ°æœ€ç»ˆå±•ç¤ºæ•ˆæœ</p><p>å…·ä½“æµç¨‹å›¾å¦‚ä¸‹</p><p><img src="/../about/qg6ngypp8w.png" alt=""></p><p>è¿™ç§å¤„ç†å½¢å¼åº”è¯¥å æ®å¤§å¤šæ•°ï¼Œç„¶è€Œä¹Ÿå¾ˆå®¹æ˜“å‘ç°ä¸€ä¸ªé—®é¢˜å°±æ˜¯<strong>è¯·æ±‚æ•°å¤šï¼Œå‰åä¾èµ–å¤§</strong>ï¼Œå¦‚å¿…é¡»ç­‰å¾… JS åŠ è½½å®Œæˆåæ‰§è¡Œæ—¶æ‰ä¼šå‘èµ· æ•°æ®è¯·æ±‚ï¼Œç­‰å¾…æ•°æ®å›æ¥ç”¨æˆ·æ‰å¯ä»¥å±•ç¤ºæœ€ç»ˆé¡µé¢ï¼Œè¿™ç§å¼ºä¾èµ–çš„å…³ç³»ä½¿å¾—æ•´ä¸ªåº”ç”¨çš„é¦–å±æ¸²æŸ“è€—æ—¶å¢åŠ ä¸å°‘ã€‚</p><h3 id="æ¨¡å¼-2-æ•°æ®ç›´å‡º"><a href="#æ¨¡å¼-2-æ•°æ®ç›´å‡º" class="headerlink" title="æ¨¡å¼ 2 - æ•°æ®ç›´å‡º"></a>æ¨¡å¼ 2 - æ•°æ®ç›´å‡º</h3><blockquote><p>æ•°æ®è¯·æ±‚åœ¨serverç«¯ä¸Šæå‰è·å–ï¼Œå¹¶å’Œhtmlä¸€åŒè¿”å›ï¼Œé¡µé¢æ¨¡æ¿å’Œæ•°æ®çš„æ¸²æŸ“åœ¨æµè§ˆå™¨ç«¯ä¸Šæ‰§è¡Œ</p></blockquote><p>åœ¨æ¨¡å¼ 1 ä¸­ï¼Œç¬¬ 1 ç‚¹ç”¨æˆ·è¾“å…¥ url æ—¶ server ç«¯ä¸åšå…¶ä»–å¤„ç†ç›´æ¥è¿”å› html ï¼Œåœ¨ç¬¬ 4 ç‚¹å‘ server è¯·æ±‚è·å–æ•°æ®ã€‚é‚£ä¹ˆï¼ŒåŒæ ·éƒ½æ˜¯å‘ server è¯·æ±‚è·å–ï¼Œå¦‚æœåœ¨ç¬¬ 1 ç‚¹ä¸­å°†è¯·æ±‚æ•°æ®æ”¾åœ¨ server ä¸Šï¼Œå°†æ‹¿åˆ°çš„æ•°æ®æ‹¼æ¥åˆ° HTML ä¸Šä¸€å¹¶è¿”å›ï¼Œé‚£ä¹ˆå¯å‡å°‘åœ¨å‰ç«¯é¡µé¢ä¸Šçš„ä¸€æ¬¡æ•°æ®è¯·æ±‚æ—¶é—´ã€‚ è¿™å°±æ˜¯æ¨¡å¼ 2 - æ•°æ®ç›´å‡ºæ‰€åšçš„äº‹ï¼Œå¤„ç†æ–¹å¼ä¹Ÿå¾ˆç®€å•</p><p>1ã€ç”¨æˆ·è¾“å…¥ url ï¼Œåœ¨ server è¿”å› HTML å‰å»è¯·æ±‚è·å–é¡µé¢éœ€è¦çš„æ•°æ®<br>2ã€å°†æ•°æ®æ‹¼æ¥åˆ° HTML ä¸Š å¹¶ ä¸€èµ·è¿”å›ç»™å‰ç«¯ï¼ˆå¯ä»¥æ’å…¥ script æ ‡ç­¾å°†æ•°æ®æ·»åŠ åˆ°å…¨å±€å˜é‡ä¸Šï¼Œæˆ–æ”¾åˆ°æŸä¸ªæ ‡ç­¾çš„ data å±æ€§ä¸­ï¼Œå¦‚ ï¼‰<br>3ã€åœ¨å‰ç«¯çš„JSä»£ç ä¸­åˆ¤æ–­æ˜¯å¦å·²åœ¨æœåŠ¡ç«¯æ‹¿åˆ°æ•°æ®ï¼Œç›´æ¥æ‹¿è¯¥æ•°æ®è¿›è¡Œæ¸²æŸ“é¡µé¢ï¼Œä¸å†åšæ•°æ®è¯·æ±‚</p><p>å…·ä½“å¯ä¸‹é¢çš„æµç¨‹å›¾çœ‹å‡ºè¿™ç§æ¨¡å¼ä¸‹</p><p><img src="/../about/xingneng2.png" alt=""></p><p>è¿™ç§æ¨¡å¼ä¸æ¨¡å¼1 ç›¸æ¯”ï¼Œå‡å°‘äº†è¿™ä¸¤ç§æ¨¡å¼è¯·æ±‚æ•°æ®çš„è€—æ—¶å·®è·ã€‚è¿™å—å·®è·æœ‰å¤šå°‘å‘¢ï¼Ÿ</p><h4 id="å‘èµ·ä¸€ä¸ª-HTTP-çš„ç½‘ç»œè¯·æ±‚è¿‡ç¨‹"><a href="#å‘èµ·ä¸€ä¸ª-HTTP-çš„ç½‘ç»œè¯·æ±‚è¿‡ç¨‹" class="headerlink" title="å‘èµ·ä¸€ä¸ª HTTP çš„ç½‘ç»œè¯·æ±‚è¿‡ç¨‹"></a>å‘èµ·ä¸€ä¸ª HTTP çš„ç½‘ç»œè¯·æ±‚è¿‡ç¨‹</h4><pre><code>DNSè§£æï¼ˆ100~200mså¯ä»¥ç¼“å­˜ï¼‰        |        |        å»ºç«‹TCPé“¾æ¥ (ä¸‰æ¬¡æ¡æ‰‹100~200ms )                |                |            HTTP Request( åŠä¸ªRTT )                 |                |            HTTP Response( RTT ä¸ç¡®å®šä¼˜åŒ–ç©ºé—´ )</code></pre><p>æ³¨: RTT ä¸º Round-trip time ç¼©å†™ï¼Œè¡¨ç¤ºä¸€ä¸ªæ•°æ®åŒ…ä»å‘å‡ºåˆ°è¿”å›æ‰€ç”¨çš„æ—¶é—´ã€‚</p><h4 id="HTTP-è¯·æ±‚åœ¨å‰åç«¯å‘å‡ºï¼Œå·®è·æœ‰å¤šå°‘ï¼Ÿ"><a href="#HTTP-è¯·æ±‚åœ¨å‰åç«¯å‘å‡ºï¼Œå·®è·æœ‰å¤šå°‘ï¼Ÿ" class="headerlink" title="HTTP è¯·æ±‚åœ¨å‰åç«¯å‘å‡ºï¼Œå·®è·æœ‰å¤šå°‘ï¼Ÿ"></a>HTTP è¯·æ±‚åœ¨å‰åç«¯å‘å‡ºï¼Œå·®è·æœ‰å¤šå°‘ï¼Ÿ</h4><p>ç”±ä¸Šé¢å¯¹ HTTP çš„ç½‘ç»œè¯·æ±‚è¿‡ç¨‹å¯çœ‹åˆ°å»ºç«‹ä¸€æ¬¡å®Œæ•´çš„è¯·æ±‚è¿”å›åœ¨è€—æ—¶ä¸Šæ˜æ˜¾çš„ï¼Œç‰¹åˆ«æ˜¯å¤–ç½‘ç”¨æˆ·åœ¨è¿›è¡Œ HTTP è¯·æ±‚æ—¶ï¼Œç”±äºç½‘ç»œç­‰å› ç´ çš„å½±å“ï¼Œåœ¨ç½‘ç»œè¿æ¥åŠä¼ è¾“ä¸Šå°†èŠ±è´¹å¾ˆå¤šæ—¶é—´ã€‚è€Œåœ¨æœåŠ¡ç«¯è¿›è¡Œæ•°æ®æ‹‰å–ï¼Œå³ä½¿åŒæ ·æ˜¯ HTTP è¯·æ±‚ï¼Œç”±äºåç«¯ä¹‹é—´æ˜¯å¤„äºåŒä¸€ä¸ªå†…ç½‘ä¸Šçš„ï¼Œæ‰€ä»¥ä¼ è¾“ååˆ†é«˜æ•ˆï¼Œè¿™æ˜¯å·®è·æ¥æºçš„å¤§å¤´ï¼Œæ˜¯ä¼˜åŒ–çš„åˆšéœ€ã€‚</p><h3 id="æ¨¡å¼-3-ç›´å‡º-æœåŠ¡ç«¯æ¸²æŸ“"><a href="#æ¨¡å¼-3-ç›´å‡º-æœåŠ¡ç«¯æ¸²æŸ“" class="headerlink" title="æ¨¡å¼ 3 - ç›´å‡º (æœåŠ¡ç«¯æ¸²æŸ“)"></a>æ¨¡å¼ 3 - ç›´å‡º (æœåŠ¡ç«¯æ¸²æŸ“)</h3><blockquote><p>æ•°æ®è¯·æ±‚åœ¨serverç«¯ä¸Šæå‰è·å–ï¼Œé¡µé¢æ¨¡æ¿ç»“åˆæ•°æ®çš„æ¸²æŸ“å¤„ç†ä¹Ÿåœ¨serverä¸Šå®Œæˆï¼Œè¾“å‡ºæœ€ç»ˆ HTML</p></blockquote><p>æ¨¡å¼ 2 ä¸­å°†ä¾èµ–äºJSæ–‡ä»¶åŠ è½½å›æ¥æ‰èƒ½å»å‘èµ·çš„æ•°æ®è¯·æ±‚æŒªåˆ° server ä¸­ï¼Œæ•°æ®éšç€ HTML ä¸€å¹¶è¿”å›ã€‚ç„¶åç­‰å¾… JS æ–‡ä»¶åŠ è½½å®Œæˆï¼ŒJS å°†æœåŠ¡ç«¯å·²ç»™åˆ°çš„æ•°æ®ä¸HTMLç»“åˆå¤„ç†ï¼Œç”Ÿæˆæœ€ç»ˆçš„é¡µé¢æ–‡æ¡£ã€‚</p><p>æ•°æ®è¯·æ±‚èƒ½æ”¾åˆ° server ä¸Šï¼Œå¯¹äºæ•°æ®ä¸HTMLç»“åˆå¤„ç†ä¹Ÿå¯ä»¥åœ¨serverä¸Šåšï¼Œä»è€Œå‡å°‘ç­‰å¾… JS æ–‡ä»¶çš„åŠ è½½æ—¶é—´ã€‚ è¿™å°±æ˜¯æ¨¡å¼3 - ç›´å‡º (æœåŠ¡ç«¯æ¸²æŸ“)ï¼Œä¸»è¦å¤„ç†å¦‚ä¸‹</p><p>1ã€server ä¸Šè·å–æ•°æ®å¹¶å°†æ•°æ®ä¸é¡µé¢æ¨¡æ¿ç»“åˆï¼Œåœ¨æœåŠ¡ç«¯æ¸²æŸ“æˆæœ€ç»ˆçš„ HTML<br>2ã€è¿”å›æœ€ç»ˆçš„ HTML å±•ç¤º</p><p>å¯ä»¥ä»ä¸‹å›¾çœ‹å‡ºï¼Œé¡µé¢çš„é¦–å±å±•ç¤ºä¸å†éœ€è¦ç­‰å¾… JS æ–‡ä»¶å›æ¥ï¼Œä¼˜åŒ–å‡å°‘äº†è¿™å—æ—¶é—´</p><p><img src="/../about/1c5f64bc-29a7-11e6-800a-bd8b4af30b0f.png" alt=""></p><p>é€šè¿‡ä»¥ä¸Šæ¨¡å¼ï¼Œå°†æ¨¡å¼ 1 - å¸¸ç”¨æ¨¡å¼ä¸­çš„ç¬¬ 3 å’Œ 4 ç‚¹è€—æ—¶è¿›è¡Œäº†ä¼˜åŒ–ï¼Œé‚£ä¹ˆå¯ä»¥å†ç»§ç»­ä¼˜åŒ–å—ï¼Ÿåœ¨é¡µé¢æ–‡æ¡£ä¸å¤§æƒ…å†µä¸‹ï¼Œå¯å°†CSSå†…è”åˆ°HTMLä¸­ï¼Œè¿™æ˜¯ä¼˜åŒ–è¯·æ±‚é‡çš„åšæ³•ã€‚ç›´å‡ºç¨å¾®ä¸åŒçš„æ˜¯éœ€è¦è€ƒè™‘çš„æ˜¯æœåŠ¡ç«¯æœ€ç»ˆæ¸²æŸ“å‡ºæ¥çš„æ–‡æ¡£çš„å¤§å°ï¼Œåœ¨èŒƒå›´å†…ä¹Ÿå¯å°† CSS æ–‡ä»¶å†…è”åˆ° HTML ä¸­ã€‚è¿™æ ·çš„è¯ï¼Œä¾¿ä¼˜åŒ–äº† CSS çš„è·å–æ—¶é—´ï¼Œå¦‚ä¸‹å›¾</p><p><img src="/../about/2b09bc10-29a7-11e6-8fa9-6dc12579b1aa.png" alt=""></p><h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><p>ç›´å‡ºèƒ½å¤Ÿå°†å¸¸ç”¨æ¨¡å¼ä¼˜åŒ–åˆ°å‰©ä¸‹äº†ä¸€æ¬¡ HTML è¯·æ±‚ï¼ŒåŠ å¿«é¦–å±æ¸²æŸ“æ—¶é—´ï¼Œä½¿ç”¨æœåŠ¡ç«¯æ¸²æŸ“ï¼Œè¿˜èƒ½å¤Ÿä¼˜åŒ–å‰ç«¯æ¸²æŸ“éš¾ä»¥å…‹æœçš„ SEO é—®é¢˜ã€‚è€Œä¸ç®¡æ˜¯ç®€å•çš„ æ•°æ®ç›´å‡º æˆ–æ˜¯ æœåŠ¡ç«¯æ¸²æŸ“ç›´å‡º éƒ½èƒ½ä½¿é¡µé¢çš„æ€§èƒ½ä¼˜åŒ–å¾—åˆ°è¾ƒå¤§æé«˜ï¼Œä»¥ä¸‹å°†ä»å®é™…åº”ç”¨ä¸­è¿›è¡Œè¯´æ˜ã€‚</p><h1 id="ä»è¾“å…¥URLè¿‡ç¨‹è°ˆæ€§èƒ½ä¼˜åŒ–"><a href="#ä»è¾“å…¥URLè¿‡ç¨‹è°ˆæ€§èƒ½ä¼˜åŒ–" class="headerlink" title="ä»è¾“å…¥URLè¿‡ç¨‹è°ˆæ€§èƒ½ä¼˜åŒ–"></a>ä»è¾“å…¥URLè¿‡ç¨‹è°ˆæ€§èƒ½ä¼˜åŒ–</h1><pre><code>  1ã€ç”¨æˆ·è¾“å…¥ç½‘å€ï¼ˆå‡è®¾æ˜¯ä¸ª HTML é¡µé¢ï¼Œç¬¬ä¸€æ¬¡è®¿é—®ï¼Œæ— ç¼“å­˜æƒ…å†µï¼‰ï¼Œæµè§ˆå™¨å‘æœåŠ¡å™¨å‘å‡ºHTTPè¯·æ±‚ï¼ŒæœåŠ¡å™¨è¿”å› HTML æ–‡ä»¶ï¼› ï¼ˆå–„ç”¨ç¼“å­˜ï¼Œå‡å°‘HTTPè¯·æ±‚ï¼Œå‡è½»æœåŠ¡å™¨å‹åŠ›ï¼‰ 2. æµè§ˆå™¨è½½å…¥ HTML ä»£ç ï¼Œå‘ç° &lt;head&gt; å†…æœ‰ä¸€ä¸ª &lt;link&gt; å¼•ç”¨å¤–éƒ¨ CSS æ–‡ä»¶,åˆ™æµè§ˆå™¨ç«‹å³å‘é€CSSæ–‡ä»¶è¯·æ±‚ï¼Œè·å–æµè§ˆå™¨è¿”å›çš„CSSæ–‡ä»¶ï¼›  ï¼ˆCSSæ–‡ä»¶åˆå¹¶ï¼Œå‡å°‘HTTPè¯·æ±‚ï¼‰ 3. æµè§ˆå™¨ç»§ç»­è½½å…¥ HTML ä¸­ &lt;body&gt; éƒ¨åˆ†çš„ä»£ç ï¼Œå¹¶ä¸” CSS æ–‡ä»¶å·²ç»æ‹¿åˆ°æ‰‹äº†ï¼Œå¯ä»¥å¼€å§‹æ¸²æŸ“é¡µé¢äº†ï¼› ï¼ˆCSSæ–‡ä»¶éœ€è¦æ”¾ç½®æœ€ä¸Šé¢ï¼Œé¿å…ç½‘é¡µé‡æ–°æ¸²æŸ“ï¼‰ 4. æµè§ˆå™¨åœ¨ä»£ç ä¸­å‘ç°ä¸€ä¸ª &lt;img&gt; æ ‡ç­¾å¼•ç”¨äº†ä¸€å¼ å›¾ç‰‡ï¼Œå‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ã€‚æ­¤æ—¶æµè§ˆå™¨ä¸ä¼šç­‰åˆ°å›¾ç‰‡ä¸‹è½½å®Œï¼Œè€Œæ˜¯ç»§ç»­æ¸²æŸ“åé¢çš„ä»£ç ï¼› ï¼ˆå›¾ç‰‡æ–‡ä»¶åˆå¹¶ï¼Œå‡å°‘HTTPè¯·æ±‚ï¼‰ 5. æœåŠ¡å™¨è¿”å›å›¾ç‰‡æ–‡ä»¶ï¼Œç”±äºå›¾ç‰‡å ç”¨äº†ä¸€å®šé¢ç§¯ï¼Œå½±å“äº†åé¢æ®µè½çš„æ’å¸ƒï¼Œå› æ­¤æµè§ˆå™¨éœ€è¦å›è¿‡å¤´æ¥é‡æ–°æ¸²æŸ“è¿™éƒ¨åˆ†ä»£ç ï¼›ï¼ˆæœ€å¥½å›¾ç‰‡éƒ½è®¾ç½®å°ºå¯¸ï¼Œé¿å…é‡æ–°æ¸²æŸ“ï¼‰ 6. æµè§ˆå™¨å‘ç°äº†ä¸€ä¸ªåŒ…å«ä¸€è¡Œ JavaScript ä»£ç çš„ &lt;script&gt; æ ‡ç­¾ï¼Œä¼šç«‹å³è¿è¡Œè¯¥jsä»£ç ï¼›ï¼ˆscriptæœ€å¥½æ”¾ç½®é¡µé¢æœ€ä¸‹é¢ï¼‰                    7. jsè„šæœ¬æ‰§è¡Œäº†è¯­å¥ï¼Œå®ƒä»¤æµè§ˆå™¨éšè—æ‰ä»£ç ä¸­çš„æŸä¸ª &lt;div&gt;,çªç„¶å°±å°‘äº†ä¸€ä¸ªå…ƒç´ ï¼Œæµè§ˆå™¨ä¸å¾—ä¸é‡æ–°æ¸²æŸ“è¿™éƒ¨åˆ†ä»£ç ï¼› ï¼ˆé¡µé¢åˆå§‹åŒ–æ ·å¼ä¸è¦ä½¿ç”¨jsæ§åˆ¶ï¼‰    8. ç»ˆäºç­‰åˆ°äº† &lt;/html&gt; çš„åˆ°æ¥ï¼Œæµè§ˆå™¨æ³ªæµæ»¡é¢â€¦â€¦ 9. ç­‰ç­‰ï¼Œè¿˜æ²¡å®Œï¼Œç”¨æˆ·ç‚¹äº†ä¸€ä¸‹ç•Œé¢ä¸­çš„â€œæ¢è‚¤â€æŒ‰é’®ï¼ŒJavaScript è®©æµè§ˆå™¨æ¢äº†ä¸€ä¸‹ &lt;link&gt; æ ‡ç­¾çš„ CSS è·¯å¾„ï¼›10. æµè§ˆå™¨å¬é›†äº†åœ¨åº§çš„å„ä½ &lt;div&gt;&lt;span&gt;&lt;ul&gt;&lt;li&gt; ä»¬ï¼Œâ€œå¤§ä¼™å„¿æ”¶æ‹¾æ”¶æ‹¾è¡Œæï¼Œå’±å¾—é‡æ–°æ¥è¿‡â€¦â€¦â€ï¼Œæµè§ˆå™¨å‘æœåŠ¡å™¨è¯·æ±‚äº†æ–°çš„CSSæ–‡ä»¶ï¼Œé‡æ–°æ¸²æŸ“é¡µé¢ã€‚</code></pre><h1 id="ä»æ¸²æŸ“DOMæ ‘è¿‡ç¨‹è°ˆæ€§èƒ½ä¼˜åŒ–"><a href="#ä»æ¸²æŸ“DOMæ ‘è¿‡ç¨‹è°ˆæ€§èƒ½ä¼˜åŒ–" class="headerlink" title="ä»æ¸²æŸ“DOMæ ‘è¿‡ç¨‹è°ˆæ€§èƒ½ä¼˜åŒ–"></a>ä»æ¸²æŸ“DOMæ ‘è¿‡ç¨‹è°ˆæ€§èƒ½ä¼˜åŒ–</h1><p><strong>reflow(å›æµ)</strong></p><p> è¯´åˆ°é¡µé¢ä¸ºä»€ä¹ˆä¼šæ…¢ï¼Ÿé‚£æ˜¯å› ä¸ºæµè§ˆå™¨è¦èŠ±æ—¶é—´ã€èŠ±ç²¾åŠ›å»æ¸²æŸ“ï¼Œå°¤å…¶æ˜¯å½“å®ƒå‘ç°æŸä¸ªéƒ¨åˆ†å‘ç”Ÿäº†ç‚¹å˜åŒ–å½±å“äº†å¸ƒå±€ï¼Œéœ€è¦å€’å›å»é‡æ–°æ¸²æŸ“ï¼Œ è¯¥è¿‡ç¨‹ç§°ä¸ºreflowï¼ˆå›æµï¼‰ã€‚</p><p>  reflow å‡ ä¹æ˜¯æ— æ³•é¿å…çš„ã€‚ç°åœ¨ç•Œé¢ä¸Šæµè¡Œçš„ä¸€äº›æ•ˆæœï¼Œæ¯”å¦‚æ ‘çŠ¶ç›®å½•çš„æŠ˜å ã€å±•å¼€ï¼ˆå®è´¨ä¸Šæ˜¯å…ƒç´ çš„æ˜¾ ç¤ºä¸éšè—ï¼‰ç­‰ï¼Œéƒ½å°†å¼•èµ·æµè§ˆå™¨çš„ reflowã€‚é¼ æ ‡æ»‘è¿‡ã€ç‚¹å‡»â€¦â€¦åªè¦è¿™äº›è¡Œä¸ºå¼•èµ·äº†é¡µé¢ä¸ŠæŸäº›å…ƒç´ çš„å ä½é¢ç§¯ã€å®šä½æ–¹å¼ã€è¾¹è·ç­‰å±æ€§çš„å˜åŒ–ï¼Œéƒ½ä¼šå¼•èµ·å®ƒå†…éƒ¨ã€å‘¨å›´ç”šè‡³æ•´ä¸ªé¡µé¢çš„é‡æ–°æ¸² æŸ“ã€‚é€šå¸¸æˆ‘ä»¬éƒ½æ— æ³•é¢„ä¼°æµè§ˆå™¨åˆ°åº•ä¼š reflow å“ªä¸€éƒ¨åˆ†çš„ä»£ç ï¼Œå®ƒä»¬éƒ½å½¼æ­¤ç›¸äº’å½±å“ç€ã€‚</p><p><strong>repaint(é‡ç»˜)</strong></p><p>å¦‚æœåªæ˜¯æ”¹å˜æŸä¸ªå…ƒç´ çš„èƒŒæ™¯è‰²ã€æ–‡ å­—é¢œè‰²ã€è¾¹æ¡†é¢œè‰²ç­‰ç­‰ä¸å½±å“å®ƒå‘¨å›´æˆ–å†…éƒ¨å¸ƒå±€çš„å±æ€§ï¼Œå°†åªä¼šå¼•èµ·æµè§ˆå™¨ repaintï¼ˆé‡ç»˜ï¼‰ã€‚repaint çš„é€Ÿåº¦æ˜æ˜¾å¿«äº reflowï¼ˆåœ¨IEä¸‹éœ€è¦æ¢ä¸€ä¸‹è¯´æ³•ï¼Œreflow è¦æ¯” repaint æ›´ç¼“æ…¢ï¼‰ã€‚å°½é‡é¿å…reflow(å›æµ)  ï¼Œreflow(å›æµ)æ˜¯å¯¼è‡´DOMè„šæœ¬æ‰§è¡Œä½æ•ˆçš„å…³é”®å› ç´ ä¹‹ä¸€ã€‚é¡µé¢ä¸Šä»»ä½•ä¸€ä¸ªç»“ç‚¹è§¦å‘reflowï¼Œéƒ½ä¼šå¯¼è‡´å®ƒçš„å­ç»“ç‚¹åŠç¥–å…ˆç»“ç‚¹é‡æ–°æ¸²æŸ“ã€‚</p><blockquote><p>åœ¨å“ªäº›æƒ…å†µä¸‹ä¼šå¯¼è‡´reflowå‘ç”Ÿï¼š</p></blockquote><pre><code> æ”¹å˜çª—å›—å¤§å° æ”¹å˜æ–‡å­—å¤§å° æ·»åŠ /åˆ é™¤æ ·å¼è¡¨å†…å®¹çš„æ”¹å˜ï¼Œå¦‚ç”¨æˆ·åœ¨è¾“å…¥æ¡†ä¸­æ•²å­—æ¿€æ´»ä¼ªç±»ï¼Œå¦‚:hover (IEé‡Œæ˜¯ä¸€ä¸ªå…„å¼Ÿç»“ç‚¹çš„ä¼ªç±»è¢«æ¿€æ´»)æ“ä½œclasså±æ€§è„šæœ¬æ“ä½œDOMè®¡ç®—offsetWidthå’ŒoffsetHeightè®¾ç½®styleå±æ€§æ€§</code></pre><p> é‚£ä¹ˆä¸ºäº†å‡å°‘å›æµè¦æ³¨æ„å“ªäº›æ–¹å¼å‘¢ï¼Ÿ      </p><p>1.ä¸è¦é€šè¿‡çˆ¶çº§æ¥æ”¹å˜å­å…ƒç´ æ ·å¼ï¼Œæœ€å¥½ç›´æ¥æ”¹å˜å­å…ƒç´ æ ·å¼ï¼Œæ”¹å˜å­å…ƒç´ æ ·å¼å°½å¯èƒ½ä¸è¦å½±å“çˆ¶å…ƒç´ å’Œå…„å¼Ÿå…ƒç´ çš„å¤§å°å’Œå°ºå¯¸</p><p>2.å°½é‡é€šè¿‡classæ¥è®¾è®¡å…ƒç´ æ ·å¼ï¼Œåˆ‡å¿Œç”¨style</p><pre><code>var bstyle = document.body.style; // cachebstyle.padding = &quot;20px&quot;; // reflow, repaintbstyle.border = &quot;10px solid red&quot;; //  å†ä¸€æ¬¡çš„ reflow å’Œ repaintbstyle.color = &quot;blue&quot;; // repaintbstyle.backgroundColor = &quot;#fad&quot;; // repaintbstyle.fontSize = &quot;2em&quot;; // reflow, repaint// new DOM element - reflow, repaintdocument.body.appendChild(document.createTextNode(&apos;dude!&apos;));</code></pre><p>å¯¹ä¸Šé¢ä»£ç ä¼˜åŒ–ï¼š</p><pre><code>.b-class{ã€€ã€€padding:20px;ã€€ã€€color:blue;ã€€ã€€border:10px solid red;ã€€ã€€background-color:#fad;ã€€ã€€font-size:2em;}$div.addClass(&quot;b-class&quot;);</code></pre><p>3.å®ç°å…ƒç´ çš„åŠ¨ç”»ï¼Œå¯¹äºç»å¸¸è¦è¿›è¡Œå›æµçš„ç»„ä»¶ï¼Œè¦æŠ½ç¦»å‡ºæ¥ï¼Œå®ƒçš„positionå±æ€§åº”å½“è®¾ä¸ºfixedæˆ–absolute</p><p>4.æƒè¡¡é€Ÿåº¦çš„å¹³æ»‘ã€‚æ¯”å¦‚å®ç°ä¸€ä¸ªåŠ¨ç”»ï¼Œä»¥1ä¸ªåƒç´ ä¸ºå•ä½ç§»åŠ¨è¿™æ ·æœ€å¹³æ»‘ï¼Œä½†reflowå°±ä¼šè¿‡äºé¢‘ç¹ï¼ŒCPUå¾ˆå¿«å°±ä¼šè¢«å®Œå…¨å ç”¨ã€‚å¦‚æœä»¥3ä¸ªåƒç´ ä¸ºå•ä½ç§»åŠ¨å°±ä¼šå¥½å¾ˆå¤šã€‚</p><p>5.ä¸è¦ç”¨tableså¸ƒå±€çš„å¦ä¸€ä¸ªåŸå› å°±æ˜¯tablesä¸­æŸä¸ªå…ƒç´ ä¸€æ—¦è§¦å‘reflowå°±ä¼šå¯¼è‡´tableé‡Œæ‰€æœ‰çš„å…¶å®ƒå…ƒç´ reflowã€‚åœ¨é€‚åˆç”¨tableçš„åœºåˆï¼Œå¯ä»¥è®¾ç½®table-layoutä¸ºautoæˆ–fixedï¼Œ</p><p>6.è¿™æ ·å¯ä»¥è®©tableä¸€è¡Œä¸€è¡Œçš„æ¸²æŸ“ï¼Œè¿™ç§åšæ³•ä¹Ÿæ˜¯ä¸ºäº†é™åˆ¶reflowçš„å½±å“èŒƒå›´ã€‚</p><p>7.cssé‡Œä¸è¦æœ‰è¡¨è¾¾å¼expression</p><p>8.å‡å°‘ä¸å¿…è¦çš„ DOM å±‚çº§ï¼ˆDOM depthï¼‰ã€‚æ”¹å˜ DOM æ ‘ä¸­çš„ä¸€çº§ä¼šå¯¼è‡´æ‰€æœ‰å±‚çº§çš„æ”¹å˜ï¼Œä¸Šè‡³æ ¹éƒ¨ï¼Œä¸‹è‡³è¢«æ”¹å˜èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ã€‚è¿™å¯¼è‡´å¤§é‡æ—¶é—´è€—è´¹åœ¨æ‰§è¡Œ reflow ä¸Šé¢ã€‚</p><p>9.é¿å…ä¸å¿…è¦çš„å¤æ‚çš„ CSS é€‰æ‹©å™¨ï¼Œå°¤å…¶æ˜¯åä»£é€‰æ‹©å™¨ï¼ˆdescendant selectorsï¼‰ï¼Œå› ä¸ºä¸ºäº†åŒ¹é…é€‰æ‹©å™¨å°†è€—è´¹æ›´å¤šçš„ CPUã€‚</p><p>10.å°½é‡ä¸è¦è¿‡å¤šçš„é¢‘ç¹çš„å»å¢åŠ ï¼Œä¿®æ”¹ï¼Œåˆ é™¤å…ƒç´ ï¼Œå› ä¸ºè¿™å¯èƒ½ä¼šé¢‘ç¹çš„å¯¼è‡´é¡µé¢reflowï¼Œå¯ä»¥å…ˆæŠŠè¯¥domèŠ‚ç‚¹æŠ½ç¦»åˆ°å†…å­˜ä¸­è¿›è¡Œå¤æ‚çš„æ“ä½œç„¶åå†displayåˆ°é¡µé¢ä¸Šã€‚</p><pre><code>åœ¨div.firsté‡Œé¢åŠ å…¥div.second,åœ¨div.secondé‡Œé¢åŠ å…¥div.third:        $divS = $(&quot;&lt;div class=&apos;second&apos;&gt;&lt;/div&gt;&quot;);        $(div.first).append($divS));//reflow        $divT = $(&quot;&lt;div class=&apos;third&apos;&gt;&lt;/div&gt;&quot;);        $divS.append($divT);//reflowä¼˜åŒ–ä»£ç ï¼š        $divS = $(&quot;&lt;div class=&apos;second&apos;&gt;&lt;/div&gt;&quot;);        $divT = $(&quot;&lt;div class=&apos;third&apos;&gt;&lt;/div&gt;&quot;);        $divS.append($divT);        $(div.first).append($divS));//reflowæˆ–è€…ï¼š        var $divF = $(div.first);        $divS = $(&quot;&lt;div class=&apos;second&apos;&gt;&lt;/div&gt;&quot;);        $divS.hide();        $(div.first).append($divS));        $divT = $(&quot;&lt;div class=&apos;third&apos;&gt;&lt;/div&gt;&quot;);        $divS.append($divT);        $divS.show();//reflow  </code></pre><p>11.è¯·æ±‚å¦‚ä¸‹å€¼offsetTop, offsetLeft, offsetWidth, offsetHeightï¼ŒscrollTop/Left/Width/Heightï¼ŒclientTop/Left/Width/Heightï¼Œæµè§ˆå™¨ä¼šå‘ç”Ÿreflowï¼Œå»ºè®®å°†ä»–ä»¬åˆå¹¶åˆ°ä¸€èµ·æ“ä½œï¼Œå¯ä»¥å‡å°‘å›æµçš„æ¬¡æ•°ã€‚</p><p>å¦‚æœæˆ‘ä»¬è¦ç»å¸¸å»è·å–å’Œæ“ä½œè¿™äº›å€¼ï¼Œåˆ™å¯ä»¥å…ˆå°†è¿™äº›å€¼ç¼“å­˜èµ·æ¥ä¾‹å¦‚ï¼š</p><pre><code>var windowHeight = window.innerHeight;//reflowfor(i=0;i&lt;10;i++){     $body.height(windowHeight++);   ã€€ä¸€ç³»åˆ—å…³äºwindowHeightçš„æ“ä½œ....... }</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;ä»æœåŠ¡æ¸²æŸ“è¿‡ç¨‹è°ˆæ€§èƒ½ä¼˜åŒ–&quot;&gt;&lt;a href=&quot;#ä»æœåŠ¡æ¸²æŸ“è¿‡ç¨‹è°ˆæ€§èƒ½ä¼˜åŒ–&quot; class=&quot;headerlink&quot; title=&quot;ä»æœåŠ¡æ¸²æŸ“è¿‡ç¨‹è°ˆæ€§èƒ½ä¼˜åŒ–&quot;&gt;&lt;/a&gt;ä»æœåŠ¡æ¸²æŸ“è¿‡ç¨‹è°ˆæ€§èƒ½ä¼˜åŒ–&lt;/h1&gt;&lt;p&gt;æœ¬æ–‡å°†ç»“åˆä»åœ¨æµè§ˆå™¨è¾“å…¥urlï¼Œåˆ°å±•ç¤ºæœ€ç»ˆé¡µé¢çš„è¿‡ç¨‹æ¥å¯¹å…¶è¿›
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ä¸åŸç”Ÿäº¤äº’çš„å¸¸è§æ–¹å¼</title>
    <link href="https://github.com/luwenchun/luwenchun.github.io/2018/06/11/44%E4%B8%8E%E5%8E%9F%E7%94%9F%E4%BA%A4%E4%BA%92%E7%9A%84%E5%B8%B8%E8%A7%81%E6%96%B9%E5%BC%8F/"/>
    <id>https://github.com/luwenchun/luwenchun.github.io/2018/06/11/44ä¸åŸç”Ÿäº¤äº’çš„å¸¸è§æ–¹å¼/</id>
    <published>2018-06-10T16:00:00.000Z</published>
    <updated>2019-01-10T08:07:28.985Z</updated>
    
    <content type="html"><![CDATA[<h4 id="è¿”å›äº¤äº’"><a href="#è¿”å›äº¤äº’" class="headerlink" title="è¿”å›äº¤äº’"></a>è¿”å›äº¤äº’</h4><pre><code>back: function() {    // IOS        try {            window.webkit.messageHandlers.back.postMessage({ back:0 });        } catch (error) { }        // å®‰å“        try {        window.NativeJavaScriptInterface.back({back:1});        } catch (err) {}}</code></pre><h4 id="è·å–tokenï¼ˆç”±äºç½‘å…³é—®é¢˜ï¼Œéœ€è¦éƒ¨ç½²æ‰èƒ½å†™å…¥è¯·æ±‚headerçš„tokenï¼‰"><a href="#è·å–tokenï¼ˆç”±äºç½‘å…³é—®é¢˜ï¼Œéœ€è¦éƒ¨ç½²æ‰èƒ½å†™å…¥è¯·æ±‚headerçš„tokenï¼‰" class="headerlink" title="è·å–tokenï¼ˆç”±äºç½‘å…³é—®é¢˜ï¼Œéœ€è¦éƒ¨ç½²æ‰èƒ½å†™å…¥è¯·æ±‚headerçš„tokenï¼‰"></a>è·å–tokenï¼ˆç”±äºç½‘å…³é—®é¢˜ï¼Œéœ€è¦éƒ¨ç½²æ‰èƒ½å†™å…¥è¯·æ±‚headerçš„tokenï¼‰</h4><pre><code>// ios    window.getToken = (token) =&gt; {    //å…¨å±€å†™å…¥è¯·æ±‚å¤´    http.setRequestHeader({&quot;Authorization&quot;:token});    axios.create({        headers:{ &quot;Authorization&quot;:token }    })    }// å®‰å“è·å–tokentry {    var token=  window.NativeJavaScriptInterface.getToken();    //å…¨å±€å†™å…¥è¯·æ±‚å¤´    http.setRequestHeader({&quot;Authorization&quot;:token});    axios.create({        headers:{ &quot;Authorization&quot;:token }    })} catch (err) {}</code></pre><h4 id="è·ŸåŸç”Ÿäº¤äº’äº‹ä»¶ï¼ˆorderInfoæ˜¯äº‹ä»¶åç§°éœ€è¦å’ŒåŸç”Ÿå¼€å‘åå®šï¼Œ-sourceType-1-orderId-orderId-æ˜¯å›è°ƒç»™åŸç”Ÿå‚æ•°ï¼‰"><a href="#è·ŸåŸç”Ÿäº¤äº’äº‹ä»¶ï¼ˆorderInfoæ˜¯äº‹ä»¶åç§°éœ€è¦å’ŒåŸç”Ÿå¼€å‘åå®šï¼Œ-sourceType-1-orderId-orderId-æ˜¯å›è°ƒç»™åŸç”Ÿå‚æ•°ï¼‰" class="headerlink" title="è·ŸåŸç”Ÿäº¤äº’äº‹ä»¶ï¼ˆorderInfoæ˜¯äº‹ä»¶åç§°éœ€è¦å’ŒåŸç”Ÿå¼€å‘åå®šï¼Œ{ sourceType:1,orderId:orderId }æ˜¯å›è°ƒç»™åŸç”Ÿå‚æ•°ï¼‰"></a>è·ŸåŸç”Ÿäº¤äº’äº‹ä»¶ï¼ˆorderInfoæ˜¯äº‹ä»¶åç§°éœ€è¦å’ŒåŸç”Ÿå¼€å‘åå®šï¼Œ{ sourceType:1,orderId:orderId }æ˜¯å›è°ƒç»™åŸç”Ÿå‚æ•°ï¼‰</h4><pre><code>// ios try {   window.webkit.messageHandlers.orderInfo.postMessage({ sourceType:1,orderId:orderId }); } catch (error) { } //å®‰å“  try { window.NativeJavaScriptInterface.orderInfo(&apos;1&apos;,orderId); } catch (err) {}</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;è¿”å›äº¤äº’&quot;&gt;&lt;a href=&quot;#è¿”å›äº¤äº’&quot; class=&quot;headerlink&quot; title=&quot;è¿”å›äº¤äº’&quot;&gt;&lt;/a&gt;è¿”å›äº¤äº’&lt;/h4&gt;&lt;pre&gt;&lt;code&gt;back: function() {
    // IOS
        try {
          
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Linux åŸºç¡€å‘½ä»¤</title>
    <link href="https://github.com/luwenchun/luwenchun.github.io/2018/05/19/6Linux%20%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/"/>
    <id>https://github.com/luwenchun/luwenchun.github.io/2018/05/19/6Linux åŸºç¡€å‘½ä»¤/</id>
    <published>2018-05-18T16:00:00.000Z</published>
    <updated>2019-01-10T08:11:03.793Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç›®å½•æ“ä½œ"><a href="#ç›®å½•æ“ä½œ" class="headerlink" title="ç›®å½•æ“ä½œ"></a>ç›®å½•æ“ä½œ</h2><pre><code>åˆ›å»ºç›®å½• mkdir &lt;ç›®å½•åç§°&gt;åˆ é™¤ç›®å½• rm &lt;ç›®å½•åç§°&gt;å®šä½ç›®å½• cd &lt;ç›®å½•åç§°&gt;æŸ¥çœ‹ç›®å½•æ–‡ä»¶ ls llä¿®æ”¹ç›®å½•å mv &lt;ç›®å½•åç§°&gt; &lt;æ–°ç›®å½•åç§°&gt;æ‹·è´ç›®å½• cp &lt;ç›®å½•åç§°&gt; &lt;æ–°ç›®å½•åç§°&gt;</code></pre><h2 id="æ–‡ä»¶æ“ä½œ"><a href="#æ–‡ä»¶æ“ä½œ" class="headerlink" title="æ–‡ä»¶æ“ä½œ"></a>æ–‡ä»¶æ“ä½œ</h2><pre><code>åˆ›å»ºæ–‡ä»¶ touch &lt;æ–‡ä»¶åç§°&gt; vi &lt;æ–‡ä»¶åç§°&gt;åˆ é™¤æ–‡ä»¶ rm &lt;æ–‡ä»¶åç§°&gt;ä¿®æ”¹æ–‡ä»¶å mv &lt;æ–‡ä»¶åç§°&gt; &lt;æ–°æ–‡ä»¶åç§°&gt;æ‹·è´æ–‡ä»¶ cp &lt;æ–‡ä»¶åç§°&gt; &lt;æ–°æ–‡ä»¶åç§°&gt;</code></pre><h2 id="æ–‡ä»¶å†…å®¹æ“ä½œ"><a href="#æ–‡ä»¶å†…å®¹æ“ä½œ" class="headerlink" title="æ–‡ä»¶å†…å®¹æ“ä½œ"></a>æ–‡ä»¶å†…å®¹æ“ä½œ</h2><pre><code>æŸ¥çœ‹æ–‡ä»¶ cat &lt;æ–‡ä»¶åç§°&gt; head &lt;æ–‡ä»¶åç§°&gt; tail &lt;æ–‡ä»¶åç§°&gt;ç¼–è¾‘æ–‡ä»¶å†…å®¹ vi &lt;æ–‡ä»¶åç§°&gt;æŸ¥æ‰¾æ–‡ä»¶å†…å®¹ grep &apos;å…³é”®å­—&apos; &lt;æ–‡ä»¶åç§°&gt;</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ç›®å½•æ“ä½œ&quot;&gt;&lt;a href=&quot;#ç›®å½•æ“ä½œ&quot; class=&quot;headerlink&quot; title=&quot;ç›®å½•æ“ä½œ&quot;&gt;&lt;/a&gt;ç›®å½•æ“ä½œ&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;åˆ›å»ºç›®å½• mkdir &amp;lt;ç›®å½•åç§°&amp;gt;
åˆ é™¤ç›®å½• rm &amp;lt;ç›®å½•åç§°&amp;gt;
å®šä½ç›®å½• cd &amp;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>åŸºäºgulpçš„å‰ç«¯è„šæ‰‹æ¶</title>
    <link href="https://github.com/luwenchun/luwenchun.github.io/2018/05/02/12%E5%9F%BA%E4%BA%8Egulp%E7%9A%84%E5%89%8D%E7%AB%AF%E8%84%9A%E6%89%8B%E6%9E%B6/"/>
    <id>https://github.com/luwenchun/luwenchun.github.io/2018/05/02/12åŸºäºgulpçš„å‰ç«¯è„šæ‰‹æ¶/</id>
    <published>2018-05-01T16:00:00.000Z</published>
    <updated>2019-01-10T08:10:52.287Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘çœ‹åˆ°gulpå’Œwebpackå„ç§è„šæ‰‹æ¶ï¼Œè¿™æ¬¡æ¥å…¥é—¨ä¸‹è¿™äºŒç§è„šæ‰‹æ¶ã€‚</p><h2 id="Gulpå¿«é€Ÿå…¥é—¨"><a href="#Gulpå¿«é€Ÿå…¥é—¨" class="headerlink" title="Gulpå¿«é€Ÿå…¥é—¨"></a>Gulpå¿«é€Ÿå…¥é—¨</h2><p>é¦–å…ˆç¡®ä¿æœ¬åœ°å·²å®‰è£…node.jså’Œnpm<br>ç„¶åé€šè¿‡npmå…¨å±€å®‰è£…gulp</p><pre><code>$ npm install -g gulp   </code></pre><p>æ ¹æ®ä¸åŒé¡¹ç›®çš„è¦æ±‚ï¼Œå¯é€‰æ‹©é€‚åˆçš„gulpæ’ä»¶è¿›è¡Œåç»­å¼€å‘ã€‚å¦‚æœé¡¹ç›®çš„è¦æ±‚åŸºæœ¬ç›¸ä¼¼ï¼ˆå¦‚å°å‹çš„æ´»åŠ¨è¿è¥H5ï¼Œå¹³å°é¡µé¢ç­‰ï¼‰å¯å»ºç«‹è‡ªå·±çš„è„šæ‰‹æ¶å·¥å…·ä»¥ä¾¿äºåç»­å¿«é€Ÿå¼€å‘ã€‚</p><h3 id="æ­å»ºè„šæ‰‹æ¶"><a href="#æ­å»ºè„šæ‰‹æ¶" class="headerlink" title="æ­å»ºè„šæ‰‹æ¶"></a>æ­å»ºè„šæ‰‹æ¶</h3><p>1ã€é¦–å…ˆåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹é€šè¿‡å‘½ä»¤è¡Œå®‰è£…é¡¹ç›®ä¾èµ–</p><pre><code>$ npm install --save-dev gulp</code></pre><p>2ã€åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶gulpfile.jsã€‚è¦æƒ³å®Œæˆç›¸å…³æ’ä»¶çš„é…ç½®ï¼Œé¦–å…ˆéœ€è¦äº†è§£gulpç›¸å…³æ–¹æ³•</p><pre><code>gulpåªæœ‰äº”ä¸ªæ–¹æ³•ï¼š task run watch src desttask è¿™ä¸ªAPIç”¨æ¥åˆ›å»ºä»»åŠ¡ï¼Œåœ¨å‘½ä»¤è¡Œä¸‹å¯ä»¥è¾“å…¥ gulp test æ¥æ‰§è¡Œtestçš„ä»»åŠ¡ã€‚run è¿™ä¸ªAPIç”¨æ¥è¿è¡Œä»»åŠ¡watch è¿™ä¸ªAPIç”¨æ¥ç›‘å¬ä»»åŠ¡ã€‚src è¿™ä¸ªAPIè®¾ç½®éœ€è¦å¤„ç†çš„æ–‡ä»¶çš„è·¯å¾„ï¼Œå¯ä»¥æ˜¯å¤šä¸ªæ–‡ä»¶ä»¥æ•°ç»„çš„å½¢å¼[main.scss,vender.scss]ï¼Œä¹Ÿå¯ä»¥æ˜¯æ­£åˆ™è¡¨è¾¾å¼/*/ .scssã€‚ dest è¿™ä¸ªAPIè®¾ç½®ç”Ÿæˆæ–‡ä»¶çš„è·¯å¾„ï¼Œä¸€ä¸ªä»»åŠ¡å¯ä»¥æœ‰å¤šä¸ªç”Ÿæˆè·¯å¾„ï¼Œä¸€ä¸ªå¯ä»¥è¾“å‡ºæœªå‹ç¼©çš„ç‰ˆæœ¬ï¼Œå¦ä¸€ä¸ªå¯ä»¥è¾“å‡ºå‹ç¼©åçš„ç‰ˆæœ¬ã€‚å…¶å®æ•´ä¸ªgulpçš„é…ç½®æ–‡ä»¶ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯åœ¨åšä¸€äº›ä»»åŠ¡çš„é…ç½®ï¼Œæ¯”å¦‚åˆ›å»ºä»»åŠ¡ï¼Œç›‘å¬ä»»åŠ¡ç­‰ç­‰ã€‚</code></pre><h3 id="åŸºäºè„šæ‰‹æ¶è¿›è¡Œå¼€å‘"><a href="#åŸºäºè„šæ‰‹æ¶è¿›è¡Œå¼€å‘" class="headerlink" title="åŸºäºè„šæ‰‹æ¶è¿›è¡Œå¼€å‘"></a>åŸºäºè„šæ‰‹æ¶è¿›è¡Œå¼€å‘</h3><p>1ã€æ‹·è´package.jsonå’Œgulpfile.jsåˆ°ç›¸å°é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…å„æ’ä»¶</p><pre><code>$ npm install</code></pre><p>2ã€åœ¨æ ¹ç›®å½•ä¸‹é”®å…¥ç›¸å°å‘½ä»¤è¿›è¡Œæ‰€éœ€çš„æ“ä½œï¼Œå¦‚</p><pre><code>$ gulp</code></pre><h3 id="åŸºæœ¬è®¾å®š"><a href="#åŸºæœ¬è®¾å®š" class="headerlink" title="åŸºæœ¬è®¾å®š"></a>åŸºæœ¬è®¾å®š</h3><p>å…ˆå¤§è‡´åœ°æ¢³ç†ä¸€éæˆ‘ä»¬æƒ³è¦çš„åŠŸèƒ½å’Œä¸€äº›å‰æçš„è®¾å®šã€‚</p><p>1ã€è„šæ‰‹æ¶è‡ªåŠ¨åŒ–å·¥å…·åŸºäºGulp</p><p>2ã€åŸºæœ¬çš„Task</p><pre><code>åˆå§‹åŒ–ç›®å½•ç»“æ„åˆå§‹åŒ–Indexæ–‡ä»¶ç»“æ„ï¼ˆè¿­ä»£æ—¶å¯è€ƒè™‘åŸºäºMobile OR PCï¼‰Sassè‡ªåŠ¨ç¼–è¯‘CSS AutoPrefixerç›‘å¬æ–‡ä»¶ï¼Œè‡ªåŠ¨åˆ·æ–°åˆå¹¶é›ªç¢§å›¾</code></pre><h3 id="ç¼–å†™è‡ªå·±çš„Gulpfile-js"><a href="#ç¼–å†™è‡ªå·±çš„Gulpfile-js" class="headerlink" title="ç¼–å†™è‡ªå·±çš„Gulpfile.js"></a>ç¼–å†™è‡ªå·±çš„Gulpfile.js</h3><p>æœ‰äº†ä¸Šé¢çš„åŸºæœ¬çº¦æŸåï¼Œç°åœ¨å»ºç«‹è‡ªå·±çš„gulpfileæ–‡ä»¶ï¼Œè¿™é‡Œä¼šè¯¦ç»†è®°å½•æ¯ä¸€ä¸ªtaskçš„é…ç½®å’Œä½¿ç”¨ã€‚</p><p>é¦–å…ˆæŠŠpackage.jsonå’Œgulpfile.jså»ºç«‹èµ·æ¥</p><p>ä½¿ç”¨ npm init åˆå§‹åŒ–package.jsonï¼ˆå¯ä¸€ç›´æŒ‰å›è½¦ï¼Œæˆ–å¡«å†™ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼‰ã€‚ä½¿ç”¨ npm install â€“save-dev gulp ä½¿ç”¨gulpä½œä¸ºé¡¹ç›®ä¾èµ–</p><p>å®‰è£…æ‰€éœ€æ’ä»¶ä»¥åŠgulpfile.jsçš„taské…ç½®</p><h4 id="åˆå§‹åŒ–ç›®å½•ä¸æ–‡ä»¶"><a href="#åˆå§‹åŒ–ç›®å½•ä¸æ–‡ä»¶" class="headerlink" title="åˆå§‹åŒ–ç›®å½•ä¸æ–‡ä»¶"></a>åˆå§‹åŒ–ç›®å½•ä¸æ–‡ä»¶</h4><p>é¦–å…ˆéœ€è¦åˆå§‹åŒ–ç›®å½•ç»“æ„ï¼Œè¿™é‡Œä½¿ç”¨fs-extra</p><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£… ï¼ˆåç»­çš„æ’ä»¶å®‰è£…ä¸å†èµ˜è¿°ï¼Œå¤§å®¶å¯ä»npmjså¤„æŸ¥æ‰¾ç›¸å°çš„å®‰è£…ä»¥åŠApiï¼‰</p><pre><code>npm install --save fs-extra</code></pre><p>å…ˆçœ‹ä¸€çœ¼æˆ‘ä»¬éœ€è¦ç”Ÿæˆçš„ç›®å½•ç»“æ„</p><pre><code>â”œâ”€â”€ dist # ç¼–è¯‘åçš„æ–‡ä»¶    â”œâ”€â”€ html        â””â”€â”€ index.html # home    â”œâ”€â”€ css    â”œâ”€â”€ js    â””â”€â”€ imgâ”œâ”€â”€ src     â”œâ”€â”€ img    â”œâ”€â”€ sprite    â”œâ”€â”€ pics    â”œâ”€â”€ js    â””â”€â”€ sass        â””â”€â”€ style.scssâ”œâ”€â”€ psd</code></pre><p>å†™å…¥gulpfile.js</p><pre><code>var gulp = require(&apos;gulp&apos;);// å¼•å…¥ç»„ä»¶var path   = require(&apos;path&apos;), // nodeè‡ªå¸¦ç»„ä»¶    fse    = require(&apos;fs-extra&apos;); // é€šè¿‡npmä¸‹è½½// è·å–å½“å‰æ–‡ä»¶è·¯å¾„var PWD = process.env.PWD || process.cwd(); // å…¼å®¹windowsgulp.task(&apos;init&apos;, function() {    var dirs = [&apos;dist&apos;,&apos;dist/html&apos;,&apos;dist/css&apos;,&apos;dist/img&apos;,&apos;dist/js&apos;,&apos;src&apos;,&apos;src/sass&apos;,&apos;src/js&apos;,&apos;src/img&apos;,&apos;src/pic&apos;,&apos;src/sprite&apos;,&apos;psd&apos;];    dirs.forEach(function (item,index) {        // ä½¿ç”¨mkdirSyncæ–¹æ³•æ–°å»ºæ–‡ä»¶å¤¹        fse.mkdirSync(path.join(PWD + &apos;/&apos;+ item));    })    // å¾€indexé‡Œå†™å…¥çš„åŸºæœ¬å†…å®¹    var template = &apos;&lt;!DOCTYPE html&gt;&lt;html lang=&quot;zh-CN&quot;&gt;&lt;head&gt;&lt;meta charset=&quot;utf-8&quot;/&gt;&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no&quot;/&gt;&lt;title&gt;&lt;/title&gt;&lt;meta name=&quot;apple-touch-fullscreen&quot; content=&quot;yes&quot; /&gt;&lt;meta name=&quot;format-detection&quot; content=&quot;telephone=no&quot; /&gt;&lt;meta name=&quot;apple-mobile-web-app-capable&quot; content=&quot;yes&quot; /&gt;&lt;meta name=&quot;apple-mobile-web-app-status-bar-style&quot; content=&quot;black&quot; /&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;&apos;;    fse.writeFileSync(path.join(PWD + &apos;/dist/html/index.html&apos;), template);    fse.writeFileSync(path.join(PWD + &apos;/src/sass/style.scss&apos;), &apos;@charset &quot;utf-8&quot;;&apos;);})</code></pre><p>æ­¤æ—¶è¿è¡Œ$ gulp initå‘ç°ç›®å½•å·²ç»ç”Ÿæˆå®Œæˆäº†ã€‚å†å¯¹index.htmlé‡Œçš„å†…å®¹ç”¨ç¼–è¾‘å™¨çš„æ’ä»¶æ ¼å¼åŒ–ä¸€ä¸‹ï¼Œè¿›å…¥ä¸‹ä¸€æ­¥ã€‚</p><h3 id="ç¼–è¯‘-sassä»¥åŠä¸ºæŸäº›å±æ€§æ·»åŠ é€‚å½“çš„å‰ç¼€"><a href="#ç¼–è¯‘-sassä»¥åŠä¸ºæŸäº›å±æ€§æ·»åŠ é€‚å½“çš„å‰ç¼€" class="headerlink" title="ç¼–è¯‘.sassä»¥åŠä¸ºæŸäº›å±æ€§æ·»åŠ é€‚å½“çš„å‰ç¼€"></a>ç¼–è¯‘.sassä»¥åŠä¸ºæŸäº›å±æ€§æ·»åŠ é€‚å½“çš„å‰ç¼€</h3><p>æ·»åŠ å¯¹sassç¼–è¯‘çš„æ”¯æŒ å®‰è£…æ’ä»¶gulp-sassã€‚åœ¨gulpfileå†™å…¥</p><pre><code>// ç¼–è¯‘sassvar sass = require(&apos;gulp-sass&apos;);gulp.task(&apos;sass&apos;, function () {return gulp    // åœ¨src/sassç›®å½•ä¸‹åŒ¹é…æ‰€æœ‰çš„.scssæ–‡ä»¶    .src(&apos;src/sass/**/*.scss&apos;)    // åŸºäºä¸€äº›é…ç½®é¡¹ è¿è¡Œsass()å‘½ä»¤    .pipe(sass({        errLogToConsole: true,        outputStyle: &apos;expanded&apos;    }).on(&apos;error&apos;, sass.logError))    // è¾“å‡ºcss    .pipe(gulp.dest(&apos;dist/css&apos;));});</code></pre><p>è¿™æ—¶å€™åœ¨å‘½ä»¤è¡Œæ•²å…¥$ gulp sasså‘ç°å·²ç»è·‘èµ·æ¥äº†ï¼Œä½†æ˜¯å­˜åœ¨ä¸¤ä¸ªé—®é¢˜</p><pre><code>æ¯æ¬¡ä¿®æ”¹å®Œsassæ–‡ä»¶åéƒ½éœ€è¦è¾“å…¥å‘½ä»¤è‹¥sassæœ‰ä¹¦å†™é”™è¯¯ä¼šç›´æ¥é€€å‡ºgulpç›‘å¬</code></pre><p>è¿™ä¸¤ä¸ªé—®é¢˜æˆ‘ä»¬æ”¾åˆ°æœ€åå†ä¸€èµ·è§£å†³ã€‚</p><p>ä¸‹é¢æ¥ä¸ºæˆ‘ä»¬å†™çš„cssçš„æŸäº›ä¸å…¼å®¹å±æ€§æ·»åŠ å‰ç¼€ã€‚è¿™é‡Œç”¨åˆ°äº†æ’ä»¶gulp-autoprefixerï¼Œçœ‹ä¸€çœ¼ä»£ç ã€‚å…¶å®éƒ½å¤§åŒå°å¼‚ï¼Œå¤§è‡´çš„å†…å®¹å¯åœ¨npmjså†…æŸ¥æ‰¾åˆ°ã€‚</p><pre><code>var autoprefix = require(&apos;gulp-autoprefixer&apos;);gulp.task(&apos;autoprefixer&apos;, function () {return gulp.src(&apos;dist/css/**/*.css&apos;)    .pipe(autoprefixer({        browsers: [&apos;ios 5&apos;,&apos;android 2.3&apos;],        cascade: false    }))    .pipe(gulp.dest(&apos;dist/css&apos;));});</code></pre><p>ä¸‹é¢æµ‹è¯•ä¸€ä¸‹ï¼Œåœ¨scsså†™å…¥ä¸€ä¸ªcss3å±æ€§</p><pre><code>perspective: 500;</code></pre><p>è¾“å…¥å‘½ä»¤ $ gulp autoprefixer å‘ç°æ–‡ä»¶æ²¡æœ‰æ›´æ”¹ã€‚åŸå› æ˜¯sassæ–‡ä»¶è¿˜æœªè¢«ç¼–è¯‘ï¼Œè¿™æ—¶å€™éœ€è¦å…ˆæ•²ä¸€é$ gulp sassç¼–è¯‘ã€‚è¿™æ—¶ä¼šå‘ç°csså·²ç»è¢«æ·»åŠ äº†ç›¸å°çš„åç¼€äº†</p><p><img src="/../about/1.png" alt="1111"></p><h4 id="å¼€å¯æœåŠ¡å™¨ä»¥åŠç›‘å¬ç¼–è¯‘"><a href="#å¼€å¯æœåŠ¡å™¨ä»¥åŠç›‘å¬ç¼–è¯‘" class="headerlink" title="å¼€å¯æœåŠ¡å™¨ä»¥åŠç›‘å¬ç¼–è¯‘"></a>å¼€å¯æœåŠ¡å™¨ä»¥åŠç›‘å¬ç¼–è¯‘</h4><p>ç»ˆäºåˆ°é…ç½®çš„æœ€åä¸€æ­¥äº†ï¼Œæˆ‘ä»¬çš„æƒ³æ³•æ˜¯å½“sassã€jsã€htmlæœ‰æ‰€æ›´æ”¹æ—¶éƒ½æ‰§è¡Œç›¸å°çš„å‘½ä»¤ã€‚<br>å¦‚ è‡ªåŠ¨å‹ç¼©ã€åˆå¹¶æ–‡ä»¶ã€æ·»åŠ å‰ç¼€ã€åˆ·æ–°æµè§ˆå™¨</p><p>è¿™é‡Œé€‰ç”¨browser-syncåŒæ—¶æˆ‘æƒ³å½“sassã€spriteç­‰æ–‡ä»¶æ”¹å˜æ—¶è‡ªåŠ¨æ‰§è¡Œæ‰€éœ€çš„taskï¼Œä½¿ç”¨watchå‘½ä»¤å¯¹æ–‡ä»¶è¿›è¡Œç›‘å¬ã€‚è¯ä¸å¤šè¯´ï¼Œè¿˜æ˜¯çœ‹æºç ã€‚</p><pre><code>//=======================//     æœåŠ¡å™¨ + ç›‘å¬//=======================var browserSync = require(&apos;browser-sync&apos;).create();gulp.task(&apos;default&apos;, function() {    // ç›‘å¬é‡è½½æ–‡ä»¶    var files = [    &apos;dist/html/**/*.html&apos;,    &apos;dist/css/**/*.css&apos;,    &apos;src/js/**/*.js&apos;,    &apos;src/sprite/**/*.png&apos;    ]    browserSync.init(files, {    server: {            baseDir: &quot;./&quot;,            directory: true        },    open: &apos;external&apos;,    startPath: &quot;dist/html/&quot;    });    // ç›‘å¬ç¼–è¯‘æ–‡ä»¶    gulp.watch(&quot;dist/html/**/*.html&quot;).on(&apos;change&apos;, browserSync.reload);    gulp.watch(&quot;src/sass/**/*.scss&quot;, [&apos;sass&apos;]);    gulp.watch(&quot;src/sprite/**/*.png&quot;, [&apos;sprite&apos;]);    gulp.watch(&quot;dist/css/**/*.css&quot;, [&apos;autoprefixer&apos;]);});</code></pre><p>åœ¨å‘½ä»¤è¡Œè¾“å…¥ $ gulp è¿™æ—¶æˆ‘ä»¬çš„é¡¹ç›®å·²ç»å¦¥å¦¥åœ°è·‘èµ·æ¥äº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœ€è¿‘çœ‹åˆ°gulpå’Œwebpackå„ç§è„šæ‰‹æ¶ï¼Œè¿™æ¬¡æ¥å…¥é—¨ä¸‹è¿™äºŒç§è„šæ‰‹æ¶ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Gulpå¿«é€Ÿå…¥é—¨&quot;&gt;&lt;a href=&quot;#Gulpå¿«é€Ÿå…¥é—¨&quot; class=&quot;headerlink&quot; title=&quot;Gulpå¿«é€Ÿå…¥é—¨&quot;&gt;&lt;/a&gt;Gulpå¿«é€Ÿå…¥é—¨&lt;/h2&gt;&lt;p&gt;é¦–å…ˆç¡®
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>vueé¡¹ç›®å®ç°è®°ä½å¯†ç åˆ°cookieåŠŸèƒ½</title>
    <link href="https://github.com/luwenchun/luwenchun.github.io/2018/05/01/21vue%E9%A1%B9%E7%9B%AE%E5%AE%9E%E7%8E%B0%E8%AE%B0%E4%BD%8F%E5%AF%86%E7%A0%81%E5%88%B0cookie%E5%8A%9F%E8%83%BD/"/>
    <id>https://github.com/luwenchun/luwenchun.github.io/2018/05/01/21vueé¡¹ç›®å®ç°è®°ä½å¯†ç åˆ°cookieåŠŸèƒ½/</id>
    <published>2018-04-30T16:00:00.000Z</published>
    <updated>2019-01-10T08:07:21.062Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://user-gold-cdn.xitu.io/2018/1/30/161462f165cc17dc?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="æ•ˆæœå›¾"></p><h3 id="å®ç°åŠŸèƒ½ï¼š"><a href="#å®ç°åŠŸèƒ½ï¼š" class="headerlink" title="å®ç°åŠŸèƒ½ï¼š"></a>å®ç°åŠŸèƒ½ï¼š</h3><p>1.è®°ä½å¯†ç å‹¾é€‰ï¼Œç‚¹ç™»é™†æ—¶ï¼Œå°†è´¦å·å’Œå¯†ç ä¿å­˜åˆ°cookieï¼Œä¸‹æ¬¡ç™»é™†è‡ªåŠ¨æ˜¾ç¤ºåˆ°è¡¨å•å†… 2.ä¸å‹¾é€‰ï¼Œç‚¹ç™»é™†æ—¶å€™åˆ™æ¸…ç©ºä¹‹å‰ä¿å­˜åˆ°cookieçš„å€¼ï¼Œä¸‹æ¬¡ç™»é™†éœ€è¦æ‰‹åŠ¨è¾“å…¥</p><blockquote><p>å¤§ä½“æ€è·¯å°±æ˜¯é€šè¿‡å­˜/å–/åˆ cookieå®ç°çš„ï¼›æ¯æ¬¡è¿›å…¥ç™»å½•é¡µï¼Œå…ˆå»è¯»å–cookieï¼Œå¦‚æœæµè§ˆå™¨çš„cookieä¸­æœ‰è´¦å·ä¿¡æ¯ï¼Œå°±è‡ªåŠ¨å¡«å……åˆ°ç™»å½•æ¡†ä¸­ï¼Œå­˜cookieæ˜¯åœ¨ç™»å½•æˆåŠŸä¹‹åï¼Œåˆ¤æ–­å½“å‰ç”¨æˆ·æ˜¯å¦å‹¾é€‰äº†è®°ä½å¯†ç ï¼Œå¦‚æœå‹¾é€‰äº†ï¼Œåˆ™æŠŠè´¦å·ä¿¡æ¯å­˜åˆ°cookieå½“ä¸­ï¼Œæ•ˆæœå›¾å¦‚ä¸Šï¼š</p></blockquote><p>htmlä»£ç </p><pre><code>&lt;div class=&quot;ms-login&quot;&gt;        &lt;el-form :model=&quot;ruleForm&quot; :rules=&quot;rules&quot; ref=&quot;ruleForm&quot; label-width=&quot;0px&quot; class=&quot;demo-ruleForm&quot;&gt;            &lt;el-form-item prop=&quot;username&quot;&gt;                &lt;el-input v-model=&quot;ruleForm.username&quot; placeholder=&quot;ç”¨æˆ·å&quot;&gt;&lt;/el-input&gt;            &lt;/el-form-item&gt;            &lt;el-form-item prop=&quot;password&quot;&gt;                &lt;el-input type=&quot;password&quot; placeholder=&quot;å¯†ç &quot; v-model=&quot;ruleForm.password&quot; @keyup.enter.native=&quot;submitForm(&apos;ruleForm&apos;)&quot;&gt;&lt;/el-input&gt;            &lt;/el-form-item&gt;            &lt;!-- `checked` ä¸º true æˆ– false --&gt;            &lt;el-checkbox v-model=&quot;checked&quot;&gt;è®°ä½å¯†ç &lt;/el-checkbox&gt;            &lt;br&gt;            &lt;br&gt;            &lt;div class=&quot;login-btn&quot;&gt;                &lt;el-button type=&quot;primary&quot; @click=&quot;submitForm(&apos;ruleForm&apos;)&quot;&gt;ç™»å½•&lt;/el-button&gt;            &lt;/div&gt;        &lt;/el-form&gt;&lt;/div&gt;</code></pre><p>jsä»£ç </p><pre><code>//é¡µé¢åŠ è½½è°ƒç”¨è·å–cookieå€¼    mounted() {        this.getCookie();    },    methods: {        submitForm(formName) {             const self = this;            //åˆ¤æ–­å¤é€‰æ¡†æ˜¯å¦è¢«å‹¾é€‰ å‹¾é€‰åˆ™è°ƒç”¨é…ç½®cookieæ–¹æ³•            if (self.checked == true) {                console.log(&quot;checked == true&quot;);                //ä¼ å…¥è´¦å·åï¼Œå¯†ç ï¼Œå’Œä¿å­˜å¤©æ•°3ä¸ªå‚æ•°                self.setCookie(self.ruleForm.username, self.ruleForm.password, 7);            }else {              console.log(&quot;æ¸…ç©ºCookie&quot;);              //æ¸…ç©ºCookie              self.clearCookie();            }            //ä¸åç«¯è¯·æ±‚ä»£ç ï¼Œæœ¬åŠŸèƒ½ä¸éœ€è¦ä¸åå°äº¤äº’æ‰€ä»¥çœç•¥            console.log(&quot;ç™»é™†æˆåŠŸ&quot;);    });},//è®¾ç½®cookiesetCookie(c_name, c_pwd, exdays) {    var exdate = new Date(); //è·å–æ—¶é—´    exdate.setTime(exdate.getTime() + 24 * 60 * 60 * 1000 * exdays); //ä¿å­˜çš„å¤©æ•°    //å­—ç¬¦ä¸²æ‹¼æ¥cookie    window.document.cookie = &quot;userName&quot; + &quot;=&quot; + c_name + &quot;;path=/;expires=&quot; + exdate.toGMTString();    window.document.cookie = &quot;userPwd&quot; + &quot;=&quot; + c_pwd + &quot;;path=/;expires=&quot; + exdate.toGMTString();},//è¯»å–cookiegetCookie: function() {    if (document.cookie.length &gt; 0) {        var arr = document.cookie.split(&apos;; &apos;); //è¿™é‡Œæ˜¾ç¤ºçš„æ ¼å¼éœ€è¦åˆ‡å‰²ä¸€ä¸‹è‡ªå·±å¯è¾“å‡ºçœ‹ä¸‹        for (var i = 0; i &lt; arr.length; i++) {            var arr2 = arr[i].split(&apos;=&apos;); //å†æ¬¡åˆ‡å‰²            //åˆ¤æ–­æŸ¥æ‰¾ç›¸å¯¹åº”çš„å€¼            if (arr2[0] == &apos;userName&apos;) {                this.ruleForm.username = arr2[1]; //ä¿å­˜åˆ°ä¿å­˜æ•°æ®çš„åœ°æ–¹            } else if (arr2[0] == &apos;userPwd&apos;) {                this.ruleForm.password = arr2[1];            }        }    }},//æ¸…é™¤cookieclearCookie: function() {    this.setCookie(&quot;&quot;, &quot;&quot;, -1); //ä¿®æ”¹2å€¼éƒ½ä¸ºç©ºï¼Œå¤©æ•°ä¸ºè´Ÿ1å¤©å°±å¥½äº†}</code></pre><blockquote><p>æµè§ˆå™¨ä¸­çš„cookieä¿¡æ¯å¦‚ä¸‹å›¾ï¼Œæ³¨æ„è¿™é‡Œcookieçš„expire/Max-Ageè¿‡æœŸæ—¶é—´ï¼Œè¿™ä¸ªæ—¶é—´æ˜¯æ ¼æ—å°¼æ²»æ ‡å‡†æ—¶é—´GMTï¼Œä¸–ç•Œç»Ÿä¸€çš„æ—¶é—´ï¼ŒGMT+8å°æ—¶å°±æ˜¯åŒ—äº¬æ—¶é—´ã€‚(è¿™é‡Œä¸åšåŠ å¯†åŠŸèƒ½)</p></blockquote><p><img src="https://user-gold-cdn.xitu.io/2018/1/30/161462f165b73ac8?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="ok"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://user-gold-cdn.xitu.io/2018/1/30/161462f165cc17dc?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&quot; alt=&quot;æ•ˆæœå›¾&quot;&gt;&lt;/p&gt;
&lt;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>å‰ç«¯è‡ªåŠ¨åŒ–æ„å»ºç¯å¢ƒçš„æ­å»º</title>
    <link href="https://github.com/luwenchun/luwenchun.github.io/2018/05/01/28%E5%89%8D%E7%AB%AF%E8%87%AA%E5%8A%A8%E5%8C%96%E7%8E%AF%E5%A2%83%E6%9E%84%E5%BB%BA/"/>
    <id>https://github.com/luwenchun/luwenchun.github.io/2018/05/01/28å‰ç«¯è‡ªåŠ¨åŒ–ç¯å¢ƒæ„å»º/</id>
    <published>2018-04-30T16:00:00.000Z</published>
    <updated>2019-01-10T08:11:48.298Z</updated>
    
    <content type="html"><![CDATA[<p>Webå‰ç«¯ä½¿ç”¨å·¥ç¨‹åŒ–æ–¹å¼æ„å»ºï¼›</p><p>   ç›®å‰éœ€è¦ä¸€äº›ç®€å•çš„åŠŸèƒ½ï¼š</p><pre><code>1. ç‰ˆæœ¬æ§åˆ¶6. ç¼–è¯‘SASS2. æ£€æŸ¥JS3. å›¾ç‰‡åˆå¹¶4. å‹ç¼©CSS5. å‹ç¼©JS</code></pre><p>è¿™äº›éƒ½æ˜¯æ¯ä¸ªWebé¡¹ç›®åœ¨æ„å»ºã€å¼€å‘é˜¶æ®µéœ€è¦åšçš„äº‹æƒ…ã€‚å‰ç«¯è‡ªåŠ¨åŒ–æ„å»ºç¯å¢ƒå¯ä»¥æŠŠè¿™äº›é‡å¤å·¥ä½œä¸€æ¬¡é…ç½®ï¼Œå¤šæ¬¡é‡å¤æ‰§è¡Œï¼Œæå¤§çš„æé«˜å¼€å‘æ•ˆç‡ã€‚</p><p>ç›®å‰æœ€çŸ¥åçš„æ„å»ºå·¥å…·ï¼š Gulpã€Gruntã€NPM + Webpackï¼›</p><pre><code>gruntæ˜¯å‰ç«¯å·¥ç¨‹åŒ–çš„å…ˆé©±gulpæ›´è‡ªç„¶åŸºäºæµçš„æ–¹å¼è¿æ¥ä»»åŠ¡Webpackæœ€å¹´è½»ï¼Œæ“…é•¿ç”¨äºä¾èµ–ç®¡ç†ï¼Œé…ç½®ç¨è¾ƒå¤æ‚æ¨èä½¿ç”¨Gulpï¼ŒGulpåŸºäºnodejsä¸­streamï¼Œæ•ˆç‡æ›´å¥½è¯­æ³•æ›´è‡ªç„¶,ä¸éœ€è¦ç¼–å†™å¤æ‚çš„é…ç½®æ–‡ä»¶</code></pre><h3 id="Use-Gulp-to-automate-front-end-build-tasks"><a href="#Use-Gulp-to-automate-front-end-build-tasks" class="headerlink" title="Use Gulp to automate front-end build tasks"></a>Use Gulp to automate front-end build tasks</h3><p>Gulpæ˜¯åŸºäº Node.jsçš„ï¼Œéœ€è¦è¦å®‰è£… Node.js</p><p>1ã€ä¸ºäº†ç¡®ä¿ä¾èµ–ç¯å¢ƒæ­£ç¡®ï¼Œæˆ‘ä»¬å…ˆæ‰§è¡Œå‡ ä¸ªç®€å•çš„å‘½ä»¤æ£€æŸ¥ã€‚</p><pre><code>node -vNodeæ˜¯ä¸€ä¸ªåŸºäºChrome JavaScript V8å¼•æ“å»ºç«‹çš„ä¸€ä¸ªè§£é‡Šå™¨æ£€æµ‹Nodeæ˜¯å¦å·²ç»å®‰è£…ï¼Œå¦‚æœæ­£ç¡®å®‰è£…çš„è¯ä½ ä¼šçœ‹åˆ°æ‰€å®‰è£…çš„Nodeçš„ç‰ˆæœ¬å·</code></pre><p>2ã€æ¥ä¸‹æ¥çœ‹çœ‹npmï¼Œå®ƒæ˜¯ node çš„åŒ…ç®¡ç†å·¥å…·ï¼Œå¯ä»¥åˆ©ç”¨å®ƒå®‰è£… gulp æ‰€éœ€çš„åŒ…</p><pre><code>npm -vè¿™åŒæ ·èƒ½å¾—åˆ°npmçš„ç‰ˆæœ¬å·ï¼Œè£… Node æ—¶å·²ç»è‡ªåŠ¨å®‰è£…äº†npm</code></pre><p>3ã€å¼€å§‹å®‰è£…Gulp</p><pre><code>npm install -g gulpå…¨å±€å®‰è£… gulpgulp -vå¾—åˆ°gulpçš„ç‰ˆæœ¬å·ï¼Œç¡®è®¤å®‰è£…æˆåŠŸ</code></pre><p>åŸºç¡€å®‰è£…ç»“æŸ<br>-</p><p>4ã€åˆ‡æ¢åˆ°ä½ çš„åœ¨é¡¹ç›®æ ¹æ–‡ä»¶å¤¹ä¸‹ï¼Œè¿è¡Œ</p><pre><code>npm install gulp --save-dev //å°†å…·ä½“çš„gulpåŠŸèƒ½æ’ä»¶å±€éƒ¨å®‰è£…é¡¹ç›®ä¸‹</code></pre><p>5ã€å®‰è£…gulpåŠŸèƒ½æ’ä»¶ä¾èµ–åŒ…</p><pre><code>npm install gulp-jshint gulp-sass gulp-concat gulp-uglify gulp-rename--save-dev</code></pre><blockquote><p>gulpåŠŸèƒ½æ¨¡å—çš„æ–‡ä»¶ä¼šæ”¾åœ¨é¡¹ç›®æ‰€åœ¨çš„ç›®å½•çš„./node_modules ä¸‹</p></blockquote><p>6ã€æˆ‘ä»¬ç›®å‰å…ˆä½¿ç”¨ä¸€äº›ç®€å•çš„åŠŸèƒ½ï¼š</p><pre><code>- æ£€æŸ¥Javascript- ç¼–è¯‘Sassæ–‡ä»¶- åˆå¹¶Javascript- å‹ç¼©åˆå¹¶å¹¶é‡å‘½åJavascript</code></pre><blockquote><p>æ–°å»ºgulpfile.js é…ç½®æ–‡ä»¶æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹</p></blockquote><pre><code>æ¼”ç¤ºé¡¹ç›®ç›®å½•ç»“æ„   testProject        (é¡¹ç›®åç§°)   |â€“.git             é€šè¿‡gitè¿›è¡Œç‰ˆæœ¬æ§åˆ¶,é¡¹ç›®è‡ªåŠ¨ç”Ÿæˆè¿™ä¸ªæ–‡ä»¶   |â€“node_modules     ç»„ä»¶åŒ…ç›®å½•   |â€“dist             **å‘å¸ƒç¯å¢ƒ**ï¼ˆç¼–è¯‘è‡ªåŠ¨ç”Ÿæˆçš„ï¼‰       |â€“css         æ ·å¼æ–‡ä»¶(style.css style.min.css)       |â€“images     å›¾ç‰‡æ–‡ä»¶(å‹ç¼©å›¾ç‰‡\åˆå¹¶åçš„å›¾ç‰‡)       |â€“js         jsæ–‡ä»¶(main.js main.min.js)       |â€“index.html  é™æ€é¡µé¢æ–‡ä»¶(å‹ç¼©html)   |â€“src             **å¼€å‘ç¯å¢ƒ**       |â€“sass                sassæ–‡ä»¶       |â€“images               å›¾ç‰‡æ–‡ä»¶       |â€“js                  jsæ–‡ä»¶       |â€“index.html         é™æ€æ–‡ä»¶   |â€“gulpfile.js              gulpé…ç½®æ–‡ä»¶   |â€“package.json             ä¾èµ–æ¨¡å—jsonæ–‡ä»¶,åœ¨é¡¹ç›®ç›®å½•ä¸‹npm installä¼šå®‰è£…é¡¹ç›®æ‰€æœ‰çš„ä¾èµ–æ¨¡å—ï¼Œç®€åŒ–é¡¹ç›®çš„å®‰è£…ç¨‹åº</code></pre><blockquote><p>ç°åœ¨ï¼Œé¡¹ç›®æ–‡ä»¶å¤¹éƒ½å»ºå¥½ï¼Œç»„ä»¶ä¹Ÿå®‰è£…å®Œæ¯•äº†ï¼Œæˆ‘ä»¬éœ€è¦ç¼–å†™gulpfile.jsæ–‡ä»¶ä»¥æŒ‡å®šgulpéœ€è¦ä¸ºæˆ‘ä»¬å®Œæˆä»€ä¹ˆä»»åŠ¡ã€‚</p></blockquote><pre><code>gulpfile.jså†…å®¹å¦‚ä¸‹ï¼š// å¼•å…¥gulpvar gulp = require(&apos;gulp&apos;);// å¼•å…¥ç»„ä»¶var jshint = require(&apos;gulp-jshint&apos;);//æ£€æŸ¥jsvar sass   = require(&apos;gulp-sass&apos;);    //ç¼–è¯‘Sassvar concat = require(&apos;gulp-concat&apos;);//åˆå¹¶var uglify = require(&apos;gulp-uglify&apos;);//uglify ç»„ä»¶ï¼ˆç”¨äºå‹ç¼© JSï¼‰var rename = require(&apos;gulp-rename&apos;);//é‡å‘½å// æ£€æŸ¥jsè„šæœ¬çš„ä»»åŠ¡gulp.task(&apos;lint&apos;, function() {    gulp.src(&apos;./js/*.js&apos;) //å¯é…ç½®ä½ éœ€è¦æ£€æŸ¥è„šæœ¬çš„å…·ä½“åå­—ã€‚        .pipe(jshint())        .pipe(jshint.reporter(&apos;default&apos;));});// ç¼–è¯‘Sassgulp.task(&apos;sass&apos;, function() {    gulp.src(&apos;./scss/*.scss&apos;)        .pipe(sass())        .pipe(gulp.dest(&apos;./css&apos;));//dest()å†™å…¥æ–‡ä»¶});// åˆå¹¶ï¼Œå‹ç¼©jsæ–‡ä»¶// æ‰¾åˆ° js/ ç›®å½•ä¸‹çš„æ‰€æœ‰ js æ–‡ä»¶ï¼Œå‹ç¼©ï¼Œé‡å‘½åï¼Œæœ€åå°†å¤„ç†å®Œæˆçš„jså­˜æ”¾åœ¨ dist/js/ ç›®å½•ä¸‹gulp.task(&apos;scripts&apos;, function() {    gulp.src(&apos;./js/*.js&apos;)        .pipe(concat(&apos;all.js&apos;))        .pipe(gulp.dest(&apos;./dist&apos;))        .pipe(rename(&apos;all.min.js&apos;))        .pipe(uglify())        .pipe(gulp.dest(&apos;./dist&apos;));        console.log(&apos;gulp task is done&apos;);//è‡ªå®šä¹‰æé†’ä¿¡æ¯});.... // å…¶ä»–ä»»åŠ¡ç±»ä¼¼// å®šä¹‰é»˜è®¤ä»»åŠ¡,æ‰§è¡Œgulpä¼šè‡ªåŠ¨æ‰§è¡Œçš„ä»»åŠ¡gulp.task(&apos;default&apos;, function(){    gulp.run(&apos;lint&apos;, &apos;sass&apos;, &apos;scripts&apos;);    // ç›‘å¬jsæ–‡ä»¶å˜åŒ–ï¼Œå½“æ–‡ä»¶å‘ç”Ÿå˜åŒ–åä¼šè‡ªåŠ¨æ‰§è¡Œä»»åŠ¡    gulp.watch(&apos;./js/*.js&apos;, function(){        gulp.run(&apos;lint&apos;,&apos;scripts&apos;);    });});</code></pre><p>7ã€ç°åœ¨ï¼Œå›åˆ°å‘½ä»¤è¡Œçª—å£ï¼Œå¯ä»¥ç›´æ¥è¿è¡Œgulpä»»åŠ¡äº†ã€‚</p><pre><code>gulpè¿™å°†æ‰§è¡Œå®šä¹‰çš„defaultä»»åŠ¡ï¼Œå°±å’Œä»¥ä¸‹çš„å‘½ä»¤å¼åŒä¸€ä¸ªæ„æ€gulp defaultå½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥è¿è¡Œåœ¨gulpfile.jsä¸­å®šä¹‰çš„ä»»æ„ä»»åŠ¡ï¼Œæ¯”å¦‚ï¼Œç°åœ¨å•ç‹¬è¿è¡Œsassä»»åŠ¡ï¼šgulp sass</code></pre><p>8ã€ç¼–è¯‘ä¼šæ˜¾ç¤ºFinished,å¦‚æœä½ çš„JSæœ‰ä»€ä¹ˆä¸å¥½çš„åœ°æ–¹å®ƒä¼šæé†’ï¼Œé¿å…ä¸€äº›ä¸å¿…è¦çš„é”™è¯¯ï¼Œååˆ†è´´å¿ƒ</p><pre><code>å¸¸è§æé†’ï¼š1.ç¦æ­¢åœ¨åŒä¸€è¡Œå£°æ˜å¤šä¸ªå˜é‡ã€‚2.è¯·ä½¿ç”¨ ===/!==æ¥æ¯”è¾ƒtrue/falseæˆ–è€…æ•°å€¼3.ä½¿ç”¨å¯¹è±¡å­—é¢é‡æ›¿ä»£new Arrayè¿™ç§å½¢å¼4.ä¸è¦ä½¿ç”¨å…¨å±€å‡½æ•°ã€‚5.Switchè¯­å¥å¿…é¡»å¸¦æœ‰defaultåˆ†æ”¯6.å‡½æ•°ä¸åº”è¯¥æœ‰æ—¶å€™æœ‰è¿”å›å€¼ï¼Œæœ‰æ—¶å€™æ²¡æœ‰è¿”å›å€¼ã€‚7.Forå¾ªç¯å¿…é¡»ä½¿ç”¨å¤§æ‹¬å·8.Ifè¯­å¥å¿…é¡»ä½¿ç”¨å¤§æ‹¬å·9.for-inå¾ªç¯ä¸­çš„å˜é‡ åº”è¯¥ä½¿ç”¨varå…³é”®å­—æ˜ç¡®é™å®šä½œç”¨åŸŸï¼Œä»è€Œé¿å…ä½œç”¨åŸŸæ±¡æŸ“ã€‚</code></pre><p>9ã€gulpçš„æ’ä»¶æ•°é‡å¾ˆå¤šï¼Œåé¢è¿˜å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œæ·»åŠ ä»»åŠ¡</p><pre><code>å¸¸ç”¨çš„gulpæ’ä»¶å‚è€ƒgulp-imagemin:         å‹ç¼©å›¾ç‰‡gulp-ruby-sass:     æ”¯æŒsassï¼Œå®‰è£…æ­¤ç‰ˆæœ¬éœ€è¦å®‰è£…rubygulp-minify-css:     å‹ç¼©cssgulp-jshint:          æ£€æŸ¥jsgulp-uglify:          å‹ç¼©jsgulp-concat:        åˆå¹¶æ–‡ä»¶gulp-rename:          é‡å‘½åæ–‡ä»¶gulp-htmlmin:         å‹ç¼©htmlgulp-clean:          æ¸…ç©ºæ–‡ä»¶å¤¹gulp-livereload:     æœåŠ¡å™¨æ§åˆ¶å®¢æˆ·ç«¯åŒæ­¥åˆ·æ–°ï¼ˆéœ€é…åˆchromeæ’ä»¶LiveReloadåŠtiny-lrï¼‰</code></pre><p>è¡¥å……ï¼šZSmart UED Team çš„å‰ç«¯å¼€å‘è½¯ä»¶ç¯å¢ƒ (Windows, Linux, Mac OS X)</p><pre><code>å®‰è£…Node.Jsã€NPMã€Rubyã€Java åŸºç¡€ç¯å¢ƒSublime Text3 + æ’ä»¶           ç”¨äºç¼–å†™å‰ç«¯ä»£ç Google chrome ã€Mozilla Firefox + FirebugInternet Explorer             è¿›è¡Œå…¼å®¹æµ‹è¯•å’Œé¢„è§ˆé¡µé¢UIã€åŠ¨ç”»æ•ˆæœå’Œäº¤äº’åŠŸèƒ½Node.js+Gulp                 è¿›è¡Œå‰ç«¯è‡ªåŠ¨åŒ–æ„å»ºã€JSè¯­æ³•éªŒè¯ã€CSSå‹ç¼©ï¼Œå›¾ç‰‡å‹ç¼©ç­‰ï¼›Koala                         å®æ—¶ç¼–è¯‘Lessã€Sassã€Compassã€CoffeeScript;Github                         å­˜å‚¨è‡ªå·±çš„ä»£ç åº“ ã€gitæˆ–SVNç”¨äºç‰ˆæœ¬æ§åˆ¶å’Œå›¢é˜ŸCode ReviewTomcatã€DedeAMPZã€MAMP      è¿›è¡Œç®€å•è¿è¡Œç¯å¢ƒæ¼”ç¤ºPhotoshop CC åˆ‡å›¾ + Sprites åˆå¹¶å°å›¾æ ‡XMind                         ç”»å‡ºæ¸…æ™°çš„å·¥ä½œæˆ–ä¸šåŠ¡é€»è¾‘æ€ç»´å›¾</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Webå‰ç«¯ä½¿ç”¨å·¥ç¨‹åŒ–æ–¹å¼æ„å»ºï¼›&lt;/p&gt;
&lt;p&gt;   ç›®å‰éœ€è¦ä¸€äº›ç®€å•çš„åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;1. ç‰ˆæœ¬æ§åˆ¶
6. ç¼–è¯‘SASS
2. æ£€æŸ¥JS
3. å›¾ç‰‡åˆå¹¶
4. å‹ç¼©CSS
5. å‹ç¼©JS
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™äº›éƒ½æ˜¯æ¯ä¸ªWebé¡¹ç›®åœ¨æ„å»ºã€å¼€
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>vueç»„ä»¶ä¹‹é—´çš„æ•°æ®ä¼ é€’åŠå…±äº«</title>
    <link href="https://github.com/luwenchun/luwenchun.github.io/2018/04/21/33vue%E7%BB%84%E4%BB%B6%E4%B9%8B%E9%97%B4%E7%9A%84%E6%95%B0%E6%8D%AE%E4%BC%A0%E9%80%92/"/>
    <id>https://github.com/luwenchun/luwenchun.github.io/2018/04/21/33vueç»„ä»¶ä¹‹é—´çš„æ•°æ®ä¼ é€’/</id>
    <published>2018-04-20T16:00:00.000Z</published>
    <updated>2019-01-10T08:05:02.497Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨æ•´ç†é¡¹ç›®ä¸­ä»£ç ï¼Œåœ¨ç»„ä»¶ä¹‹é—´æ•°æ®ä¼ é€’é‡åˆ°äº†é—®é¢˜ï¼Œæ‰€ä»¥åšäº†è¿™æ¬¡æ€»ç»“ï¼Œå¦‚æœ‰ä¸å¯¹çš„åœ°æ–¹ï¼Œæœ›æŒ‡æ­£ã€‚</p><h3 id="çˆ¶ç»„ä»¶å¦‚ä½•å°†æ•°æ®ä¼ åˆ°å­ç»„ä»¶ä¸­"><a href="#çˆ¶ç»„ä»¶å¦‚ä½•å°†æ•°æ®ä¼ åˆ°å­ç»„ä»¶ä¸­" class="headerlink" title="çˆ¶ç»„ä»¶å¦‚ä½•å°†æ•°æ®ä¼ åˆ°å­ç»„ä»¶ä¸­"></a>çˆ¶ç»„ä»¶å¦‚ä½•å°†æ•°æ®ä¼ åˆ°å­ç»„ä»¶ä¸­</h3><p>çˆ¶ç»„ä»¶å¯ä»¥é€šè¿‡Propä¼ é€’æ•°æ®åˆ°å­ç»„ä»¶ä¸­ã€‚</p><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼š</p><pre><code>Prop æ˜¯å•å‘ç»‘å®šçš„ï¼šå½“çˆ¶ç»„ä»¶çš„å±æ€§å˜åŒ–æ—¶ï¼Œå°†ä¼ å¯¼ç»™å­ç»„ä»¶ï¼Œä½†æ˜¯åè¿‡æ¥ä¸ä¼šã€‚è¿™æ˜¯ä¸ºäº†é˜²æ­¢å­ç»„ä»¶æ— æ„é—´ä¿®æ”¹äº†çˆ¶ç»„ä»¶çš„çŠ¶æ€ï¼Œæ¥é¿å…åº”ç”¨çš„æ•°æ®æµå˜å¾—éš¾ä»¥ç†è§£ã€‚æ¯æ¬¡çˆ¶ç»„ä»¶æ›´æ–°æ—¶ï¼Œå­ç»„ä»¶çš„æ‰€æœ‰ Prop éƒ½ä¼šæ›´æ–°ä¸ºæœ€æ–°å€¼ã€‚è¿™æ„å‘³ç€ä½ ä¸åº”è¯¥åœ¨å­ç»„ä»¶å†…éƒ¨æ”¹å˜ propã€‚å¦‚æœä½ è¿™ä¹ˆåšäº†ï¼ŒVue ä¼šåœ¨æ§åˆ¶å°ç»™å‡ºè­¦å‘Šã€‚</code></pre><p> åœ¨ä¸¤ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å¿ä¸ä½æƒ³å»ä¿®æ”¹ prop ä¸­æ•°æ®ï¼š</p><p>1ã€Prop ä½œä¸ºåˆå§‹å€¼ä¼ å…¥åï¼Œå­ç»„ä»¶æƒ³æŠŠå®ƒå½“ä½œå±€éƒ¨æ•°æ®æ¥ç”¨ï¼›</p><p>è§£å†³æ–¹æ³•ï¼šå®šä¹‰ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œå¹¶ç”¨ prop çš„å€¼åˆå§‹åŒ–å®ƒï¼š</p><pre><code>props: [&apos;initialCounter&apos;],data: function () {return { counter: this.initialCounter }}    </code></pre><p>2ã€Prop ä½œä¸ºåŸå§‹æ•°æ®ä¼ å…¥ï¼Œç”±å­ç»„ä»¶å¤„ç†æˆå…¶å®ƒæ•°æ®è¾“å‡ºã€‚</p><p>è§£å†³æ–¹æ³•ï¼š å®šä¹‰ä¸€ä¸ªè®¡ç®—å±æ€§ï¼Œå¤„ç† prop çš„å€¼å¹¶è¿”å›ï¼š</p><pre><code>props: [&apos;size&apos;],computed: {normalizedSize: function () {    return this.size.trim().toLowerCase()}}</code></pre><p>PSï¼šä¸Šè¾¹çš„å†…å®¹æ˜¯vueæ–‡æ¡£é‡Œè¾¹æœ‰è¯´çš„ï¼Œæˆ‘åªæ˜¯æŠŠè‡ªå·±åœ¨é¡¹ç›®ä¸­é‡åˆ°çš„é—®é¢˜æŠ½å‡ºæ¥äº†ã€‚</p><pre><code>// çˆ¶ç»„ä»¶ index.vue&lt;template&gt;    &lt;div class=&quot;content&quot;&gt;        &lt;child :lists=&quot;lists&quot;&gt;&lt;/child&gt;    &lt;/div&gt;&lt;/template&gt;&lt;script&gt;    import child from &apos;./child.vue&apos;;    export default {        components: {            child        },        data() {            return {                lists: []            };        },        mounted() {            this.lists = [{                name: &apos;01&apos;,                content: &apos;hi,&apos;            }, {                name: &apos;02&apos;,                content: &apos;my name is Ellyliang&apos;            }];        }    };&lt;/script&gt;// å­ç»„ä»¶ child.vue&lt;template&gt;    &lt;ul class=&quot;content&quot;&gt;    &lt;li v-for=&quot;(list, index) in getLists&quot; :key=&quot;index&quot; v-html=&quot;list.name + list.content&quot;&gt;&lt;/li&gt;    &lt;/ul&gt;&lt;/template&gt;&lt;script&gt;    export default {        props: [&apos;lists&apos;],        data() {            return {                getLists: this.lists            };        },        mounted() {            this.getLists.push({                name: &apos;03&apos;,                content: &apos;ä¸è¦åœ¨ä¹å†…å®¹ï¼Œæˆ‘å°±æ˜¯æµ‹è¯•&apos;            });        }    };&lt;/script&gt;</code></pre><h3 id="å­ç»„ä»¶å¦‚ä½•å°†æ•°æ®ä¼ åˆ°çˆ¶ç»„ä»¶ä¸­"><a href="#å­ç»„ä»¶å¦‚ä½•å°†æ•°æ®ä¼ åˆ°çˆ¶ç»„ä»¶ä¸­" class="headerlink" title="å­ç»„ä»¶å¦‚ä½•å°†æ•°æ®ä¼ åˆ°çˆ¶ç»„ä»¶ä¸­"></a>å­ç»„ä»¶å¦‚ä½•å°†æ•°æ®ä¼ åˆ°çˆ¶ç»„ä»¶ä¸­</h3><p>å­ç»„ä»¶å¯é€šè¿‡vm.$emitå°†æ•°æ®ä¼ é€’ç»™çˆ¶ç»„ä»¶</p><p> <strong>vm.$emitæ˜¯å•¥</strong></p><p>è§¦å‘å½“å‰å®ä¾‹ä¸Šçš„äº‹ä»¶ã€‚é™„åŠ å‚æ•°éƒ½ä¼šä¼ ç»™ç›‘å¬å™¨å›è°ƒ</p><pre><code>// çˆ¶ç»„ä»¶ index.vue&lt;template&gt;    &lt;div class=&quot;content&quot;&gt;        &lt;child :lists=&quot;lists&quot; @listenToChild=&quot;getChildMsg&quot;&gt;&lt;/child&gt;    &lt;/div&gt;&lt;/template&gt;&lt;script&gt;    import child from &apos;./child.vue&apos;;    export default {        components: {            child        },        data() {            return {                lists: []            };        },        mounted() {            this.lists = [{                name: &apos;01&apos;,                content: &apos;hi,&apos;            }, {                name: &apos;02&apos;,                content: &apos;my name is Ellyliang&apos;            }];        },        methods: {            getChildMsg(val) {                alert(val);  // &apos;hello&apos;            }        }    };&lt;/script&gt;// å­ç»„ä»¶ child.vue&lt;template&gt;    &lt;div class=&quot;content&quot;&gt;        &lt;ul class=&quot;lists&quot;&gt;            &lt;li v-for=&quot;(list, index) in getLists&quot; :key=&quot;index&quot; v-html=&quot;list.name + list.content&quot;&gt;&lt;/li&gt;        &lt;/ul&gt;    &lt;/div&gt;&lt;/template&gt;&lt;script&gt;    export default {        props: [&apos;lists&apos;],        data() {            return {                getLists: this.lists            };        },        mounted() {            this.getLists.push({                name: &apos;03&apos;,                content: &apos;ä¸è¦åœ¨ä¹å†…å®¹ï¼Œæˆ‘å°±æ˜¯æµ‹è¯•&apos;            });            setTimeout(() =&gt; {                this.$emit(&apos;listenToChild&apos;, &apos;hello&apos;);            }, 15000);        }    };&lt;/script&gt;</code></pre><p>å­ç»„ä»¶ç»™çˆ¶ç»„ä»¶ä¼ æ•°æ®æ˜¯ä¸æ˜¯ä¹Ÿå¾ˆæ–¹ä¾¿ã€‚å®ç°æ–¹æ³•æ˜¯å°±æ˜¯åœ¨å­ç»„ä»¶ä¸­$emitæ•°æ®ï¼Œç„¶ååœ¨çˆ¶ç»„ä»¶ä¸­é€šè¿‡äº‹ä»¶@äº‹ä»¶åæ¥æ”¶å€¼ã€‚</p><h3 id="Event-Bus"><a href="#Event-Bus" class="headerlink" title="Event Bus"></a>Event Bus</h3><p>äº‹ä»¶å·´å£«è¿™ç§æ–¹æ³•ï¼Œä¸ä»…èƒ½å¤„ç†çˆ¶å­ç»„ä»¶ä¼ é€’ï¼Œå­çˆ¶ç»„ä»¶ä¼ é€’ï¼Œè¿˜æ˜¯å¤„ç†å¹³çº§ç»„ä»¶ä¹‹é—´çš„æ•°å€¼ä¼ é€’ã€‚å…¶å®ç°æ–¹æ³•å°±æ˜¯åœ¨å…¨å±€newä¸€ä¸ªvueå®ä¾‹ï¼Œç„¶åä¼ å€¼ç»™bus, å°±æ˜¯let bus = new vue();ã€‚é€šè¿‡è¿™ä¸ªå…¨å±€çš„busä¸­çš„$emit, $onç­‰ç­‰å»å®ç°æ•°æ®çš„ä¼ é€’ã€‚è¿™æ ·å¤„ç†æœ‰ä¸ªé—®é¢˜ï¼Œç”±äºevent buså¤„ç†æ•°æ®ä¼ é€’å¾ˆæ–¹ä¾¿ï¼Œä¸ç®¡åœ¨å“ªé‡Œéƒ½å¯ä»¥ä¼ é€’ï¼Œè¿™æ ·å¯¼è‡´æ»¥ç”¨ï¼Œä»è€Œå¯¼è‡´ä»£ç å¾ˆéš¾å»ç†è§£ã€‚</p><p> Event Buså®ç°</p><pre><code>let bus = new Vue();// è§¦å‘ç»„ä»¶ A ä¸­çš„äº‹ä»¶bus.$emit(&apos;id-selected&apos;, 1);// åœ¨ç»„ä»¶ B åˆ›å»ºçš„é’©å­ä¸­ç›‘å¬äº‹ä»¶bus.$on(&apos;id-selected&apos;, function (id) {// ...});</code></pre><p>å…·ä½“ç»„ä»¶çš„å°è£…å’Œä½¿ç”¨ï¼Œå¯å‚è€ƒvue-busã€‚</p><h3 id="vuex"><a href="#vuex" class="headerlink" title="vuex"></a>vuex</h3><p>vuexå®˜ç½‘çš„ä¸“ä¸šæœ¯è¯­ï¼Œè®©æœ‰äº›äººè¿˜æ˜¯æ„Ÿè§‰ï¼Œæ‘¸ä¸ç€å¤´è„‘ï¼Œåšä¸€äº›å®ç”¨åœºæ™¯ç»™å¤§å®¶çœ‹</p><pre><code>state ç”¨æ¥æ•°æ®å…±äº«æ•°æ®å­˜å‚¨mutation ç”¨æ¥æ³¨å†Œæ”¹å˜æ•°æ®çŠ¶æ€getters ç”¨æ¥å¯¹å…±äº«æ•°æ®è¿›è¡Œè¿‡æ»¤æ“ä½œaction è§£å†³å¼‚æ­¥æ”¹å˜å…±äº«æ•°æ®</code></pre><p>æ­¤æ—¶é‡‡ç”¨çš„æ¼”ç¤ºæ–¹å¼è¿˜æ˜¯ç”¨å®˜æ–¹æä¾›çš„vue-cli webpackç‰ˆæœ¬</p><p>åœ¨srcç›®å½•ä¸‹æˆ‘ä»¬åˆ›ä¸€ä¸ªvuexæ–‡ä»¶å¤¹ï¼Œåˆ†åˆ«åˆ›å»ºindex.js,mutations.js,state.js,getters.js,actions.js</p><p>è¿™æ ·æˆ‘ä»¬å¯å¯¹å››ç§ç‰¹æ€§è¿›è¡Œåˆ†æ–‡ä»¶ï¼Œè¿™æ ·å¯ä»¥æ›´åŠ æ˜ç¡®ï¼Œæ¸…æ¥š</p><p><img src="https://lc-mhke0kuv.cn-n1.lcfile.com/74a488ee6821acb7e263.png" alt="ç›®å½•"></p><p>æˆ‘ä»¬åˆ†åˆ«æŠŠè¿™å››ä¸ªç‰¹æ€§æ”¾å…¥index.jsä¸­è¿›è¡Œstoreçš„å®åˆ—åŒ–</p><p><img src="https://lc-mhke0kuv.cn-n1.lcfile.com/df4e0b9aed60a84d45ef.png" alt="stateä¸»ç›®å½•"></p><p>å†æŠŠå®åˆ—åŒ–çš„storeå¼•å…¥å°±æ˜¯æ‰€è°“çš„index.jsæ–‡ä»¶å¤¹å¼•å…¥åˆ°main.jsä¸­ï¼Œä¹Ÿå¯ä»¥åŒæ—¶æŠŠstoreæ³¨å†Œåˆ°æ¯ä¸€ä¸ªç»„ä»¶ä¸­</p><p><img src="https://lc-mhke0kuv.cn-n1.lcfile.com/60c0bddd7c2b31df2879.png" alt="stateå®ä¾‹åŒ–"></p><h4 id="stateå¦‚ä½•ç”¨ï¼Ÿ"><a href="#stateå¦‚ä½•ç”¨ï¼Ÿ" class="headerlink" title="stateå¦‚ä½•ç”¨ï¼Ÿ"></a>stateå¦‚ä½•ç”¨ï¼Ÿ</h4><p>åœ¨é¡µé¢ä¸­ï¼Œtitleè‚¯å®šæ˜¯å¿…å¤‡ï¼Œé‚£æ¯ä¸ªç»„ä»¶é¡µé¢çš„titleéƒ½è‚¯å®šä¸ä¸€æ ·ï¼Œé‚£æˆ‘ä»¬å¦‚ä½•å»æ‹¿åˆ°title,titleé€‚åˆæ”¾åœ¨é‚£é‡Œï¼Œæ ¹æ®æ¯ä¸ªé¡µé¢åˆ‡æ¢ï¼Œè€Œæ”¹å˜title,è¿™ä¸ªç‰µæ‰¯çš„å°±æ˜¯ç»„ä»¶ä¸ç»„ä»¶ä¸­çš„é€šä¿¡</p><p>æˆ‘ä»¬å¯ä»¥åœ¨state.jsä¸­å…ˆå£°æ˜ä¸€æ•°æ®å€¼</p><pre><code>export default{    title : &quot;é¦–é¡µ&quot;}</code></pre><p><strong>é‚£æˆ‘ä»¬å¦‚ä½•åœ¨é¦–é¡µä¸­æ‹¿åˆ°è¿™ä¸ªtitleå€¼</strong></p><p><img src="https://lc-mhke0kuv.cn-n1.lcfile.com/a6dfd2f072b4b9a012e9.jpg" alt=""></p><p>é‚£æˆ‘ä»¬åœ¨mian.jsä¸­å†åŠ å…¥new Vue,ç»‘å®štitleä½œç”¨åŸŸçš„å®ä¾‹ä»£ç </p><p>æˆ‘ä»¬åœ¨computedé‡Œè¿›è¡Œæ•°æ®ç›‘å¬ï¼Œ</p><p>æ­¤æ—¶æˆ‘ä»¬å°±å¯ä»¥ä»storeé‡Œæ‹¿åˆ°state.title</p><p>æœ€åä¸€æ­¥ï¼Œæˆ‘ä»¬åœ¨index.htmlä¸­æˆ‘ä»¬å†è¿›è¡Œvueç»„ä»¶ä¹‹é—´çš„æ•°æ®ä¼ é€’åŠå…±äº«ç»‘å®š</p><p><strong>index.html</strong></p><pre><code>&lt;title&gt;{{title}}&lt;/title&gt;</code></pre><p>æ­¤æ—¶æˆ‘ä»¬è¿è¡Œä¸€ä¸‹ï¼Œæ‰“å¼€dev-toolsä½ ä¼šå‘ç°</p><p><img src="https://lc-mhke0kuv.cn-n1.lcfile.com/46eded6760bba9be1619.jpg" alt=""></p><p>titleè¿™ä¸ªæ•°æ®å·²ç»åœ¨å…¨å±€è¢«å…±äº«äº†</p><h4 id="matutionså¦‚ä½•ä½¿ç”¨"><a href="#matutionså¦‚ä½•ä½¿ç”¨" class="headerlink" title="matutionså¦‚ä½•ä½¿ç”¨"></a>matutionså¦‚ä½•ä½¿ç”¨</h4><p>åº”ç”¨åœºæ™¯ï¼š</p><p>å¦‚æœæˆ‘ä»¬è¦æ”¹å˜é¡¶å±‚çš„å…±äº«æ•°æ®ï¼Œæˆ‘ä»¬åº”è¯¥è¦ç”¨matutionsæ¥è¿›è¡Œæ”¹å˜ï¼Œå¦‚æœä½ åšå…¬ä¼—å·ï¼Œåå°ä¸€èˆ¬ä¼šåœ¨è¿æ¥çš„ä¸Šç»™ä½ ä¸€äº›å‚æ•°ï¼Œæ¯”æ–¹è¯´sid,ck,tm,æˆ–è€…ä¸€äº›å…¶å®ƒä¸œè¥¿ï¼Œä½ æƒ³æŠŠä»–å­˜åœ¨stateä¸­ï¼Œå¦‚æœå»åšï¼Œé‚£æˆ‘ä»¬å°±é€šè¿‡matutionsæ¥è¿›è¡Œæ³¨å†Œäº‹ä»¶ï¼Œä¸ºäº†æ¼”ç¤ºï¼Œæˆ‘æ‰è¿™ä¹ˆåš</p><p>æ³¨æ„ï¼š<br>å¯¹äºvuexï¼Œæˆ‘åªæ¨èstateçŠ¶æ€å­˜å‚¨åªåœ¨ä¸€ä¸ªé¡µé¢ä¸­ç»„ä»¶ä¸ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼Œä¸é€‚åˆè·¨é¡µé¢ï¼Œ æ”¾ä¸€äº›çŠ¶æ€</p><p><strong>state.js</strong></p><pre><code>export default{    START_PARMA : {},    title : &quot;é¦–é¡µ&quot;}</code></pre><p>START_PARMAç”¨æ¥å­˜æ”¾æˆ‘ä»¥ä¸Šè¿æ¥å‚æ•°çš„æ•°æ®ï¼Œæˆ‘ä»¬å…ˆå‰ä¸€å®šè¦å®šæ„å¥½</p><p><strong>mutations.js</strong></p><pre><code>export default{    getParam (state,Object) {    state.START_PARMA = Object    }}</code></pre><p>æˆ‘ä»¬å¯¹æ”¹å˜stateæ•°æ®è¿›è¡Œä¸€ä¸ªäº‹ä»¶æ³¨å†Œï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ‹¿åˆ°stateå¯¹è±¡ï¼Œç¬¬äºŒä¸ªæ˜¯ä¼ å…¥çš„å‚æ•°</p><ul><li>getParamå®˜æ–¹è¯´æ˜¯typeï¼Œå…¶å®å°±æ˜¯æ³¨å†Œçš„äº‹ä»¶å</li><li>å¯ä»¥æ˜¯å•ä¸ªå‚æ•°</li><li><p>å¦‚æœæ˜¯å¤šä¸ªå‚æ•°ï¼Œæˆ‘ä»¬åˆ™ç”¨å¯¹è±¡æ”¾å…¥ï¼Œå¦‚æœä½ å†™ä¸¤ä¸ªå‚æ•°ï¼Œä¼šæŠ¥é”™</p><pre><code>export default {        name : &apos;advertisement&apos;,        created () {            const keyCode = sessionStorage.keyCode = getQueryString(&apos;keyCode&apos;)            const keyWord = sessionStorage.keyWord =  keyCode.split(&quot;_&quot;)[0]            const hunterCode = sessionStorage.hunterCode = keyCode.split(&quot;_&quot;)[1]            const sid = sessionStorage.sid= getQueryString(&apos;sid&apos;)            const ck = sessionStorage.ck = getQueryString(&apos;ck&apos;)            const tm = sessionStorage.tm = getQueryString(&apos;tm&apos;)            this.$store.commit(&apos;getParam&apos;,{                keyCode,                keyWord,                hunterCode,                sid,                ck,                tm            })        }    }</code></pre></li></ul><p>æˆ‘ä»¬è‡ªå·±åˆ›å»ºä¸€ä¸ªè§†å›¾ï¼Œç„¶ååœ¨createdé‡Œè¿›è¡Œæˆªå–å‚æ•°ï¼Œå› ä¸ºstoreæ˜¯æ³¨å†Œåˆ°æ¯ä¸ªç»„ä»¶ä¸­çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ç”¨this.$storeæ¥è®¿é—®ï¼Œé‚£commitå°±æ˜¯ä¸€ä¸ªè§¦å‘å™¨ï¼Œç¬¬ä¸€ä¸ªæ˜¯typeç±»å½¢åï¼Œç¬¬äºŒä¸ªå‚æˆ‘ä»¬ç”¨å¯¹è±¡çš„æ–¹å¼ä¼ å…¥ï¼Œé‡Œé¢ç”¨çš„æ˜¯es6çš„è¯­æ³•</p><p>æ­¤æ—¶ä½ ä¼šå‘ç°</p><p><img src="https://lc-mhke0kuv.cn-n1.lcfile.com/f0aa5d0df0fbe76c49f3.png" alt=""></p><p>æ­¤æ—¶çš„æˆªå–çš„çŠ¶æ€æ”¾åˆ°äº†ä¸€ä¸ªå¯¹è±¡é‡Œï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨äº†</p><h4 id="getterså¦‚ä½•ä½¿ç”¨"><a href="#getterså¦‚ä½•ä½¿ç”¨" class="headerlink" title="getterså¦‚ä½•ä½¿ç”¨"></a>getterså¦‚ä½•ä½¿ç”¨</h4><p>å¦‚æœè¯´getterå°±æ˜¯å¯¹stateé‡Œçš„æ•°æ®è¿›è¡Œä¸€äº›è¿‡æ»¤ï¼Œæ”¹é€ ç­‰ç­‰</p><p>é‚£æ¯”æ–¹è¯´Stateé‡Œæœ‰ä¸€äº›è¿™æ ·çš„æ•°æ®</p><p><strong>state.js</strong></p><pre><code>people : [        {name : &apos;ziksang1&apos;,age:21},        {name : &apos;ziksang2&apos;,age:10},        {name : &apos;ziksang3&apos;,age:30},        {name : &apos;ziksang4&apos;,age:40},        {name : &apos;ziksang5&apos;,age:50},        {name : &apos;ziksang6&apos;,age:30},        {name : &apos;ziksang7&apos;,age:80}    ]</code></pre><p>å¦‚æœæˆ‘ä»¬å®šä¹‰è¿™äº›æ•°æ®ï¼Œç„¶åæˆ‘ä»¬è¦ä»ï¼Œè¿™äº›æ•°æ®ä¸­ç­›é€‰å‡ºå¹´çºªå¤§äº30çš„äººï¼Œå†è¿›è¡Œè¿”å›ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨åˆ°getter,è¿™é‡Œçš„getterçš„æ„æ€å°±æ˜¯å¯¹vuexé¡¶å±‚æ•°æ®è¿›è¡Œè¿‡æ»¤ï¼Œè€Œä¸æ”¹åŠ¨stateé‡ŒåŸæœ¬çš„æ•°æ®</p><p><strong>getters.js</strong></p><pre><code>export default{    changePeople: (state) =&gt;{        return state.people.filter(item=&gt;{            if(item.age&gt;30){                return true            }        })    }}</code></pre><p>å¥½æˆ‘ä»¬å¦‚ä½•åº”ç”¨å‘¢ï¼Œæˆ‘ä»¬åœ¨ç»„ä»¶ä¸­é‡Œåªè¦å†™å…¥</p><pre><code>created () {        console.log(this.changePeople)},computed : {            changePeople () {                return this.$store.getters.changePeople            }},</code></pre><p>é‚£æˆ‘ä»¬å¯ä»¥æ‰“å¼€å‘½å°çœ‹ä¸€ä¸‹ï¼Œçœ‹å›çš„æ•°æ®ï¼Œ</p><p><img src="https://lc-mhke0kuv.cn-n1.lcfile.com/6dca03740c0b56087763.jpg" alt=""><br>æ¥ä¸‹æ¥ä½ å¦‚ä½•æƒ³å¯¹æ•°æ®è¿›è¡Œæ“ä½œé‚£å°±çœ‹ä½ è‡ªå·±çš„äº†</p><h4 id="action-å¦‚ä½•ä½¿ç”¨ï¼Ÿ"><a href="#action-å¦‚ä½•ä½¿ç”¨ï¼Ÿ" class="headerlink" title="action å¦‚ä½•ä½¿ç”¨ï¼Ÿ"></a>action å¦‚ä½•ä½¿ç”¨ï¼Ÿ</h4><p>action.æ˜¯ç”¨æ¥è§£å†³å¼‚æ­¥æµç¨‹æ¥æ”¹å˜stateæ•°æ®çš„ï¼Œæœ‰æƒ³äººè¯´ï¼Œé‚£æˆ‘ç›´æ¥åœ¨matutioné‡Œé¢è¿›è¡Œå†™è¿›ä¸å°±è¡Œäº†éº»ï¼Œé‚£ä½ å¯ä»¥è¯•ä¸€ä¸‹ï¼Œå› ä¸ºmatutionæ˜¯ç›´æ¥è¿›è¡ŒåŒæ­¥æ“ä½œçš„</p><p><strong>mutations.js</strong></p><pre><code>export default{    getParam (state,Object) {    setTimeout(()=&gt;{            state.START_PARMA = Object    },1000)    }}</code></pre><p>è¿˜æ˜¯æ‹¿ä¸Šé¢ä¾‹å­ï¼Œå¦‚æœä½ åœ¨mutationsé‡Œè¿›è¡Œå¼‚æ­¥æ“ä½œï¼Œä½ ä¼šå‘ç°æ²¡ç”¨ï¼Œå¹¶ä¸ä¼šèµ·ä»»ä½•æ•ˆæœï¼Œé‚£æ€ä¹ˆåŠï¼Œåªæœ‰é€šè¿‡action-&gt;mutations-&gt;states,è¿™ä¸ªæµç¨‹è¿›è¡Œæ“ä½œ</p><p><strong>action.js</strong></p><pre><code>export default {    getParamSync (context,Object) {        setTimeout(()=&gt;{            context.commit(&apos;getParam&apos;,Object)        },3000)    }}</code></pre><p>å†™ä¸€ä¸ªgetParamSyncå‡½çµæ•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯ä¸Šä¸‹æ–‡ï¼Œcontextæ˜¯ä¸€ä¸ªstoreå¯¹è±¡ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨è§£æ„çš„æ–¹å¼å†™å‡ºæ¥,ç¬¬äºŒä¸ªå‚æ•°è¿˜æ˜¯æˆ‘ä»¬è¦å†™å…¥çš„æ¥æ”¶åˆ°çš„å‚æ•°ï¼Œæ¥æ”¹å˜è§¦å‘mutationsäº‹ä»¶,å†é€šè¿‡mutationæ¥æ”¹å˜state,å¾ˆå¥½ç†è§£ä¸éš¾</p><p>ç„¶åæˆ‘ä»¬å°±åœ¨ç»„ä»¶é‡Œè¿™ä¹ˆè°ƒç”¨å°±å¯ä»¥äº†</p><pre><code>this.$store.dispatch(&apos;getParamSync&apos;,{    keyCode,    keyWord,    hunterCode,    sid,    ck,    tm})</code></pre><p>é‚£ç»„åˆactionåˆæ˜¯æ€ä¹ˆç©å‘¢ï¼Ÿæˆ‘ä»¬æœ‰æ—¶å€™å‘åå°è¯·æ±‚æ—¶ï¼Œè¦é€šè¿‡ç¬¬ä¸€ä¸ªAJAXè¿”å›å€¼æ¥è¿›è¡Œä¸‹ä¸€ä¸ªactionåˆ†å‘</p><p>æˆ‘ä»¬å¯ä»¥ç”¨promiseæ¥è¿›è¡Œå¼‚æ­¥å¤„ç†</p><p><strong>actions.js</strong></p><pre><code>export default {    getParamSync (context,Object) {        return new Promise((reslove,reject)=&gt;{            setTimeout(()=&gt;{                context.commit(&apos;getParam&apos;,Object)                return reslove(&apos;æˆåŠŸ&apos;)            },3000)        })    },    changetitleSync ({commit},title){        setTimeout(()=&gt;{            commit(&apos;changetitle&apos;,title)        },3000)    }}</code></pre><p>åœ¨getParamSyncä½¿ç”¨new promiseä¹‹åï¼Œåœ¨resolveé‡Œè¿”å›â€˜æˆåŠŸâ€™ï¼Œå†åˆ†å‘ä¸€ä¸ªchangetitleSyncæ”¹å˜titleçš„actionæ–¹æ³•</p><p><img src="https://lc-mhke0kuv.cn-n1.lcfile.com/4a3b12a68fd64e5aa0ea.png" alt=""></p><p><strong>mutations.js</strong></p><pre><code>export default{    getParam (state,Object) {    state.START_PARMA = Object    },    changetitle (state,title){        state.title = title    }}</code></pre><p>å†åœ¨æ³¨å†Œä¸€ä¸ªæ”¹å˜titleçš„changetitleçš„typeç±»å‹</p><p><strong>ç»„ä¸­é—´è°ƒç”¨</strong></p><pre><code>created(){this.$store.dispatch(&apos;getParamSync&apos;,{                keyCode,                keyWord,                hunterCode,                sid,                ck,                tm            }).then((res)=&gt;{                this.$store.dispatch(&apos;changetitleSync&apos;,res)            })}</code></pre><p>æˆ‘ä»¬å°±å¯ä»¥åœ¨ç»„ä»¶ä¸­è¿›è¡Œä¸€ç§é“¾å¼è°ƒç”¨ï¼Œè§£å†³å¼‚æ­¥å›è°ƒï¼Œæ¥actionå¥—action,å°±æˆäº†ä¸€ä¸ªç»„åˆaction</p><p><strong>å…³äºå…¶å®ƒè¾…åŠ©ç”¨æ³•</strong></p><ul><li>mapState è¾…åŠ©å‡½æ•°</li><li>mapGetters è¾…åŠ©å‡½æ•°</li><li>mapMutations è¾…åŠ©å‡½æ•°</li><li>mapActions è¾…åŠ©å‡½æ•°</li></ul><p>å°¤å¤§ç¥å·²ç»å†™çš„å¾ˆå…¨é¢äº†ï¼Œå¤§å®¶å¯ä»¥å‚è€ƒvuexçš„å®˜ç½‘ï¼Œè¿›è¡Œé˜…è¯»ä¸€ä¸‹ã€‚æˆ‘åœ¨è¿™é‡Œå°±æ²¡æœ‰å¿…è¦å†è¿›è¡Œé‡æ–°è®²è§£äº†</p><p><strong>åœ¨vuexä¸­ï¼Œæˆ‘è®¤ä¸ºvuexç”¨åœ¨é‚£é‡Œæ¯”è¾ƒå¥½ï¼Ÿ</strong></p><p>åªé€‚åˆè¿ç”¨äºä¸€ä¸ªè§†å›¾å†…ç»„ä»¶ä¸ç»„ä»¶ä¹‹é—´çš„ç»„åˆä¼ é€’ï¼Œä¸é€‚ç”¨äºè·¨é¡µé¢ï¼Œä½†æ˜¯å¯ä»¥å…±ç”¨ï¼Œä¸ºäº†ä¸å› ç”¨æˆ·åˆ·æ–°é¡µé¢ï¼Œè¦è¿›è¡Œåˆå§‹åŒ–å†æ¬¡è°ƒç”¨ã€‚</p><p><strong>ä¸é€‚åˆè¿ç”¨åœ¨é‚£é‡Œ</strong></p><p>åœ¨è‡ªå·±å†™ä¸€äº›Uiç»„ä»¶ç»™å¤§å®¶æˆ–è€…å¼€æºç”¨çš„è¯ï¼Œä¸é€‚ç”¨äºå†™åœ¨vuexä¸­ï¼Œåº”è¯¥æš´éœ²æ‰€æ¥æ”¶çš„Props,é€šè¿‡$emitæ¥è¿›è¡Œè§¦å‘äº‹ä»¶ï¼Œä¸€äº›å…³é”®æ€§å…¨å±€çŠ¶æ€ï¼Œä¸ä¹Ÿé€‚åˆå­˜vuexä¸­ï¼Œä½ å¯ä»¥é€‰æ‹©localStorage,sessionStorage</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœ€è¿‘åœ¨æ•´ç†é¡¹ç›®ä¸­ä»£ç ï¼Œåœ¨ç»„ä»¶ä¹‹é—´æ•°æ®ä¼ é€’é‡åˆ°äº†é—®é¢˜ï¼Œæ‰€ä»¥åšäº†è¿™æ¬¡æ€»ç»“ï¼Œå¦‚æœ‰ä¸å¯¹çš„åœ°æ–¹ï¼Œæœ›æŒ‡æ­£ã€‚&lt;/p&gt;
&lt;h3 id=&quot;çˆ¶ç»„ä»¶å¦‚ä½•å°†æ•°æ®ä¼ åˆ°å­ç»„ä»¶ä¸­&quot;&gt;&lt;a href=&quot;#çˆ¶ç»„ä»¶å¦‚ä½•å°†æ•°æ®ä¼ åˆ°å­ç»„ä»¶ä¸­&quot; class=&quot;headerlink&quot; title=&quot;çˆ¶ç»„ä»¶å¦‚ä½•å°†æ•°æ®ä¼ 
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>mongodbå¸¸ç”¨æ“ä½œæŒ‡ä»¤</title>
    <link href="https://github.com/luwenchun/luwenchun.github.io/2018/03/29/27mongodb%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/"/>
    <id>https://github.com/luwenchun/luwenchun.github.io/2018/03/29/27mongodbä½¿ç”¨æ–¹æ³•/</id>
    <published>2018-03-28T16:00:00.000Z</published>
    <updated>2019-01-10T08:07:42.142Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1-åˆ›å»ºç®€å•mongodbæœåŠ¡å™¨"><a href="#1-åˆ›å»ºç®€å•mongodbæœåŠ¡å™¨" class="headerlink" title="1.åˆ›å»ºç®€å•mongodbæœåŠ¡å™¨"></a>1.åˆ›å»ºç®€å•mongodbæœåŠ¡å™¨</h3><ul><li><p><code>mongod --dbpath E:\MongoDB\db</code></p></li><li><p><code>mongo.exe</code></p></li></ul><h3 id="2-æ•°æ®åº“æ“ä½œ-CRUD"><a href="#2-æ•°æ®åº“æ“ä½œ-CRUD" class="headerlink" title="2.æ•°æ®åº“æ“ä½œ(CRUD)"></a>2.æ•°æ®åº“æ“ä½œ(CRUD)</h3><ul><li><p>æ˜¾ç¤ºæ•°æ®åº“åç§°ï¼š<code>show dbs</code></p></li><li><p>åˆ‡æ¢æ•°æ®åº“ï¼š<code>use &lt;dbname&gt;</code></p></li><li><p>åˆ é™¤å½“å‰æ•°æ®åº“ï¼š<code>db.dropDatabase()</code></p></li><li><p>æƒ³è¦æ–°å»ºæ•°æ®åº“ï¼Œç›´æ¥ä½¿ç”¨<code>use &lt;dbname&gt;</code>,åœ¨éœ€è¦çš„æ—¶å€™ä¼šè‡ªåŠ¨åˆ›å»º</p></li><li><p>æ–°å»ºè¡¨<code>db.&lt;è¡¨å&gt;.insert({})</code>;æ•°æ®ä»¥jsonçš„æ ¼å¼</p></li><li><p>æ˜¾ç¤ºè¡¨å ï¼š<code>show collections</code></p></li></ul><blockquote><p>ä¾‹å­</p></blockquote><pre><code>&gt; use exapmledb&gt; db.ex_collection1.insert({x:1}) //åœ¨è¡¨ex_collection1ä¸­æ’å…¥æ•°æ®{x:1}&gt; show collectionsè¾“å‡ºï¼šex_collection1system.indexes</code></pre><h4 id="2-1-æŸ¥"><a href="#2-1-æŸ¥" class="headerlink" title="2.1 æŸ¥"></a>2.1 æŸ¥</h4><ul><li><p>æŸ¥è¯¢ ï¼š<code>db.&lt;è¡¨å&gt;.find()</code> é»˜è®¤è¿”å›æ‰€æœ‰æ•°æ®</p><p>  <code>&gt; db.ex_collection1.find()</code> </p></li><li><p>æŸ¥è¯¢è¡¨ä¸­æ•°æ®ï¼Œé»˜è®¤è¿”å›æ‰€æœ‰</p><p>  <code>{ &quot;_id&quot; : ObjectId(&quot;58e9e1c6d6ffabd315a4f74a&quot;), &quot;x&quot; : 1 }</code></p><p>  æ•°æ®åº“ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª<code>_id</code>ï¼Œä¹Ÿå¯ä»¥è‡ªå·±æ·»åŠ ï¼Œä½†ä¸èƒ½é‡å¤</p></li><li><p>æ¡ä»¶æŸ¥è¯¢ï¼šdb.ex_collection1.find({x:1})</p></li><li><p>å¾ªç¯æ’å…¥</p><p>  <code>&gt; for(i=2;i&lt;50;i++)db.ex_collection1.insert({x:i})</code></p></li><li><p>è®¡ç®—æŸ¥è¯¢å‡ºæ¥çš„æ€»æ•°</p><p>  <code>&gt; db.ex_collection1.find().count()</code>  </p></li><li><p>å¢åŠ æŸ¥è¯¢æ¡ä»¶,ä¸‹é¢è¡¨ç¤ºï¼Œè¿‡æ»¤å‰3æ¡ï¼Œè¿”å›ä¸¤æ¡ï¼Œå¹¶ä¸”ä»¥xæ’åº</p><p>  <code>db.ex_collection1.find().skip(3).limit(2).sort({x:1})</code></p><h4 id="2-2-æ›´æ–°"><a href="#2-2-æ›´æ–°" class="headerlink" title="2.2 æ›´æ–°"></a>2.2 æ›´æ–°</h4></li><li><p>æ›´æ–°æ•°æ®ï¼Œæ¯”å¦‚å°†<code>xï¼š1</code>çš„æ•°æ®æ”¹ä¸º<code>xï¼š999</code></p><p>  <code>db.ex_collection1.update({x:1},{x:999})</code> </p></li><li><p>éƒ¨åˆ†æ›´æ–°ï¼Œæ¯”å¦‚æœ‰æ•°æ®{x:100, y:100, z:100},æƒ³è¦ä»¥z:100ä¸ºæ¡ä»¶ï¼Œæ›´æ–°é‡Œé¢çš„yä¸º99ï¼›</p><p>  <code>db.ex_collection1.update({z:100},{$set:{y:99}})</code></p></li><li><p>æ›´æ–°ä¸€æ¡ä¸å­˜åœ¨çš„æ•°æ®ï¼Œå¦‚æœæŸ¥æ‰¾yä¸º100çš„æ•°æ®ï¼Œæ”¹ä¸ºyï¼š999ï¼Œå¦‚æœä¸å­˜åœ¨çš„è¯å°±ç›´æ¥å†™å…¥yï¼š999æ•°æ®,å¢åŠ ç¬¬ä¸‰ä¸ªå‚æ•°trueå³å¯ã€‚</p><p>  <code>db.ex_collection1.update({y:100},{y:999},true)</code></p></li><li><p>æ›´æ–°å¤šæ¡æ•°æ®ï¼Œmongodbé»˜è®¤æ›´æ–°ä¸€æ¡æ•°æ®ï¼Œæ¯”å¦‚æœ‰ä¸‰æ¡cä¸º1çš„æ•°æ®ï¼Œä½¿ç”¨å‰é¢æ–¹å¼æ›´æ–°åªä¼šä¿®æ”¹ç¬¬ä¸€æ¡ã€‚</p><p>  <code>db.immoc_collection.update({c:1},{$set:{c:2}},false,true)</code></p></li></ul><h4 id="2-3-åˆ é™¤"><a href="#2-3-åˆ é™¤" class="headerlink" title="2.3 åˆ é™¤"></a>2.3 åˆ é™¤</h4><ul><li><p>åˆ é™¤æ•°æ®</p><p>  <code>db.immoc_collection.remove({c:2})</code></p></li><li><p>åˆ é™¤è¡¨</p><p>  <code>db.ex_collection1.drop()</code></p></li></ul><h3 id="3-ç´¢å¼•"><a href="#3-ç´¢å¼•" class="headerlink" title="3. ç´¢å¼•"></a>3. ç´¢å¼•</h3><h4 id="3-1-æŸ¥è¯¢åˆ›å»ºç´¢å¼•"><a href="#3-1-æŸ¥è¯¢åˆ›å»ºç´¢å¼•" class="headerlink" title="3.1 æŸ¥è¯¢åˆ›å»ºç´¢å¼•"></a>3.1 æŸ¥è¯¢åˆ›å»ºç´¢å¼•</h4><ul><li><p>æŸ¥è¯¢ç´¢å¼•</p><p>  <code>db.ex_collection1.getIndexes()</code></p></li><li><p>åˆ›å»ºç´¢å¼•(è¿™é‡Œçš„1ä»£è¡¨ä¸ºæ­£å‘ï¼Œ-1ä¸ºè´Ÿå‘ç´¢å¼•)</p><p>  <code>db.imooc_collection.ensureIndex({x:1})</code></p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;1-åˆ›å»ºç®€å•mongodbæœåŠ¡å™¨&quot;&gt;&lt;a href=&quot;#1-åˆ›å»ºç®€å•mongodbæœåŠ¡å™¨&quot; class=&quot;headerlink&quot; title=&quot;1.åˆ›å»ºç®€å•mongodbæœåŠ¡å™¨&quot;&gt;&lt;/a&gt;1.åˆ›å»ºç®€å•mongodbæœåŠ¡å™¨&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;code
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ç®€å•å®ç°VUEä¸­çš„MVVM</title>
    <link href="https://github.com/luwenchun/luwenchun.github.io/2018/03/09/43%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0VUE%E4%B8%AD%E7%9A%84MVVM/"/>
    <id>https://github.com/luwenchun/luwenchun.github.io/2018/03/09/43ç®€å•å®ç°VUEä¸­çš„MVVM/</id>
    <published>2018-03-08T16:00:00.000Z</published>
    <updated>2019-01-10T08:05:51.018Z</updated>
    
    <content type="html"><![CDATA[<h2 id="defineProperty"><a href="#defineProperty" class="headerlink" title="defineProperty"></a>defineProperty</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ä¸€ä¸‹ js ä¸­çš„ä¸€ä¸ª API :<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" target="_blank" rel="noopener">Object.defineProperty(obj, prop, descriptor)</a></p><p>ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬ä¸ºä¸€ä¸ªå¯¹è±¡æ·»åŠ ä¸€ä¸ªå±æ€§ä¸€èˆ¬éƒ½ä¼šè¿™ä¹ˆå†™</p><pre><code>let object = {}object.test = &apos;test&apos;</code></pre><p>Object.defineProperty ä¹Ÿèƒ½åšåˆ°åŒæ ·çš„æ•ˆæœ</p><pre><code>let object = {}, test = &apos;test&apos;Object.defineProperty(object, &apos;test&apos;, {    configurable: true,            // æè¿°è¯¥å±æ€§çš„æè¿°ç¬¦èƒ½å¦è¢«æ”¹å˜ï¼Œé»˜è®¤å€¼ä¸º false    enumerable: true,               // èƒ½å¦è¢«éå†ï¼Œæ¯”å¦‚ for inï¼Œé»˜è®¤å€¼ä¸º false    get: function(){                // å–å€¼çš„æ—¶å€™è°ƒç”¨ï¼Œobject.testï¼Œé»˜è®¤å€¼ä¸º false        console.log(&apos;enter get&apos;)        return test    },    set: function(newValue){        // è®¾ç½®å€¼çš„æ—¶å€™ä½¿ç”¨        console.log(&apos;enter set&apos;)        test = newValue    }})</code></pre><p>è¿™æ ·å†™è™½ç„¶ä»£ç é‡å¤šäº†ä¸å°‘ï¼Œä½†æ˜¯å´æ‹¥æœ‰äº†æ§åˆ¶å±æ€§å–å€¼å’Œè®¾ç½®å€¼çš„æƒåˆ©ï¼Œè®©æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹ã€‚</p><pre><code> object.test// enter get// testobject.test = &apos;test2&apos;// enter set// test2</code></pre><p>æ¥ç€æˆ‘ä»¬æŠŠ defindProperty è¿™ä¸ªå‡½æ•°å°è£…åŒæ—¶æ”¹é€ ä¸€ä¸‹ï¼Œæ–¹ä¾¿æˆ‘ä»¬è°ƒç”¨</p><pre><code>let callback = {    target: null}let defineReactive = function(object, key, value){    let array = []    Object.defineProperty(object, key, {        configurable: true,        enumerable: true,        get: function(){            if(callback.target){                array.push(callback.target)            }            return value        },        set: function(newValue){            if(newValue != value){                array.forEach((fun)=&gt;fun(newValue, value))            }            value = newValue        }    })}</code></pre><p>å¯ä»¥ä»ä»£ç ä¸­çœ‹å‡ºæ¥ï¼Œæˆ‘åœ¨å‡½æ•°å†…éƒ¨å£°æ˜äº†ä¸€ä¸ªæ•°ç»„ç”¨äºå­˜æ”¾ <strong>callback</strong> ä¸­çš„ <strong>target</strong>ï¼Œå½“å¯¹ <strong>object</strong> è¿›è¡Œ <strong>get</strong> æ“ä½œ(å–å€¼æ“ä½œ)çš„æ—¶å€™ï¼Œå°±ä¼šå¾€ <strong>callback</strong> ä¸­å­˜æ”¾å‡½æ•°ï¼Œè¿›è¡Œ <strong>set</strong> æ“ä½œ(è®¾ç½®å€¼)çš„æ—¶å€™æ‰§è¡Œæ•°ç»„ä¸­çš„å‡½æ•°ã€‚çœ‹çœ‹æ•ˆæœå¦‚ä½•</p><pre><code>let object = {}defineReactive(object, &apos;test&apos;, &apos;test&apos;)callback.target = function(newValue, oldValue){console.log(&apos;æˆ‘è¢«æ·»åŠ è¿›å»äº†ï¼Œæ–°çš„å€¼æ˜¯ï¼š&apos; + newValue)}object.test// testcallback.target = nullobject.test = &apos;test2&apos;// æˆ‘è¢«æ·»åŠ è¿›å»äº†ï¼Œæ–°çš„å€¼æ˜¯ï¼štest2callback.target = function(newValue, oldValue){console.log(&apos;æ·»åŠ ç¬¬äºŒä¸ªå‡½æ•°ï¼Œæ–°çš„å€¼æ˜¯ï¼š&apos; + newValue)}object.test// testcallback.target = nullobject.test = &apos;test3&apos;// æˆ‘è¢«æ·»åŠ è¿›å»äº†ï¼Œæ–°çš„å€¼æ˜¯ï¼štest3// æ·»åŠ ç¬¬äºŒä¸ªå‡½æ•°ï¼Œæ–°çš„å€¼æ˜¯ï¼štest3</code></pre><p>è¿™æ ·æˆ‘ä»¬å°±è¾¾æˆäº†åœ¨ object.test çš„å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œè¿è¡Œä¸€ä¸ªå‡½æ•°é˜Ÿåˆ—ï¼ˆè™½ç„¶è¿™ä¸ªé˜Ÿåˆ—æŒºç®€é™‹çš„ï¼‰çš„ç›®çš„ã€‚</p><p>æ¢ä¸ªè¯´æ³•ï¼Œå½“æˆ‘ä»¬å–å€¼çš„æ—¶å€™ï¼Œå‡½æ•°è‡ªåŠ¨å¸®æˆ‘ä»¬æ·»åŠ äº†é’ˆå¯¹å½“å‰å€¼çš„ä¾èµ–ï¼Œå½“è¿™ä¸ªå€¼å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œå¤„ç†äº†è¿™äº›ä¾èµ–ï¼Œæ¯”å¦‚è¯´ DOM èŠ‚ç‚¹çš„å˜åŒ–ã€‚</p><p>è¿™ä¸ªä¹Ÿæ˜¯ VUE ä¸­å®ç° MVVM çš„æœ€æ ¸å¿ƒçš„ä»£ç ï¼Œå½“ç„¶åœ¨ VUE ä¸­ï¼Œè¿™ä¸ªä¾èµ–æ”¶é›†çš„è¿‡ç¨‹è¿œæ¯”ç°åœ¨çš„ä»£ç è¦å¤æ‚ï¼Œè¿™é‡Œä»…ä»…å®ç°äº†ä¾èµ–çš„æ”¶é›†å’Œè§¦å‘ï¼Œå¯¹äºä¾èµ–çš„ç®¡ç†è¿™é‡Œçš„ä»£ç è¿˜åšä¸åˆ°ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;defineProperty&quot;&gt;&lt;a href=&quot;#defineProperty&quot; class=&quot;headerlink&quot; title=&quot;defineProperty&quot;&gt;&lt;/a&gt;defineProperty&lt;/h2&gt;&lt;p&gt;é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ä¸€ä¸‹ js ä¸­çš„ä¸€ä¸ª AP
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>JavaScriptåˆ›å»ºå¯¹è±¡å’Œå®ç°ç»§æ‰¿</title>
    <link href="https://github.com/luwenchun/luwenchun.github.io/2018/01/09/34JAVASCRIPT%E5%AF%B9%E8%B1%A1/"/>
    <id>https://github.com/luwenchun/luwenchun.github.io/2018/01/09/34JAVASCRIPTå¯¹è±¡/</id>
    <published>2018-01-08T16:00:00.000Z</published>
    <updated>2019-01-10T08:04:39.991Z</updated>
    
    <content type="html"><![CDATA[<h2 id="JavaScriptåˆ›å»ºå¯¹è±¡"><a href="#JavaScriptåˆ›å»ºå¯¹è±¡" class="headerlink" title="JavaScriptåˆ›å»ºå¯¹è±¡"></a>JavaScriptåˆ›å»ºå¯¹è±¡</h2><h3 id="æ„é€ å‡½æ•°æ¨¡å¼åˆ›å»ºå¯¹è±¡"><a href="#æ„é€ å‡½æ•°æ¨¡å¼åˆ›å»ºå¯¹è±¡" class="headerlink" title="æ„é€ å‡½æ•°æ¨¡å¼åˆ›å»ºå¯¹è±¡"></a>æ„é€ å‡½æ•°æ¨¡å¼åˆ›å»ºå¯¹è±¡</h3><pre><code>function Person(name, job) {    this.name = name    this.job = job    this.sayName = function() {        console.log(this.name)    }}var person1 = new Person(â€˜Jiangâ€™, â€˜studentâ€™)var person2 = new Person(â€˜Xâ€™, â€˜Doctorâ€™)</code></pre><p>æ²¡æœ‰æ˜¾ç¤ºçš„åˆ›å»ºå¯¹è±¡ï¼Œä½¿ç”¨newæ¥è°ƒç”¨è¿™ä¸ªæ„é€ å‡½æ•°ï¼Œä½¿ç”¨newåä¼šè‡ªåŠ¨æ‰§è¡Œå¦‚ä¸‹æ“ä½œ</p><pre><code>åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡è¿™ä¸ªæ–°å¯¹è±¡ä¼šè¢«æ‰§è¡Œ[[prototype]]é“¾æ¥è¿™ä¸ªæ–°å¯¹è±¡ä¼šç»‘å®šåˆ°å‡½æ•°è°ƒç”¨çš„thisè¿”å›è¿™ä¸ªå¯¹è±¡</code></pre><p>ä½¿ç”¨è¿™ä¸ªæ–¹å¼åˆ›å»ºå¯¹è±¡å¯ä»¥æ£€æµ‹å¯¹è±¡ç±»å‹</p><pre><code>person1 instanceof Object // trueperson1 instanceof Person //true</code></pre><p>ä½†æ˜¯ä½¿ç”¨æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡ï¼Œæ¯ä¸ªæ–¹æ³•éƒ½è¦åœ¨æ¯ä¸ªå®ä¾‹ä¸Šé‡æ–°åˆ›å»ºä¸€æ¬¡</p><h3 id="åŸå‹æ¨¡å¼åˆ›å»ºå¯¹è±¡"><a href="#åŸå‹æ¨¡å¼åˆ›å»ºå¯¹è±¡" class="headerlink" title="åŸå‹æ¨¡å¼åˆ›å»ºå¯¹è±¡"></a>åŸå‹æ¨¡å¼åˆ›å»ºå¯¹è±¡</h3><pre><code>function Person() {}Person.prototype.name = â€˜Jiangâ€™Person.prototype.job = â€˜studentâ€™Person.prototype.sayName = function() {console.log(this.name)}var person1 = new Person()</code></pre><p>å°†ä¿¡æ¯ç›´æ¥æ·»åŠ åˆ°åŸå‹å¯¹è±¡ä¸Šã€‚ä½¿ç”¨åŸå‹çš„å¥½å¤„æ˜¯å¯ä»¥è®©æ‰€æœ‰çš„å®ä¾‹å¯¹è±¡å…±äº«å®ƒæ‰€åŒ…å«çš„å±æ€§å’Œæ–¹æ³•ï¼Œä¸å¿…åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰å¯¹è±¡å®ä¾‹ä¿¡æ¯ã€‚</p><p>åŸå‹æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µï¼Œåœ¨ä¸€ç¯‡æ–‡ç« çœ‹æ‡‚protoå’Œprototypeçš„å…³ç³»åŠåŒºåˆ«ä¸­è®²çš„éå¸¸è¯¦ç»†</p><p>æ›´ç®€å•çš„å†™æ³•</p><pre><code>function Person() {}Person.prototype = {name: â€˜jiangâ€™,job: â€˜studentâ€™,sayName: function() {    console.log(this.name)}}var person1 = new Person()</code></pre><p>å°†Person.prototypeè®¾ç½®ä¸ºç­‰äºä¸€ä¸ªä»¥å¯¹è±¡å­—é¢é‡å½¢å¼åˆ›å»ºçš„å¯¹è±¡ï¼Œä½†æ˜¯ä¼šå¯¼è‡´.constructorä¸åœ¨æŒ‡å‘Personäº†ã€‚</p><p>ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œå®Œå…¨é‡å†™äº†é»˜è®¤çš„Person.prototypeå¯¹è±¡ï¼Œå› æ­¤ .constructorä¹Ÿä¸ä¼šå­˜åœ¨è¿™é‡Œ</p><p>Person.prototype.constructor === Person  // false<br>å¦‚æœéœ€è¦è¿™ä¸ªå±æ€§çš„è¯ï¼Œå¯ä»¥æ‰‹åŠ¨æ·»åŠ </p><pre><code>function Person() {}Person.prototype = {    constructorï¼šPerson    name: â€˜jiangâ€™,    job: â€˜studentâ€™,    sayName: function() {        console.log(this.name)    }}</code></pre><p>ä¸è¿‡è¿™ç§æ–¹å¼è¿˜æ˜¯ä¸å¤Ÿå¥½ï¼Œåº”ä¸ºconstructorå±æ€§é»˜è®¤æ˜¯ä¸å¯æšä¸¾çš„ï¼Œè¿™æ ·ç›´æ¥è®¾ç½®ï¼Œå®ƒå°†æ˜¯å¯æšä¸¾çš„ã€‚æ‰€ä»¥å¯ä»¥æ—¶å€™ï¼ŒObject.definePropertyæ–¹æ³•</p><pre><code>Object.defineProperty(Person.prototype, â€˜constructorâ€™, {enumerable: false,value: Person})</code></pre><p>ç¼ºç‚¹ä½¿ç”¨åŸå‹ï¼Œæ‰€æœ‰çš„å±æ€§éƒ½å°†è¢«å…±äº«ï¼Œè¿™æ˜¯ä¸ªå¾ˆå¤§çš„ä¼˜ç‚¹ï¼ŒåŒæ ·ä¼šå¸¦æ¥ä¸€äº›ç¼ºç‚¹</p><p>åŸå‹ä¸­æ‰€æœ‰å±æ€§å®ä¾‹æ˜¯è¢«å¾ˆå¤šå®ä¾‹å…±äº«çš„ï¼Œè¿™ç§å…±äº«å¯¹äºå‡½æ•°éå¸¸åˆé€‚ã€‚å¯¹äºé‚£äº›åŒ…å«åŸºæœ¬å€¼çš„å±æ€§ä¹Ÿå‹‰å¼ºå¯ä»¥ï¼Œæ¯•ç«Ÿå®ä¾‹å±æ€§å¯ä»¥å±è”½åŸå‹å±æ€§ã€‚ä½†æ˜¯å¼•ç”¨ç±»å‹å€¼ï¼Œå°±ä¼šå‡ºç°é—®é¢˜äº†</p><pre><code>function Person() {}Person.prototype = {    name: â€˜jiangâ€™,    friends: [â€˜Shelbyâ€™, â€˜Courtâ€™]}var person1 = new Person()var person2 = new Person()person1.friends.push(â€˜Vanâ€™)console.log(person1.friends) //[â€œShelbyâ€, â€œCourtâ€, â€œVanâ€]console.log(person2.friends) //[â€œShelbyâ€, â€œCourtâ€, â€œVanâ€]console.log(person1.friends === person2.friends) // true</code></pre><p>friendså­˜åœ¨ä¸åŸå‹ä¸­ï¼Œå®ä¾‹person1å’Œperson2æŒ‡å‘åŒä¸€ä¸ªåŸå‹ï¼Œperson1ä¿®æ”¹äº†å¼•ç”¨çš„æ•°ç»„ï¼Œä¹Ÿä¼šååº”åˆ°å®ä¾‹person2ä¸­</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;JavaScriptåˆ›å»ºå¯¹è±¡&quot;&gt;&lt;a href=&quot;#JavaScriptåˆ›å»ºå¯¹è±¡&quot; class=&quot;headerlink&quot; title=&quot;JavaScriptåˆ›å»ºå¯¹è±¡&quot;&gt;&lt;/a&gt;JavaScriptåˆ›å»ºå¯¹è±¡&lt;/h2&gt;&lt;h3 id=&quot;æ„é€ å‡½æ•°æ¨¡å¼åˆ›å»ºå¯¹è±¡&quot;&gt;&lt;a hr
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ä»å¤´å®ç°ä¸€ä¸ªkoaæ¡†æ¶</title>
    <link href="https://github.com/luwenchun/luwenchun.github.io/2018/01/09/22koa%E6%A1%86%E6%9E%B6/"/>
    <id>https://github.com/luwenchun/luwenchun.github.io/2018/01/09/22koaæ¡†æ¶/</id>
    <published>2018-01-08T16:00:00.000Z</published>
    <updated>2019-01-10T08:09:11.329Z</updated>
    
    <content type="html"><![CDATA[<p>çœ‹å®Œä¹‹åç”šæ˜¯è†œæ‹œï¼Œå†³å®šæ”¶è—è®°å½•ä¸‹ï¼Œå¼•ç”¨åœ°å€<a href="https://zhuanlan.zhihu.com/p/35040744" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/35040744</a></p><p>ç¬”è€…è®¤ä¸ºï¼Œç†è§£koaï¼Œä¸»è¦éœ€è¦ææ‡‚å››æ¡ä¸»çº¿ï¼Œå…¶å®ä¹Ÿæ˜¯å®ç°koaçš„å››ä¸ªæ­¥éª¤ï¼Œ</p><p>   åˆ†åˆ«æ˜¯ï¼š</p><pre><code>1. å°è£…node http Server2. æ„é€ resquest, response, contextå¯¹è±¡3. ä¸­é—´ä»¶æœºåˆ¶4. é”™è¯¯å¤„ç†</code></pre><h4 id="ä¸»çº¿ä¸€ï¼šå°è£…node-http-Server-ä»hello-worldè¯´èµ·"><a href="#ä¸»çº¿ä¸€ï¼šå°è£…node-http-Server-ä»hello-worldè¯´èµ·" class="headerlink" title="ä¸»çº¿ä¸€ï¼šå°è£…node http Server: ä»hello worldè¯´èµ·"></a>ä¸»çº¿ä¸€ï¼šå°è£…node http Server: ä»hello worldè¯´èµ·</h4><p>é¦–å…ˆï¼Œä¸è€ƒè™‘æ¡†æ¶ï¼Œå¦‚æœä½¿ç”¨åŸç”Ÿhttpæ¨¡å—æ¥å®ç°ä¸€ä¸ªè¿”å›hello worldçš„åç«¯appï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code>let http = require(&apos;http&apos;);let server = http.createServer((req, res) =&gt; {    res.writeHead(200);    res.end(&apos;hello world&apos;);});server.listen(3000, () =&gt; {    console.log(&apos;listenning on 3000&apos;);});</code></pre><p>å®ç°koaçš„ç¬¬ä¸€æ­¥ï¼Œå°±æ˜¯å¯¹è¿™ä¸ªåŸç”Ÿçš„è¿‡ç¨‹è¿›è¡Œå°è£…ï¼Œä¸ºæ­¤ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ›å»ºapplication.jså®ç°ä¸€ä¸ªApplicationå¯¹è±¡ï¼š</p><pre><code>// application.jslet http = require(&apos;http&apos;);class Application {    /**    * æ„é€ å‡½æ•°    */    constructor() {        this.callbackFunc;    }    /**    * å¼€å¯http serverå¹¶ä¼ å…¥callback    */    listen(...args) {        let server = http.createServer(this.callback());        server.listen(...args);    }    /**    * æŒ‚è½½å›è°ƒå‡½æ•°    * @param {Function} fn å›è°ƒå¤„ç†å‡½æ•°    */    use(fn) {        this.callbackFunc = fn;    }    /**    * è·å–http serveræ‰€éœ€çš„callbackå‡½æ•°    * @return {Function} fn    */    callback() {        return (req, res) =&gt; {            this.callbackFunc(req, res);        };    }}module.exports = Application;</code></pre><p>ç„¶ååˆ›å»ºexample.js:</p><pre><code>let simpleKoa = require(&apos;./application&apos;);let app = new simpleKoa();app.use((req, res) =&gt; {    res.writeHead(200);    res.end(&apos;hello world&apos;);});app.listen(3000, () =&gt; {    console.log(&apos;listening on 3000&apos;);});</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å·²ç»åˆæ­¥å®Œæˆäº†å¯¹äºhttp serverçš„å°è£…ï¼Œä¸»è¦å®ç°äº†app.useæ³¨å†Œå›è°ƒå‡½æ•°ï¼Œapp.listenè¯­æ³•ç³–å¼€å¯serverå¹¶ä¼ å…¥å›è°ƒå‡½æ•°äº†ï¼Œå…¸å‹çš„koaé£æ ¼ã€‚</p><p>ä½†æ˜¯ç¾ä¸­ä¸è¶³çš„æ˜¯ï¼Œæˆ‘ä»¬ä¼ å…¥çš„å›è°ƒå‡½æ•°ï¼Œå‚æ•°ä¾ç„¶ä½¿ç”¨çš„æ˜¯reqå’Œresï¼Œä¹Ÿå°±æ˜¯nodeåŸç”Ÿçš„requestå’Œresponseå¯¹è±¡ï¼Œè¿™äº›åŸç”Ÿå¯¹è±¡å’Œapiæä¾›çš„æ–¹æ³•ä¸å¤Ÿä¾¿æ·ï¼Œä¸ç¬¦åˆä¸€ä¸ªæ¡†æ¶éœ€è¦æä¾›çš„æ˜“ç”¨æ€§ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦è¿›å…¥ç¬¬äºŒæ¡ä¸»çº¿äº†ã€‚</p><h4 id="ä¸»çº¿äºŒï¼šæ„é€ request-response-contextå¯¹è±¡"><a href="#ä¸»çº¿äºŒï¼šæ„é€ request-response-contextå¯¹è±¡" class="headerlink" title="ä¸»çº¿äºŒï¼šæ„é€ request, response, contextå¯¹è±¡"></a>ä¸»çº¿äºŒï¼šæ„é€ request, response, contextå¯¹è±¡</h4><p>å¦‚æœé˜…è¯»koaæ–‡æ¡£ï¼Œä¼šå‘ç°koaæœ‰ä¸‰ä¸ªé‡è¦çš„å¯¹è±¡ï¼Œåˆ†åˆ«æ˜¯request, response, contextã€‚å…¶ä¸­requestæ˜¯å¯¹nodeåŸç”Ÿçš„requestçš„å°è£…ï¼Œresponseæ˜¯å¯¹nodeåŸç”Ÿresponseå¯¹è±¡çš„å°è£…ï¼Œcontextå¯¹è±¡åˆ™æ˜¯å›è°ƒå‡½æ•°ä¸Šä¸‹æ–‡å¯¹è±¡ï¼ŒæŒ‚è½½äº†koa requestå’Œresponseå¯¹è±¡ã€‚ä¸‹é¢æˆ‘ä»¬ä¸€ä¸€æ¥è¯´æ˜ã€‚</p><p>é¦–å…ˆè¦æ˜ç¡®çš„æ˜¯ï¼Œå¯¹äºkoaçš„requestå’Œresponseå¯¹è±¡ï¼Œåªæ˜¯æä¾›äº†å¯¹nodeåŸç”Ÿrequestå’Œresponseå¯¹è±¡çš„ä¸€äº›æ–¹æ³•çš„å°è£…ï¼Œæ˜ç¡®äº†è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬çš„æ€è·¯æ˜¯ï¼Œä½¿ç”¨jsçš„getterå’Œsetterå±æ€§ï¼ŒåŸºäºnodeçš„å¯¹è±¡req/reså¯¹è±¡å°è£…koaçš„request/responseå¯¹è±¡ã€‚</p><p>è§„åˆ’ä¸€ä¸‹æˆ‘ä»¬è¦å°è£…å“ªäº›æ˜“ç”¨çš„æ–¹æ³•ã€‚è¿™é‡Œåœ¨æ–‡ç« ä¸­ä¸ºäº†æ˜“æ‡‚ï¼Œå§‘ä¸”åªå®ç°ä»¥ä¸‹æ–¹æ³•ï¼š</p><p>å¯¹äºsimpleKoa requestå¯¹è±¡ï¼Œå®ç°queryè¯»å–æ–¹æ³•ï¼Œèƒ½å¤Ÿè¯»å–åˆ°urlä¸­çš„å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡ã€‚</p><p>å¯¹äºsimpleKoa responseå¯¹è±¡ï¼Œå®ç°statusè¯»å†™æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯è¯»å–å’Œè®¾ç½®http responseçš„çŠ¶æ€ç ï¼Œä»¥åŠbodyæ–¹æ³•ï¼Œç”¨äºæ„é€ è¿”å›ä¿¡æ¯ã€‚</p><p>è€ŒsimpleKoa contextå¯¹è±¡ï¼Œåˆ™æŒ‚è½½äº†requestå’Œresponseå¯¹è±¡ï¼Œå¹¶å¯¹ä¸€äº›å¸¸ç”¨æ–¹æ³•è¿›è¡Œäº†ä»£ç†ã€‚</p><p>é¦–å…ˆåˆ›å»ºrequest.js:</p><pre><code>// request.jslet url = require(&apos;url&apos;);module.exports = {    get query() {        return url.parse(this.req.url, true).query;    }};</code></pre><p>å¾ˆç®€å•ï¼Œå°±æ˜¯å¯¼å‡ºäº†ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«äº†ä¸€ä¸ªqueryçš„è¯»å–æ–¹æ³•ï¼Œé€šè¿‡url.parseæ–¹æ³•è§£æurlä¸­çš„å‚æ•°ï¼Œå¹¶ä»¥å¯¹è±¡çš„å½¢å¼è¿”å›ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä»£ç ä¸­çš„this.reqä»£è¡¨çš„æ˜¯nodeçš„åŸç”Ÿrequestå¯¹è±¡ï¼Œthis.req.urlå°±æ˜¯nodeåŸç”Ÿrequestä¸­è·å–urlçš„æ–¹æ³•ã€‚ç¨åæˆ‘ä»¬ä¿®æ”¹application.jsçš„æ—¶å€™ï¼Œä¼šä¸ºkoaçš„requestå¯¹è±¡æŒ‚è½½è¿™ä¸ªreqã€‚</p><p>ç„¶ååˆ›å»ºresponse.js:</p><pre><code>// response.jsmodule.exports = {    get body() {        return this._body;    },    /**    * è®¾ç½®è¿”å›ç»™å®¢æˆ·ç«¯çš„bodyå†…å®¹    *    * @param {mixed} data bodyå†…å®¹    */    set body(data) {        this._body = data;    },    get status() {        return this.res.statusCode;    },    /**    * è®¾ç½®è¿”å›ç»™å®¢æˆ·ç«¯çš„stausCode    *    * @param {number} statusCode çŠ¶æ€ç     */    set status(statusCode) {        if (typeof statusCode !== &apos;number&apos;) {            throw new Error(&apos;statusCode must be a number!&apos;);        }        this.res.statusCode = statusCode;    }};</code></pre><p>statusè¯»å†™æ–¹æ³•åˆ†åˆ«è®¾ç½®æˆ–è¯»å–this.res.statusCodeã€‚åŒæ ·çš„ï¼Œè¿™ä¸ªthis.resæ˜¯æŒ‚è½½çš„nodeåŸç”Ÿresponseå¯¹è±¡ã€‚è€Œbodyè¯»å†™æ–¹æ³•åˆ†åˆ«è®¾ç½®ã€è¯»å–ä¸€ä¸ªåä¸ºthis._bodyçš„å±æ€§ã€‚è¿™é‡Œè®¾ç½®bodyçš„æ—¶å€™å¹¶æ²¡æœ‰ç›´æ¥è°ƒç”¨this.res.endæ¥è¿”å›ä¿¡æ¯ï¼Œè¿™æ˜¯è€ƒè™‘åˆ°koaå½“ä¸­æˆ‘ä»¬å¯èƒ½ä¼šå¤šæ¬¡è°ƒç”¨responseçš„bodyæ–¹æ³•è¦†ç›–æ€§è®¾ç½®æ•°æ®ã€‚çœŸæ­£çš„è¿”å›æ¶ˆæ¯æ“ä½œä¼šåœ¨application.jsä¸­å­˜åœ¨ã€‚</p><p>ç„¶åæˆ‘ä»¬åˆ›å»ºcontext.jsæ–‡ä»¶ï¼Œæ„é€ contextå¯¹è±¡çš„åŸå‹ï¼š</p><pre><code>// context.jsmodule.exports = {    get query() {        return this.request.query;    },    get body() {        return this.response.body;    },    set body(data) {        this.response.body = data;    },    get status() {        return this.response.status;    },    set status(statusCode) {        this.response.status = statusCode;    }};</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;çœ‹å®Œä¹‹åç”šæ˜¯è†œæ‹œï¼Œå†³å®šæ”¶è—è®°å½•ä¸‹ï¼Œå¼•ç”¨åœ°å€&lt;a href=&quot;https://zhuanlan.zhihu.com/p/35040744&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://zhuanlan.zhihu.com/p/35040744
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>JavaScriptä¹‹é—­åŒ…</title>
    <link href="https://github.com/luwenchun/luwenchun.github.io/2017/12/29/42Javascript%E4%B9%8B%E9%97%AD%E5%8C%85/"/>
    <id>https://github.com/luwenchun/luwenchun.github.io/2017/12/29/42Javascriptä¹‹é—­åŒ…/</id>
    <published>2017-12-28T16:00:00.000Z</published>
    <updated>2019-01-10T08:03:53.375Z</updated>
    
    <content type="html"><![CDATA[<p>é¢è¯•å½“ä¸­æ€»è§‰å¾—è‡ªå·±ä¹Ÿä¸æ˜¯ç‰¹åˆ«æ˜ç™½ï¼Œä»Šå¤©è¿‡æ¥æ€»ç»“ä¸€ä¸‹ã€‚</p><h3 id="ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿ</h3><p>JavaScriptçš„é—­åŒ…æ˜¯ä¸€ä¸ªç‰¹è‰²ã€‚å®˜æ–¹è§£é‡Šæ˜¯ï¼šé—­åŒ…æ˜¯ä¸€ä¸ªæ‹¥æœ‰è®¸å¤šå˜é‡å’Œç»‘å®šäº†è¿™äº›å˜é‡çš„ç¯å¢ƒçš„è¡¨è¾¾å¼ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå‡½æ•°ï¼‰ï¼Œå› è€Œè¿™äº›å˜é‡ä¹Ÿæ˜¯è¯¥è¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†ã€‚è¿™å¥è¯ç›¸ä¿¡æœ‰è®¸å¤šäººçœ‹ä¸æ‡‚ã€‚æˆ‘æ¥è¡¨è¿°ä¸€ä¸‹æˆ‘å¯¹JavaScripté—­åŒ…çš„ç†è§£ï¼š</p><p>é—­åŒ…çš„ä¾‹å­ï¼š</p><pre><code>var count=10;//å…¨å±€ä½œç”¨åŸŸ æ ‡è®°ä¸ºflag1function add(){    var count=0;//å‡½æ•°å…¨å±€ä½œç”¨åŸŸ æ ‡è®°ä¸ºflag2    return function(){        count+=1;//å‡½æ•°çš„å†…éƒ¨ä½œç”¨åŸŸ        alert(count);    }}var s=add()s();//è¾“å‡º1s();//è¾“å‡º2</code></pre><p>add()çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé¦–å…ˆç¬¬ä¸€æ¬¡è°ƒç”¨s()çš„æ—¶å€™ï¼Œæ˜¯æ‰§è¡Œadd()çš„è¿”å›çš„å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯ä¸‹é¢è¿™ä¸ªå‡½æ•°ï¼š</p><pre><code>function(){        count+=1;//å‡½æ•°çš„å†…éƒ¨ä½œç”¨åŸŸ        alert(count);}</code></pre><p>ä¹Ÿå°±æ˜¯å°†count+1ï¼Œåœ¨è¾“å‡ºï¼Œé‚£countæ˜¯ä»å“ªå„¿æ¥çš„çš„å‘¢ï¼Œæ ¹æ®ä½œç”¨åŸŸé“¾çš„è§„åˆ™ï¼Œåº•å±‚ä½œç”¨åŸŸæ²¡æœ‰å£°æ˜çš„å˜é‡ï¼Œä¼šå‘ä¸Šä¸€çº§æ‰¾ï¼Œæ‰¾åˆ°å°±è¿”å›ï¼Œæ²¡æ‰¾åˆ°å°±ä¸€ç›´æ‰¾ï¼Œç›´åˆ°windowçš„å˜é‡ï¼Œæ²¡æœ‰å°±è¿”å›undefinedã€‚è¿™é‡Œæ˜æ˜¾count æ˜¯å‡½æ•°å†…éƒ¨çš„flag2 çš„é‚£ä¸ªcount ï¼Œ</p><pre><code>var count=10;//å…¨å±€ä½œç”¨åŸŸfunction add(){    //var count=0;æ³¨é‡Šæ‰äº†    return function(){        count+=1;//å‡½æ•°çš„å†…éƒ¨ä½œç”¨åŸŸ        alert(count);    }}var s=add()s();//è¾“å‡º11s();//è¾“å‡º12</code></pre><p>è‡ªç„¶è¿™æ˜¯ä½“ç°ä¸å‡ºé—­åŒ…çš„æ€§è´¨ï¼Œåªä¸ºäº†è¯´æ˜å‡½æ•°ä½œç”¨åŸŸé“¾ ç»§ç»­è¯´æ˜ï¼šç¬¬ä¸€æ¬¡æ‰§è¡Œï¼Œæ˜¯æ²¡æœ‰ç–‘é—®çš„è¾“å‡º1ï¼Œé‚£ç¬¬äºŒæ¬¡çš„è¿‡ç¨‹æ˜¯æ€æ ·çš„å‘¢ï¼Ÿ ç»§ç»­æ‰§è¡Œé‚£ä¸ªå‡½æ•°çš„è¿”å›çš„æ–¹æ³•ï¼Œè¿˜æ˜¯count+=1;ç„¶åå†è¾“å‡ºcount ï¼Œè¿™é‡Œé—®é¢˜å°±æ¥äº†ï¼Œä¸åº”è¯¥ç»§ç»­å‘ä¸Šå¯»æ‰¾ï¼Œæ‰¾åˆ°count=0ï¼›ç„¶åè¾“å‡º1å—ï¼Ÿä¸çŸ¥é“æœ‰æ²¡æœ‰æ³¨æ„ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯s()æ‰§è¡Œçš„æ˜¯ä¸‹é¢è¿™ä¸ªå‡½æ•°</p><pre><code>function(){        count+=1;//å‡½æ•°çš„å†…éƒ¨ä½œç”¨åŸŸ        alert(count);}</code></pre><p>ä¹Ÿå°±æ˜¯è¯´add()ï¼Œåªè¢«æ‰§è¡Œäº†ä¸€æ¬¡ã€‚ç„¶åæ‰§è¡Œä¸¤æ¬¡s()ï¼Œé‚£countçš„å€¼å°±æ˜¯åªå£°æ˜äº†ä¸€æ¬¡ã€‚</p><p>var s=add()ï¼Œå‡½æ•°add åªåœ¨è¿™é‡Œæ‰§è¡Œäº†ä¸€æ¬¡ã€‚</p><p>ä¸‹é¢æ‰§è¡Œçš„éƒ½æ˜¯s()ï¼Œé‚£ç¬¬äºŒæ¬¡çš„countçš„å€¼æ˜¯ä»å“ªå„¿æ¥çš„ï¼Œæ²¡é”™å®ƒè¿˜æ˜¯ç¬¬ä¸€æ¬¡æ‰§è¡Œaddæ—¶ï¼Œç•™ä¸‹æ¥çš„é‚£ä¸ªå˜é‡ã€‚</p><p>ï¼ˆè¿™æ€ä¹ˆå¯èƒ½ï¼Œå‡½æ•°å˜é‡æ‰§è¡Œå®Œå°±ä¼šè¢«é‡Šæ”¾å•Šï¼Œä¸ºä»€ä¹ˆè¿˜åœ¨ï¼Ÿè¿™é‡Œå°±æ˜¯ä¸€ä¸ªåƒåœ¾å›æ”¶æœºåˆ¶çš„å¼•ç”¨è®¡æ•°é—®é¢˜ï¼‰ã€‚</p><blockquote><p>å¦‚æœä¸€ä¸ªå˜é‡çš„å¼•ç”¨ä¸ä¸º0ï¼Œé‚£ä¹ˆä»–ä¸ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ï¼Œå¼•ç”¨ï¼Œå°±æ˜¯è¢«è°ƒç”¨</p></blockquote><p>ç”±äºå†æ¬¡æ‰§è¡Œs()çš„æ—¶å€™ï¼Œå†æ¬¡å¼•ç”¨äº†ç¬¬ä¸€æ¬¡add()äº§ç”Ÿçš„å˜é‡count ï¼Œæ‰€ä»¥countæ²¡æœ‰è¢«é‡Šæ”¾ï¼Œç¬¬ä¸€æ¬¡s(),count çš„å€¼ä¸º1,ç¬¬äºŒæ¬¡æ‰§è¡Œs()ï¼Œcountçš„å€¼å†åŠ 1ï¼Œè‡ªç„¶å°±æ˜¯2äº†ã€‚</p><p>è®©æˆ‘ä»¬è¿”å›æ¥å†çœ‹çœ‹ï¼Œæ ¹æ®ä»¥ä¸Šæ‰€è¯´ï¼Œå¦‚æœæ‰§è¡Œä¸¤æ¬¡add() ï¼Œé‚£å°±åº”è¯¥è¾“å‡º éƒ½æ˜¯1ï¼Œæ¥æ”¹ä¸€ä¸‹è¿™ä¸ªå‡½æ•°</p><pre><code>function add(){    var count=0;//å‡½æ•°å…¨å±€ä½œç”¨åŸŸ    return function(){        count+=1;//å‡½æ•°çš„å†…éƒ¨ä½œç”¨åŸŸ        alert(count);    }}add()();//è¾“å‡º1add()();//è¾“å‡º1</code></pre><p>æœçœŸå¦‚æ­¤ã€‚è¾“å‡ºçš„ä¸¤æ¬¡éƒ½æ˜¯1.</p><p>å¦å¤–ï¼Œæˆ‘è§‰å¾—é˜®ä¸€å³°è¯´çš„é—­åŒ…ä¹Ÿæ˜¯å¾ˆç®€æ´çš„ï¼šâ€œæˆ‘çš„ç†è§£æ˜¯ï¼Œé—­åŒ…å°±æ˜¯èƒ½å¤Ÿè¯»å–å…¶ä»–å‡½æ•°å†…éƒ¨å˜é‡çš„å‡½æ•°ã€‚â€</p><h3 id="å˜é‡çš„ä½œç”¨åŸŸ"><a href="#å˜é‡çš„ä½œç”¨åŸŸ" class="headerlink" title="å˜é‡çš„ä½œç”¨åŸŸ"></a>å˜é‡çš„ä½œç”¨åŸŸ</h3><p>è¦ç†è§£é—­åŒ…ï¼Œé¦–å…ˆå¿…é¡»ç†è§£Javascriptç‰¹æ®Šçš„å˜é‡ä½œç”¨åŸŸã€‚</p><p>å˜é‡çš„ä½œç”¨åŸŸæ— éå°±æ˜¯ä¸¤ç§ï¼šå…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡ã€‚</p><p>Javascriptè¯­è¨€çš„ç‰¹æ®Šä¹‹å¤„ï¼Œå°±åœ¨äºå‡½æ•°å†…éƒ¨å¯ä»¥ç›´æ¥è¯»å–å…¨å±€å˜é‡ã€‚</p><p>Jsä»£ç </p><pre><code>ã€€ã€€var n=999;ã€€ã€€function f1(){ã€€ã€€ã€€ã€€alert(n);ã€€ã€€}ã€€ã€€f1(); // 999</code></pre><p>å¦ä¸€æ–¹é¢ï¼Œåœ¨å‡½æ•°å¤–éƒ¨è‡ªç„¶æ— æ³•è¯»å–å‡½æ•°å†…çš„å±€éƒ¨å˜é‡ã€‚</p><pre><code>ã€€  function f1(){ã€€ã€€ã€€ã€€var n=999;ã€€ã€€}ã€€ã€€alert(n); // error</code></pre><p>è¿™é‡Œæœ‰ä¸€ä¸ªåœ°æ–¹éœ€è¦æ³¨æ„ï¼Œå‡½æ•°å†…éƒ¨å£°æ˜å˜é‡çš„æ—¶å€™ï¼Œä¸€å®šè¦ä½¿ç”¨varå‘½ä»¤ã€‚å¦‚æœä¸ç”¨çš„è¯ï¼Œä½ å®é™…ä¸Šå£°æ˜äº†ä¸€ä¸ªå…¨å±€å˜é‡ï¼</p><pre><code>ã€€ã€€function f1(){ã€€ã€€ã€€ã€€n=999;ã€€ã€€}ã€€ã€€f1();ã€€ã€€alert(n); // 999   </code></pre><p>æœ‰æ—¶å€™éœ€è¦å¾—åˆ°å‡½æ•°å†…çš„å±€éƒ¨å˜é‡ï¼Œåœ¨å‡½æ•°çš„å†…éƒ¨ï¼Œå†å®šä¹‰ä¸€ä¸ªå‡½æ•°ã€‚</p><pre><code>function f1(){    ã€€ã€€ã€€ã€€n=999;    ã€€ã€€ã€€ã€€function f2(){    ã€€ã€€ã€€ã€€ã€€ã€€alert(n); // 999    ã€€ã€€ã€€ã€€}    ã€€ã€€}</code></pre><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå‡½æ•°f2å°±è¢«åŒ…æ‹¬åœ¨å‡½æ•°f1å†…éƒ¨ï¼Œè¿™æ—¶f1å†…éƒ¨çš„æ‰€æœ‰å±€éƒ¨å˜é‡ï¼Œå¯¹f2éƒ½æ˜¯å¯è§çš„ã€‚ä½†æ˜¯åè¿‡æ¥å°±ä¸è¡Œï¼Œf2å†…éƒ¨çš„å±€éƒ¨å˜é‡ï¼Œå¯¹f1 å°±æ˜¯ä¸å¯è§çš„ã€‚è¿™å°±æ˜¯Javascriptè¯­è¨€ç‰¹æœ‰çš„â€œé“¾å¼ä½œç”¨åŸŸâ€ç»“æ„ï¼ˆchain scopeï¼‰ï¼Œå­å¯¹è±¡ä¼šä¸€çº§ä¸€çº§åœ°å‘ä¸Šå¯»æ‰¾æ‰€æœ‰çˆ¶å¯¹è±¡çš„å˜é‡ã€‚æ‰€ä»¥ï¼Œçˆ¶å¯¹è±¡çš„æ‰€æœ‰å˜é‡ï¼Œå¯¹å­å¯¹è±¡éƒ½æ˜¯å¯è§çš„ï¼Œåä¹‹åˆ™ä¸æˆç«‹ã€‚</p><p>æ—¢ç„¶f2å¯ä»¥è¯»å–f1ä¸­çš„å±€éƒ¨å˜é‡ï¼Œé‚£ä¹ˆåªè¦æŠŠf2ä½œä¸ºè¿”å›å€¼å°±å¯ä»¥åœ¨f1å¤–éƒ¨è¯»å–å®ƒçš„å†…éƒ¨å˜é‡äº†</p><pre><code>    ã€€function f1(){    ã€€ã€€ã€€ã€€n=999;    ã€€ã€€ã€€ã€€function f2(){    ã€€ã€€ã€€ã€€ã€€ã€€alert(n);    ã€€ã€€ã€€ã€€}    ã€€ã€€ã€€ã€€return f2;    ã€€ã€€}    ã€€ã€€var result=f1();    ã€€ã€€result(); // 999</code></pre><h3 id="ä½¿ç”¨é—­åŒ…çš„æ³¨æ„ç‚¹"><a href="#ä½¿ç”¨é—­åŒ…çš„æ³¨æ„ç‚¹" class="headerlink" title="ä½¿ç”¨é—­åŒ…çš„æ³¨æ„ç‚¹"></a>ä½¿ç”¨é—­åŒ…çš„æ³¨æ„ç‚¹</h3><ul><li><p>ç”±äºé—­åŒ…ä¼šä½¿å¾—å‡½æ•°ä¸­çš„å˜é‡éƒ½è¢«ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œå†…å­˜æ¶ˆè€—å¾ˆå¤§ï¼Œæ‰€ä»¥ä¸èƒ½æ»¥ç”¨é—­åŒ…ï¼Œå¦åˆ™ä¼šé€ æˆç½‘é¡µçš„æ€§èƒ½é—®é¢˜ï¼Œåœ¨IEä¸­å¯èƒ½å¯¼è‡´å†…å­˜æ³„éœ²ã€‚è§£å†³æ–¹æ³•æ˜¯ï¼Œåœ¨é€€å‡ºå‡½æ•°ä¹‹å‰ï¼Œå°†ä¸ä½¿ç”¨çš„å±€éƒ¨å˜é‡å…¨éƒ¨åˆ é™¤ã€‚</p></li><li><p>é—­åŒ…ä¼šåœ¨çˆ¶å‡½æ•°å¤–éƒ¨ï¼Œæ”¹å˜çˆ¶å‡½æ•°å†…éƒ¨å˜é‡çš„å€¼ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ æŠŠçˆ¶å‡½æ•°å½“ä½œå¯¹è±¡ï¼ˆobjectï¼‰ä½¿ç”¨ï¼ŒæŠŠé—­åŒ…å½“ä½œå®ƒçš„å…¬ç”¨æ–¹æ³•ï¼ˆPublic Methodï¼‰ï¼ŒæŠŠå†…éƒ¨å˜é‡å½“ä½œå®ƒçš„ç§æœ‰å±æ€§ï¼ˆprivate valueï¼‰ï¼Œè¿™æ—¶ä¸€å®šè¦å°å¿ƒï¼Œä¸è¦éšä¾¿<strong>æ”¹å˜çˆ¶å‡½æ•°å†…éƒ¨å˜é‡çš„å€¼ã€‚</strong></p></li></ul><p>###é—­åŒ…çš„ç”¨é€”</p><p>1ã€å‰é¢æåˆ°çš„å¯ä»¥è¯»å–å‡½æ•°å†…éƒ¨çš„å˜é‡</p><p>2ã€è®©è¿™äº›å˜é‡çš„å€¼å§‹ç»ˆä¿æŒåœ¨å†…å­˜ä¸­ã€‚</p><p>æ€ä¹ˆæ¥ç†è§£è¿™å¥è¯å‘¢ï¼Ÿè¯·çœ‹ä¸‹é¢çš„ä»£ç ã€‚</p><pre><code>    ã€€function f1(){    ã€€ã€€ã€€ã€€var n=999;    ã€€ã€€ã€€ã€€nAdd=function(){n+=1}    ã€€ã€€ã€€ã€€function f2(){    ã€€ã€€ã€€ã€€ã€€ã€€alert(n);    ã€€ã€€ã€€ã€€}    ã€€ã€€ã€€ã€€return f2;    ã€€ã€€}    ã€€ã€€var result=f1();    ã€€ã€€result(); // 999    ã€€ã€€nAdd();    ã€€ã€€result(); // 1000</code></pre><p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œresultå®é™…ä¸Šå°±æ˜¯é—­åŒ…f2å‡½æ•°ã€‚å®ƒä¸€å…±è¿è¡Œäº†ä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡çš„å€¼æ˜¯999ï¼Œç¬¬äºŒæ¬¡çš„å€¼æ˜¯1000ã€‚è¿™è¯æ˜äº†ï¼Œå‡½æ•°f1ä¸­çš„å±€éƒ¨å˜é‡nä¸€ç›´ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œå¹¶æ²¡æœ‰åœ¨f1è°ƒç”¨åè¢«è‡ªåŠ¨æ¸…é™¤ã€‚</p><p>ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼ŸåŸå› å°±åœ¨äºf1æ˜¯f2çš„çˆ¶å‡½æ•°ï¼Œè€Œf2è¢«èµ‹ç»™äº†ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œè¿™å¯¼è‡´f2å§‹ç»ˆåœ¨å†…å­˜ä¸­ï¼Œè€Œf2çš„å­˜åœ¨ä¾èµ–äºf1ï¼Œå› æ­¤f1ä¹Ÿå§‹ç»ˆåœ¨å†…å­˜ä¸­ï¼Œä¸ä¼šåœ¨è°ƒç”¨ç»“æŸåï¼Œè¢«åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆgarbage collectionï¼‰å›æ”¶ã€‚</p><p>è¿™æ®µä»£ç ä¸­å¦ä¸€ä¸ªå€¼å¾—æ³¨æ„çš„åœ°æ–¹ï¼Œå°±æ˜¯â€œnAdd=function(){n+=1}â€è¿™ä¸€è¡Œï¼Œé¦–å…ˆåœ¨nAddå‰é¢æ²¡æœ‰ä½¿ç”¨varå…³é”®å­—ï¼Œå› æ­¤ nAddæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œè€Œä¸æ˜¯å±€éƒ¨å˜é‡ã€‚å…¶æ¬¡ï¼ŒnAddçš„å€¼æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼ˆanonymous functionï¼‰ï¼Œè€Œè¿™ä¸ªåŒ¿åå‡½æ•°æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œæ‰€ä»¥nAddç›¸å½“äºæ˜¯ä¸€ä¸ªsetterï¼Œå¯ä»¥åœ¨å‡½æ•°å¤–éƒ¨å¯¹å‡½æ•°å†…éƒ¨çš„å±€éƒ¨å˜é‡è¿›è¡Œæ“ä½œã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;é¢è¯•å½“ä¸­æ€»è§‰å¾—è‡ªå·±ä¹Ÿä¸æ˜¯ç‰¹åˆ«æ˜ç™½ï¼Œä»Šå¤©è¿‡æ¥æ€»ç»“ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;h3 id=&quot;ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿ&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿ&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿ&lt;/h3&gt;&lt;p&gt;JavaScriptçš„é—­åŒ…æ˜¯ä¸€ä¸ªç‰¹è‰²ã€‚å®˜
      
    
    </summary>
    
    
  </entry>
  
</feed>
